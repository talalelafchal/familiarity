Value not equal to nil crashes program with &quot;unexpectedly found nil while unwrapping an Optional value&quot;
I am trying to set the background color for an NSView using this code: @IBOutlet weak var DrawingView: NSView! override func viewDidLoad() { super.viewDidLoad() DrawingView.wantsLayer = true } override func awakeFromNib() { super.awakeFromNib() DrawingView.layer?.backgroundColor = NSColor.white.cgColor//crashes here } The @IBOutlet is connected, but whenever I call DrawingView.layer, the program crashes with: "unexpectedly found nil when unwrapping an optional value" even in a print statement. If I use the console to print DrawingView.layer, it comes back with. (CALayer?) $R2 = 0x0000608000049930 { ObjectiveC.NSObject = {} } so we should know that the layer is not nil, and yet the error happens when I resume the program I also tried using ViewWillAppear() instead of awakeFromNib(), but the result is the same both ways. I swear I have done this a thousand times without any issues, but is there anything that could cause this strange error? stack trace: 0 libswiftCore.dylib 0x00000001002f3cc0 swift_reportError + 132 1 libswiftCore.dylib 0x0000000100311070 _swift_stdlib_reportFatalError + 61 2 libswiftCore.dylib 0x00000001001070a0 specialized specialized StaticString.withUTF8Buffer<A> ((UnsafeBufferPointer<UInt8>) -> A) -> A + 355 3 libswiftCore.dylib 0x0000000100283210 partial apply for (_fatalErrorMessage(StaticString, StaticString, StaticString, UInt, flags : UInt32) -> Never).(closure #2) + 109 4 libswiftCore.dylib 0x00000001001070a0 specialized specialized StaticString.withUTF8Buffer<A> ((UnsafeBufferPointer<UInt8>) -> A) -> A + 355 5 libswiftCore.dylib 0x000000010023b3d0 specialized _fatalErrorMessage(StaticString, StaticString, StaticString, UInt, flags : UInt32) -> Never + 96 6 ReeperG levelmaker 0x0000000100001e00 ViewController.awakeFromNib() -> () + 177 7 ReeperG levelmaker 0x0000000100002050 @objc ViewController.awakeFromNib() -> () + 34 8 CoreFoundation 0x00007fffcc7012e0 -[NSSet makeObjectsPerformSelector:] + 217 9 AppKit 0x00007fffca353771 -[NSIBObjectData nibInstantiateWithOwner:options:topLevelObjects:] + 1442 10 AppKit 0x00007fffca45bd46 -[NSNib _instantiateNibWithExternalNameTable:options:] + 696 11 AppKit 0x00007fffca45bba3 -[NSNib _instantiateWithOwner:options:topLevelObjects:] + 143 12 AppKit 0x00007fffcab1069b -[NSStoryboard instantiateControllerWithIdentifier:] + 234 13 AppKit 0x00007fffca812d46 -[NSStoryboardSegueTemplate _perform:] + 70 14 AppKit 0x00007fffca3cbaf3 -[NSViewController _loadViewIfRequired] + 300 15 AppKit 0x00007fffca3cba8b -[NSViewController view] + 30 16 AppKit 0x00007fffca563760 -[NSWindow _contentViewControllerChanged] + 109 17 Foundation 0x00007fffce129bb8 -[NSObject(NSKeyValueCoding) setValue:forKey:] + 329 18 AppKit 0x00007fffca5ab2a0 -[NSWindow setValue:forKey:] + 112 19 AppKit 0x00007fffca5aafb6 -[NSIBUserDefinedRuntimeAttributesConnector establishConnection] + 694 20 AppKit 0x00007fffca353771 -[NSIBObjectData nibInstantiateWithOwner:options:topLevelObjects:] + 1284 21 AppKit 0x00007fffca45bd46 -[NSNib _instantiateNibWithExternalNameTable:options:] + 696 22 AppKit 0x00007fffca45bba3 -[NSNib _instantiateWithOwner:options:topLevelObjects:] + 143 23 AppKit 0x00007fffcab1069b -[NSStoryboard instantiateControllerWithIdentifier:] + 234 24 AppKit 0x00007fffca344cd8 NSApplicationMain + 780 25 ReeperG levelmaker 0x0000000100003860 main + 84 26 libdyld.dylib 0x00007fffe17c9254 start + 1 The name of the program is ReeperG levelmaker
First, make sure you don't also have a class named DrawingView, and second, never again name a property starting with a capital letter.