Dragging an image view out of collection view into main view
I'm trying to let my users drag an image out of a UICollectionView and onto the main view. However, I have a problem at the stage where said image view is removed from the collection view and added from the main view. The problem is that this seems to halt the tracking of the panning and so the user has to drag the object once to get it into the main view and again for it to go to the desired location. I'm not sure how to resolve this, here's how my code works: After creation of image view in cellForItemAt let panRec = UIPanGestureRecognizer() panRec.addTarget(self, action:#selector(willDraggedView(_:))) imageDupe.addGestureRecognizer(panRec) imageDupe.isUserInteractionEnabled = true Switching Views  func willDraggedView(_ sender:UIPanGestureRecognizer){ if (sender.state == UIGestureRecognizerState.began) { if (sender.view?.superview != self.view) { sender.view?.removeFromSuperview() let orig = viewToOrigin[sender.view as! UIImageView] sender.view?.frame = CGRect(x: orig!.x, y: orig!.y + screenWidth+45, width: (sender.view?.frame.width)!, height: (sender.view?.frame.height)!) self.view.addSubview(sender.view!) } } draggedView(sender) } Actual Panning func draggedView(_ sender:UIPanGestureRecognizer){ let translation = sender.translation(in: self.view) let tmp=sender.view?.center.x //x translation let tmp1=sender.view?.center.y //y translation sender.view?.layer.cornerRadius = 0 sender.view?.center=CGPoint(x:tmp!+translation.x, y:tmp1!+translation.y) sender.setTranslation(CGPoint.zero, in: self.view) self.view.bringSubview(toFront: sender.view!) } Here's the log I'm reading out 2016-11-07 09:06:40.555 ScriptBuilder[93937:18223071] unexpected nil window in __dispatchPreprocessedEventFromEventQueue, _windowServerHitTestWindow: <UIWindow: 0x7f9013405cd0; frame = (0 0; 375 667); autoresize = W+H; gestureRecognizers = <NSArray: 0x608000053290>; layer = <UIWindowLayer: 0x60800003d7c0>>