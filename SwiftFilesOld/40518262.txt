How to set ball's random position in Spritekit?
I am making a game where there are two balls on the scene, but the user is going to tap on the correct ball. However, when user taps on the correct ball, I want to set a random position for my second ball that when the user taps on the correct ball, I want to also want the second ball to move randomly. Here is my code for setting up the random positions of the ball: let currentBall = SKShapeNode(circleOfRadius: CGFloat(size)) let shape = SKShapeNode() currentBall.fillColor = pickColor() //Rectangle shape.path = UIBezierPath(roundedRect: CGRect(x: 64, y: 64, width: 160,height: 160), cornerRadius: 50).cgPath shape.fillColor = pickColor() self.addChild(shape) func randomBallPosition() -> CGPoint { let xPosition = view!.scene!.frame.midX - viewMidX + CGFloat(arc4random_uniform(UInt32(viewMidX*2))) let yPosition = view!.scene!.frame.midY - viewMidY + CGFloat(arc4random_uniform(UInt32(viewMidY*2))) return CGPoint(x: xPosition, y: yPosition) } func handleTap() { currentBall.position = randomBallPosition() shape.position = randomBallPosition() }
The issue is that you're setting the exact same position, which you have used for the first ball. As far as I understand both ball should appear at random independent positions. You should create a function to return a new position and call it for each ball: class MyScene: SKScene { var currentBall: SKShapeNode! var shape: SKShapeNode! override func didMove(to view: SKView) { super.didMove(to: view) let currentBall = SKShapeNode(circleOfRadius: CGFloat(size)) currentBall.fillColor = pickColor() let shape = SKShapeNode() shape.path = UIBezierPath(roundedRect: CGRect(x: 64, y: 64, width: 160,height: 160), cornerRadius: 50).cgPath shape.fillColor = pickColor() self.addChild(shape) } func handleTap() { //your code here, except that you don't create new nodes, just modify existing ones //at some point you will change balls' positions like this: currentBall.position = randomBallPosition() secondBall.position = randomBallPosition() } func randomBallPosition() -> CGPoint { let xPosition = CGFloat(arc4random_uniform(UInt32((view?.bounds.maxX)! + 1))) let yPosition = CGFloat(arc4random_uniform(UInt32((view?.bounds.maxY)! + 1))) return CGPoint(x: xPosition, y: yPosition) } } Hope this helps