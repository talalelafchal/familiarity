Calling Objective C method with completion handler from Swift3 (completion is IUO?)
so I'm finally getting around to doing my Swift3 conversion. I'm getting MANY of the following errors since we have a legacy codebase that was written in ObjC. The ObjC definition is here: -(void)getRecommendationHintsWithCompletion:(void(^)(NSArray *recommendationHints, NSError *error))completion; in Swift 2.2, we called it like this: manager.getRecommendationHints { (hints:[AnyObject]!, error: NSError!) in //code }) After the swift 3 migrator ran, that line of swift code wasn't changed, but I got the error: Cannot convert value of type '([AnyObject]!, NSError!) -> ()' to expected argument type '(([Any]?, Error?) -> Void)!' So I tried: manager.getRecommendationHints { (hints:[Any]?, error: Error?) in //code }) But I still get: Cannot convert value of type '([AnyObject]?, Error?) -> ()' to expected argument type '(([Any]?, Error?) -> Void)!' It looks like there's a Implicity Unwrapped Optional on the expected argument, but I'm not sure how to deal with that. What should I do? Thanks!
Try using Error instead of NSError manager.getRecommendationHints { (hints:[Any]?, error: Error?) in //code } Hopefully this will solve your problem