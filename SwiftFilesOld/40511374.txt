declined Permission handling Facebook Login
I am trying to force my users to provide their data in order to get access to my app. Since the syntax in Swift 3 changed a little, I am stuck in developing this. Basically my idea is the following: let permissions = ["public_profile", "user_birthday", "user_photos"] PFFacebookUtils.logInInBackground(withReadPermissions: permissions, block: { (user, error) -> Void in // casting user to FBSDKLoginManagerLoginResult // asking for specific data declined/granted Permissions if let user = user as? FBSDKLoginManagerLoginResult { print(user.declinedPermissions) print(user.grantedPermissions) }} My print method will never be called. What is the real way to cast from user(PFUser?) to FBSDKLoginManagerLoginResult ?
Try getting back the actual FBSDKLoginManagerLoginResult as the result instead of user.  let login:FBSDKLoginManager = FBSDKLoginManager() let permissions = ["public_profile", "user_birthday", "user_photos"] login.logIn(withReadPermissions: permissions, from: self) { (result: FBSDKLoginManagerLoginResult?, error: Error?) -> Void in if(FBSDKAccessToken.current() != nil){ let permissions = FBSDKAccessToken.current().permissions print(permissions) //Do whatever else you need to do with the result }