How to pass control from one gesture recogniser to the other
I have the following setup. A main view controller (MainViewController) contains another view controller (ListViewController) in a parent-child view controllers configuration. The ListVC starts somewhere along the bottom of the MainVC. The ListVC contains UIView at the top and a table view at the bottom. The table view has a pan gesture recogniser attached to it. What I wanted to achieve is as I pull the ListVC upwards via the pan gesture, it goes up towards the top of the screen. When it reaches the top (or to be more precisely, some distance below the top layout guide), the listVC stops moving in mainVC and the table view starts scrolling. It's almost like the I've transferred control from the pan gesture to the table view's gestures. The way I'm doing this now is implementing the UIGestureRecognizerDelegate protocol. func gestureRecognizer(_ gestureRecognizer: UIGestureRecognizer, shouldRecognizeSimultaneouslyWith otherGestureRecognizer: UIGestureRecognizer) -> Bool { return true } and func gestureRecognizer(_ gestureRecognizer: UIGestureRecognizer, shouldBeRequiredToFailBy otherGestureRecognizer: UIGestureRecognizer) -> Bool { if gestureRecognizer == pullGesture { return pullGestureIsPriority } return false } and func gestureRecognizer(_ gestureRecognizer: UIGestureRecognizer, shouldRequireFailureOf otherGestureRecognizer: UIGestureRecognizer) -> Bool { if gestureRecognizer == pullGesture { return !pullGestureIsPriority } return false } pullGesutre is a priority if the listVC hasn't reached the top. And I fail the pullGesture by setting self.pullGesture.isEnabled = false followed immediately by self.pullGesture.isEnabled = true. Now it all works fine; I was able to pull it up without the table view scrolling up, when listVC reaches the top, I fail the pull gesture, so table view starts scrolling up. The problem came when I scrolled the table view down until the top of the table view was reached, at which point, I'd hoped that the listVC would come down via the pull gesture. But this wasn't happening. Somehow, the pullGesture has been removed from the chain of touch events. Anybody has an idea how I could achieve this? Note, effectively I'm trying to replicate how Apple does to their Map in iOS 10. I've also attached a little gif to demonstrate what I meant. demo image A demo project can be found here. demo project
If what you are looking to do is send an "event" or "action" between two view controllers, you can use a sendAction. (1) Add a UIButton, set the frame to CGRect.zero, add it to you ListVC. (2) In your ListVC code where you want to contact the MainVC, add this line: myButton.sendAction(Selector(("tapFound")), to: nil, for: nil) (3) In your MainVC, add this function: func tapFound() { } I've done this before in a few apps to tell a main VC to add something a new subview. You can even pass the sender (which a UITapRecognizer isn't) to a new view controller, with the tag property set to have the VC know exactly what is needed.