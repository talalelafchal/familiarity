Swift onesignal can I allow my app to support both ios 9 and ios 10 notifications
I wonder if I can allow my app to support both ios 9 and ios 10 notifications? I just integrated onesignal a notification service into my app and looked into the ios10 part which support videos/gifs etc. So if I want to allow notifications into my app can I only support ios9 or can I support ios 10 as well, I mean if the notification falls back into ios 9 style if device runs that. Right now I have this: OneSignal.initWithLaunchOptions(launchOptions, appId: "myId", handleNotificationReceived: { (notification) in print("Received Notification - \(notification?.payload.notificationID)") }, handleNotificationAction: { (result) in // This block gets called when the user reacts to a notification received let payload = result?.notification.payload var fullMessage = payload?.title //Try to fetch the action selected if let additionalData = payload?.additionalData, let actionSelected = additionalData["actionSelected"] as? String { fullMessage = fullMessage! + "\nPressed ButtonId:\(actionSelected)" } print(fullMessage) }, settings: [kOSSettingsKeyAutoPrompt : true, kOSSettingsKeyInFocusDisplayOption : OSNotificationDisplayType.notification.rawValue]) if #available(iOS 10.0, *) { UNUserNotificationCenter.current().getNotificationCategories { (categories) in let myAction = UNNotificationAction(identifier: "actionSelected", title: "Hit Me!", options: .foreground) let myCategory = UNNotificationCategory(identifier: "myOSContentCategory", actions: [myAction], intentIdentifiers: [], options: .customDismissAction) let mySet = NSSet(array: [myCategory]).addingObjects(from: categories) as! Set<UNNotificationCategory> UNUserNotificationCenter.current().setNotificationCategories(mySet) } }
If you set an iOS 10 media attachment on OneSignal's dashboard or REST API it will still be delivered to iOS 9 and older devices without the attachment.