dispatch_once_t is unavailable in swift 3.0
Swift 2.3 is working import Foundation import UIKit class LocationShareModel : NSObject { var timer : Timer? var bgTask : BackgroundTaskManager? var myLocationArray : NSMutableArray? func sharedModel() -> AnyObject { struct Static { static var sharedMyModel : AnyObject? static var onceToken : dispatch_once_t = 0 } dispatch_once(&Static.onceToken) { Static.sharedMyModel = LocationShareModel() } return Static.sharedMyModel! } } Swift 3.0 Not Working import Foundation import UIKit class LocationShareModel : NSObject { private static var __once: () = { Static.sharedMyModel = LocationShareModel() }() var timer : Timer? var bgTask : BackgroundTaskManager? var myLocationArray : NSMutableArray? func sharedModel()-> AnyObject { struct Static { static var sharedMyModel : AnyObject? static var onceToken : Int = 0 } _ = LocationShareModel.__once return Static.sharedMyModel! } } error at private static var _once in swift 3.0