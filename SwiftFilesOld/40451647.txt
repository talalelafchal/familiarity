Swift AVAudioEngine blocks mic and speakers
I have an VoIP app, do calls with twilio, I'm recording some text with iOS Speech framework, but after I recorded the text using private var recognitionRequest: SFSpeechAudioBufferRecognitionRequest? private var recognitionTask: SFSpeechRecognitionTask? private let audioEngine = AVAudioEngine() The mic and speakers are blocked, I can't do a second call because the device mic and speaker doesn't work. I'm trying to dealloc the memory: self.audioEngine.stop() inputNode.removeTap(onBus: 0) self.recognitionRequest = nil self.recognitionTask = nil recognitionRequest?.endAudio() I hope somebody can help me. Thanks!