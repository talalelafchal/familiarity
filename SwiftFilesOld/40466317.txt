Swift Locations: Fire every X Meters a Notification
I hope you guys can help me, because my brain is burning from thinking :D. I want to notify the user e.g. every 100 meter. But I don't want to change the refresh of the location service. There is a easy way but I'm not fine with it. I think there is a better solution. What I do so far (that's pseudo code!) This is called in didUpdateLocation  //We want notify User but only 5 times during the movement if distanceToReport < settedDistance { //Store that first Notification is fired if !firstNotificationFired { self.notifyUser(report: report) } if firstNotificationFired && distanceToReport <= 400 { //Store that second Notification is fired self.notifyUser(report: report) } else if secondNotificationFired && distanceToReport <= 300 { //Store that third Notification is fired } else if thirdNotificationFired && distanceToReport <= 200 { //Store that fourth Notification is fired } else if fourthNotifiationFired && distanceToReport <= 100 { //Store that fifth Notification is fired } } Is there a much better and efficent way than this? Or are there any mathematical or algorithm which may help? Thanks so far.
One way to clean up the code would be to put the distance into a variable and increment at each notification, should cut down on the if statements. if notificationShouldFire && distanceToReport <= targetDistance { self.notifyUser(report: report) targetDistance += targetDistance + 100 notificationShouldFire = true // could also use count variable rather than a variable for each notif. firedNotifications += firedNotifications + 1 } // your if statement would change slightly if firedNotifications <= 5 && distanceToReport <= targetDistance { // increment and notify here } I think you can make it slightly more efficient if you want, but what you have isn't the end of the world.