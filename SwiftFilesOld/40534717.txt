Swift Move file to Shared App Container reduces file size
I am attempting to copy a file that is bundled with my app into the shared app container. It seems that when I use the .write method it drastically reduces the file size and corrupts the file. Am I doing something incorrectly in my write method? let sharedContainerURL = NSFileManager.defaultManager().containerURLForSecurityApplicationGroupIdentifier("group.com.sharedBasemap")! let fileURL = sharedContainerURL.URLByAppendingPathComponent("localLayer.tpk") var tpkFile = NSBundle.mainBundle().pathForResource("localLayer", ofType: "tpk") print(sizeForLocalFilePath(tpkFile!)) // returns 3694906 if !NSFileManager.defaultManager().fileExistsAtPath(fileURL!.path!) { do { try tpkFile!.write(fileURL!.path!) print("file saved: \(fileURL)") } catch { print("error saving file") } } else { print("file already exists at \(fileURL)") } print(sizeForLocalFilePath(fileURL!.path!)) // returns 102 func sizeForLocalFilePath(filePath:String) -> UInt64 { do { let fileAttributes = try NSFileManager.defaultManager().attributesOfItemAtPath(filePath) if let fileSize = fileAttributes[NSFileSize] { return (fileSize as! NSNumber).unsignedLongLongValue } else { print("Failed to get a size attribute from path: \(filePath)") } } catch { print("Failed to get file attributes for local path: \(filePath) with error: \(error)") } return 0 }