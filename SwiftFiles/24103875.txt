Cannot access textDocumentProxy protocol functions in Swift
<p>My class is a subclass of <code>UIInputViewController</code>. I want to access the <code>textDocumentProxy</code> object of <code>UIInputViewController</code> such that I can call <code>insertText</code> on <code>textDocumentProxy</code>.</p> <p>From the documentation, <code>textDocumentProxy</code> conforms to <code>UITextDocumentProxy</code> which conforms to <code>UIKeyInput</code>.</p> <p>Based on the above logic, why can't I simply do the following.</p> <pre><code>self.textDocumentProxy.insertText("Hello World") </code></pre> <p>Instead I get the following error</p> <blockquote> <p>'NSObject' does not have a member named 'insertText'</p> </blockquote> <p>Do I have to do some sort of special casting?</p> <p>Here is a snippet of the documentation.</p> <pre><code>class UIInputViewController : UIViewController, UITextInputDelegate, NSObjectProtocol { var textDocumentProxy: NSObject! { get } } protocol UITextDocumentProxy : UIKeyInput, UITextInputTraits, NSObjectProtocol { var documentContextBeforeInput: String! { get } var documentContextAfterInput: String! { get } } protocol UIKeyInput : UITextInputTraits, NSObjectProtocol { func hasText() -&gt; Bool func insertText(text: String!) func deleteBackward() } </code></pre>
<p>You can call this method on single line like this</p> <pre><code>(self.textDocumentProxy as UITextDocumentProxy as UIKeyInput).insertText("Hello World!") </code></pre> <p>or</p> <pre><code>(self.textDocumentProxy as UIKeyInput).insertText("Hello World!") </code></pre>
<p>I had to downcast twice because of the inherited protocols. </p> <p><code>let textDocument = self.textDocumentProxy as UITextDocumentProxy as UIKeyInput</code></p>