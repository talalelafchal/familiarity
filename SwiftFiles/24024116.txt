CLLocationManager.authorizationStatus() always CLAuthorizationStatus.NotDetermined with swift&amp;objC app
<p>I just can get my CLLocationManager to authorise. (swift under ios8) I even add an explicit requestAlwaysAuthorization call (which I don't need with objC under ios7)</p> <pre><code>func finishLaunch() { //ask for authorization let status = CLLocationManager.authorizationStatus() if(status == CLAuthorizationStatus.NotDetermined) { self.locationManager.requestAlwaysAuthorization(); } else { self.startMonitoring() } ... } </code></pre> <p>the callback never gets anything but NotDermined and there is no UIAlertView shown to the user.</p> <pre><code>func locationManager(manager: CLLocationManager!, didChangeAuthorizationStatus status: CLAuthorizationStatus) { if(status == CLAuthorizationStatus.NotDetermined) { println("Auth status unkown still!"); } self.startMonitoring() } </code></pre> <p>Am I doing it wrong? -- Feels like a bug to me but I'd like some feedback</p>
<p>As it happens with my objC app as well -- the one I KNOW works fine under ios7 -- I figured it should be a OS bug and reported it: #17128352</p>
<p>Keep in mind that <code>NSLocationAlwaysUsageDescription</code> or <code>NSLocationWhenInUseUsageDescription</code> keys are now mandatory, so you should include that in your plist.</p>
<p>The only thing that you have to do is to add the Key "NSLocationWhenInUseUsageDescription" to your app info.plist then make a CLLocationManager requestWhenInUseAuthorization method and call it in the viewDidLoad.</p>