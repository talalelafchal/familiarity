How to make this Parse.com cloud code call?
<p>Note:</p> <p>Here's some thoughts from CA at Parse about this:</p> <p><a href="https://www.parse.com/questions/ios-when-will-swift-for-parse-be-ready" rel="nofollow">https://www.parse.com/questions/ios-when-will-swift-for-parse-be-ready</a></p> <p>(notice how popular that question is - hot topic). Hope it helps someone</p> <hr> <p>Here's an iOS7 Parse cloud code call ...</p> <p>how to do this in SWIFT ? cheers</p> <p>To be clear ... <strong>can you use "callFunctionInBackground" in SWIFT</strong>, or do you have to just call to an objc class?</p> <pre><code>-(void)tableView:(UITableView *)tableView commitEditingStyle:(UITableViewCellEditingStyle)editingStyle forRowAtIndexPath:(NSIndexPath *)indexPath { int thisRow = indexPath.row; PFUser *delFriend = [self.theFriends objectAtIndex:thisRow]; NSLog(@"you wish to delete .. %@", [delFriend fullName] ); // note, this cloud call is happily is set and forget // there's no return either way. life's like that sometimes [PFCloud callFunctionInBackground:@"clientRequestFriendRemove" withParameters:@{ @"removeThisFriendId":delFriend.objectId } block:^(NSString *serverResult, NSError *error) { if (!error) { NSLog(@"ok, Return (string) %@", serverResult); } }]; [self back]; // that simple } </code></pre> <hr> <p>Note, I've noticed this is a google landing page for trying to figure out "how the heck to do cloud code calls" (unrelated to Swift). Here is a full, complete set of <strong>example code for both iOS and Android</strong> of custom cloud code functions, in the Parse.com universe <a href="http://stackoverflow.com/a/24010828/294884">http://stackoverflow.com/a/24010828/294884</a> Hope it helps someone</p>
<p>It is not possible to call this exact function (<strong>callFunctionInBackground</strong>) because it is an obj-C function.</p> <p>Please refer to <a href="http://stackoverflow.com/questions/24002369/how-to-call-objective-c-code-from-swift">this question</a> how to call obj-c functions.</p> <p>With time Parse will also introduce Swift implementation.</p>
<p>Add an Objective-C .m file to your project. Xcode will ask about creating a Bridge Header file. Say yes.</p> <p>Delete the .m file. In the bridge header file, add your import statement:</p> <pre><code>#import &lt;Parse/Parse.h&gt; </code></pre> <p>Another answer, which has a way better walkthrough than mine: <a href="http://stackoverflow.com/a/24005242/353988">http://stackoverflow.com/a/24005242/353988</a></p> <p>Now you can call native Parse code in Swift, i.e.:</p> <pre><code>import UIKit import Foundation @UIApplicationMain class AppDelegate: UIResponder, UIApplicationDelegate { var window: UIWindow? func application(application: UIApplication, didFinishLaunchingWithOptions launchOptions: NSDictionary?) -&gt; Bool { Parse.setApplicationId("appid", clientKey: "clientkey") var obj = PFObject(className:"TestObject") obj.setObject("bar", forKey: "foo") obj.saveInBackgroundWithBlock ({ (succeeded: Bool!, err: NSError!) -&gt; Void in NSLog("Hi") }) } } </code></pre>