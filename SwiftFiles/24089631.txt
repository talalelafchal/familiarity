How to pull random item out of an array in Swift?
<p>I'm trying to pull a random item out of an array. When I run, it works about 50/50 between pulling a random item and giving me this error "EXC_BAD_INSTRUCTION". Any idea what's going on?</p> <p>Right now my code looks like this: <strong>BEFORE Solution</strong></p> <pre><code> func randomCard() -&gt; Card { let randomIndex = Int(arc4random()) % cardArray.count let randomCard = cardArray[randomIndex] cardArray.removeAtIndex(randomIndex) return randomCard } </code></pre> <p><strong>After</strong></p> <pre><code> func randomCard() -&gt; Card { let randomIndex = arc4random_uniform(UInt32(cardArray.count)) let randomCard = cardArray[randomIndex.hashValue] cardArray.removeAtIndex(randomIndex.hashValue) return randomCard } </code></pre> <p>This is what I'm using now and seems to be working.Thanks everyone for the help. </p>
<p><code>arc4random</code> can return negative numbers which would cause you problems since <code>negative % positive = negative</code> A better approach would be to use <code>arc4random_uniform</code></p> <pre><code>let randomIndex = arc4random_uniform(UInt32(cardArray.count)) </code></pre> <p>EXC_BAD_INSTRUCTION seems like a bad exception to throw on a bounds error, but that does seem to be what you get.</p>