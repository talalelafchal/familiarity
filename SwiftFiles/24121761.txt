How to use CoreLocation with swift?
<p>I've tried using CoreLocation with my Swift app, but without luck. I have the following incredibly simple code:</p> <p>(I've linked the CoreLocation library.)</p> <pre><code>import UIKit import CoreLocation @UIApplicationMain class AppDelegate: UIResponder, UIApplicationDelegate, CLLocationManagerDelegate { var window: UIWindow? var locationManager: CLLocationManager = CLLocationManager() locationManager.delegate = self </code></pre> <p>On the last line I get the error "Expected declaration."</p> <p>What am I doing wrong?</p> <p>Thanks in advance!</p>
<p>The following code <code>locationManager.delegate = self</code> is a statement. You need to execute it within one of the AppDelegate methods. For example:</p> <pre><code>class AppDelegate: UIResponder, UIApplicationDelegate, CLLocationManagerDelegate { var window: UIWindow? var locationManager: CLLocationManager = CLLocationManager() func application(application :UIApplication, didFinishLaunchingWithOptions launchOptions:NSDictionary&gt;) -&gt; Bool { locationManager.delegate = self } } </code></pre>