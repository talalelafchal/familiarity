Post Request with AFHTTPSessionManager Stripe - Swift
I am trying to make a POST request to my server in order to process a card transaction through Stripe, but when I press the payButtonAction I get error "Terminating app due to uncaught exception 'NSInvalidArgumentException', reason: '*** -[__NSCFConstantString stringByAppendingString:]: nil argument'" and then I am redirected to Simulator -iOS 10.1>usr/include>dispatch/once.h>No selection dispatch_once(predicate, block); Thread 1: signal SIGBART . I tested the button without any code and it works. Can you tell me what I am doing wrong  //create Stripe payment field let paymentTextField = STPPaymentCardTextField() @IBOutlet weak var payButtonOutlet: UIButton! @IBAction func payButtonAction(sender: UIButton) { let card = paymentTextField.cardParams STPAPIClient.sharedClient().createTokenWithCard(card) { (token, error) in if let error = error { print(error) } else if let token = token { print("the token is \(token)") self.chargeUsingToken(token) // post to our server } } } // post the parameters to our webserver where we make further requests to server func chargeUsingToken(token:STPToken) { let urlString = "0.0.0.0:8080/charge/stripe" let params = ["stripeToken":token.tokenId, "amount":FullData.finalBookingAmount, "currency":"gbp", "description":FullData.finalemailAddress] //send a post request to the server let manager = AFHTTPSessionManager() manager.POST(urlString, parameters: params, progress: { (progress) in // }, success: { (requestOperation, response) in if let response = response as? [String: String] { print(response) } }) { (requestOperation, error) in print(error) } }