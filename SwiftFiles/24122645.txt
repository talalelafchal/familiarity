Undefined symbols for architecture i386: &quot;_OBJC_CLASS_$_SecIdentity&quot;
<p>Xcode won't let me compile this code:</p> <pre><code>func getIdentity(keychainArray: NSArray) -&gt; SecIdentity? { let dict = keychainArray[0] as Dictionary&lt;String,AnyObject&gt; let key = kSecImportItemIdentity.takeRetainedValue() return dict[key] as SecIdentity? } </code></pre> <p>The compiler quits with following error:</p> <pre><code>Undefined symbols for architecture i386: "_OBJC_CLASS_$_SecIdentity", referenced from: __TFC9messenger10Connection19streamOpenCompletedfS0_FT_T_ in Connection.o ld: symbol(s) not found for architecture i386 clang: error: linker command failed with exit code 1 (use -v to see invocation) </code></pre> <p>I tested a few thing and have seen that SecIdentity is a type alias. I found out that the compiler always generates these error messages when i try to cast something to a type alias. If i cast it to a class (eg. NSObject / NSDictionary) it does work, but CFDictionary would also lead to a error. Does that help?</p>
<p><a href="https://developer.apple.com/library/ios/documentation/Security/Reference/certifkeytrustservices/Reference/reference.html#//apple_ref/doc/uid/TP30000157" rel="nofollow">SecIdentity and friends</a> are part of the Security Framework, so it sound like you need to link against that.</p>