CompileSwift states &quot;the current deployment target does not support automated __weak references&quot; for iOS8.0
<p>I am endeavouring to use a static library (compiled from Objective C) from within a Swift app.</p> <p>I have a single Objective C bridging header that includes the related headers. When building the app I get this error ..</p> <pre><code>/someDirectory/Xcode/FirstSteps/headers/Acme.h:89: the current deployment target does not support automated __weak references </code></pre> <p>The class Acme <em>does</em> use weak references, however the deployment target is iOS 8.0, which should support them. Am I barking up the wrong tree? </p> <p>line 89 of Acme.h reads:</p> <pre><code>-(void) addTopicListener:(__weak NSObject&lt;ACMETopicListenerDelegate&gt;*) delegate; </code></pre>
<p>It turns out the answer is to remove the <code>__weak</code> attributes from the method argument, or in my case include this in my bridging header</p> <pre><code>#undef __weak #define __weak /* nothing */ #import "Acme.h" </code></pre> <p>SwiftCompile apparently doesn't like the <code>__weak</code> attribute, and everything works fine without it. It does make me question the need for the <code>__weak</code> attribute on an <em>argument</em> in the first place.</p>