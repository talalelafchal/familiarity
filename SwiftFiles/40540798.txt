app crashes when finding location
I want my app to take the user the the apple maps app when they press a button on the screen. When my app tries to search the URL it crashes. I know it has to do with my selectedParty.actualLocation but i'm not sure whats wrong with it. When I print it out everything goes fine. It just doesn't seem to want to work in the URL. selectedParty.actualLocation isn't even an optional type, which confuses me. Here is my code: import UIKit import CoreLocation import MapKit class SelectedPartyViewController: UIViewController, CLLocationManagerDelegate { //for location let manager = CLLocationManager() // data passed from party list var selectedParty = party(name: "", description: "", id: "", location: "", actualLocation: "0, 0", upVotes: 0, downVotes: 0) @IBOutlet weak var partyNameLabel: UILabel! @IBOutlet weak var locationButton: UIButton! @IBOutlet weak var descriptionLabel: UILabel! override func viewDidLoad() { super.viewDidLoad() partyNameLabel.text = selectedParty.name locationButton.setTitle("Location: " + selectedParty.location, for: UIControlState.normal) descriptionLabel.text = selectedParty.description // for location setup manager.delegate = self manager.desiredAccuracy = kCLLocationAccuracyBest //request to use current location manager.requestWhenInUseAuthorization() manager.startUpdatingLocation() } @IBAction func getDirections() { //get user direction to location let address = "http://maps.apple.com/?saddr=" + currentLocation + "&daddr=" + selectedParty.actualLocation UIApplication.shared.openURL(NSURL(string: address) as! URL) } var currentLocation = "" func locationManager(_ manager: CLLocationManager, didUpdateLocations locations: [CLLocation]) { let myLocation = locations[0] let myLatitude = myLocation.coordinate.latitude let myLongitude = myLocation.coordinate.longitude // Get the users current location currentLocation = String(describing: myLatitude) + "," + String(describing: myLongitude) } func locationManager(_ manager: CLLocationManager, didFailWithError error: Error) { print("Error finding location: \(error.localizedDescription)") } } And my error message: 2016-11-10 22:39:42.424447 Lit[1974:609399] fatal error: unexpectedly found nil while unwrapping an Optional value (lldb)