Move textfield up when keyboard covers it up
<p>I am not that familiar with Objective C , and was wondering if there is a solution to this in Swift.</p> <p>It's a very simple SingleView app that I'm playing with. UIView is inheriting from UIControl.</p> <p>I don't have a UIScrollView, Can't I just move the whole view up? I believe the keyboard is independent of that. </p>
<p><a href="https://developer.apple.com/library/ios/documentation/StringsTextFonts/Conceptual/TextAndWebiPhoneOS/KeyboardManagement/KeyboardManagement.html" rel="nofollow">https://developer.apple.com/library/ios/documentation/StringsTextFonts/Conceptual/TextAndWebiPhoneOS/KeyboardManagement/KeyboardManagement.html</a></p> <p>Look at "Receiving keyboard notifications".</p> <p>The code samples in that document are all Obj-C so you'll have to convert it to swift on your own, but as @jtbandes said, it's not a swift question per se.</p>
<p>Apple's recommendation recoded in Swift.</p> <p>Make sure your controls are on a ScrollView and note the colon in the selector string. I use a variable (activeField) to indicate the active text field.</p> <pre><code>var activeField: UITextField? @IBAction func editingBegan(sender: UITextField) { activeField = sender } override func viewWillAppear(animated: Bool) { super.viewWillAppear(animated) let center = NSNotificationCenter.defaultCenter() center.addObserver(self, selector: "keyboardOnScreen:", name: UIKeyboardDidShowNotification, object: nil) center.addObserver(self, selector: "keyboardOffScreen:", name: UIKeyboardDidHideNotification, object: nil) } func keyboardOnScreen(notification: NSNotification){ let info: NSDictionary = notification.userInfo! let kbSize = info.valueForKey(UIKeyboardFrameEndUserInfoKey)?.CGRectValue().size let contentInsets:UIEdgeInsets = UIEdgeInsetsMake(0.0, 0.0, kbSize!.height, 0.0) scrollView.contentInset = contentInsets scrollView.scrollIndicatorInsets = contentInsets var aRect: CGRect = self.view.frame aRect.size.height -= kbSize!.height //you may not need to scroll, see if the active field is already visible if (!CGRectContainsPoint(aRect, activeField!.frame.origin) ) { let scrollPoint:CGPoint = CGPointMake(0.0, activeField!.frame.origin.y - kbSize!.height) scrollView.setContentOffset(scrollPoint, animated: true) } } func keyboardOffScreen(notification: NSNotification){ let contentInsets:UIEdgeInsets = UIEdgeInsetsZero scrollView.contentInset = contentInsets scrollView.scrollIndicatorInsets = contentInsets } </code></pre>
<p>I used the code here. Did not need to add scrollview </p> <p><a href="http://www.jogendra.com/2015/01/uitextfield-move-up-when-keyboard.html">Move uitextfield up when keyboard shows</a></p> <pre><code>func textFieldDidBeginEditing(textField: UITextField) { animateViewMoving(true, moveValue: 100) } func textFieldDidEndEditing(textField: UITextField) { animateViewMoving(false, moveValue: 100) } func animateViewMoving (up:Bool, moveValue :CGFloat){ var movementDuration:NSTimeInterval = 0.3 var movement:CGFloat = ( up ? -moveValue : moveValue) UIView.beginAnimations( "animateView", context: nil) UIView.setAnimationBeginsFromCurrentState(true) UIView.setAnimationDuration(movementDuration ) self.view.frame = CGRectOffset(self.view.frame, 0, movement) UIView.commitAnimations() } </code></pre>