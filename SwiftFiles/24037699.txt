Swift arrays and contains, how to determine if a collection contains an object or value?
<p>Im at it again with swift arrays and containsObject provided by NSArray only!</p> <p>I bridge the swift array to NSArray to do that contains:</p> <pre><code>extension Array { func contains(object:AnyObject!) -&gt; Bool { if(self.isEmpty) { return false } let array: NSArray = self.bridgeToObjectiveC(); return array.containsObject(object) } } </code></pre> <p>it works fine in general but as soon as I put a String! in an array of type String, it crashes. Even though containsObject does take a AnyObject!</p> <pre><code> var str : String! = "bla" var c = Array&lt;String&gt;(); c.append(str) println(c.contains(str)) </code></pre> <p>declaring a String! array also doesn't help</p> <pre><code> var str : String! = "bla" var c = Array&lt;String!&gt;(); c.append(str) println(c.contains(str)) </code></pre> <p>BUT the same without ! works fine</p> <pre><code> var str : String = "bla" var c = Array&lt;String&gt;(); c.append(str) println(c.contains(str)) </code></pre> <p>SO how do I explicitly wrap stuff? I don't really see why I'd have to explicitly wrap it only so it is right unwrapped but thats what it looks like...</p>
<p><strong>Swift 1:</strong></p> <pre><code>let array = ["1", "2", "3"] let contained = contains(array, "2") println(contained ? "yes" : "no") </code></pre> <p><strong>Swift 2 &amp; Swift 3:</strong></p> <pre><code>let array = ["1", "2", "3"] let contained = array.contains("2") print(contained ? "yes" : "no") </code></pre>
<p>Swift</p> <p>If you are not using object then you can user this code for contains.</p> <pre><code>let elements = [ 10, 20, 30, 40, 50] if elements.contains(50) { print("true") } </code></pre> <p>If you are using NSObject Class in swift. This variables is according to my requirement. you can modify for your requirement.</p> <pre><code>var cliectScreenList = [ATModelLeadInfo]() var cliectScreenSelectedObject: ATModelLeadInfo! </code></pre> <p>This is for a same data type.</p> <pre><code>{ $0.user_id == cliectScreenSelectedObject.user_id } </code></pre> <p>If you want to AnyObject type.</p> <pre><code>{ "\($0.user_id)" == "\(cliectScreenSelectedObject.user_id)" } </code></pre> <p>Full condition</p> <pre><code>if cliectScreenSelected.contains( { $0.user_id == cliectScreenSelectedObject.user_id } ) == false { cliectScreenSelected.append(cliectScreenSelectedObject) print("Object Added") } else { print("Object already exists") } </code></pre>