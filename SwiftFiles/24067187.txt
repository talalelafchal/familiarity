How to map NSButton to Int using dictionaries
<p>I have an interface with a lot of buttons. I would like to put them in a dictionary to map them to numbers.</p> <p>I tried the following:</p> <pre><code>import Cocoa class AppDelegate: NSObject, NSApplicationDelegate { @IBOutlet var window: NSWindow @IBOutlet var number0 : NSButton @IBOutlet var number1 : NSButton @IBOutlet var number2 : NSButton @IBOutlet var number3 : NSButton @IBOutlet var number4 : NSButton @IBOutlet var number5 : NSButton @IBOutlet var number6 : NSButton @IBOutlet var number7 : NSButton @IBOutlet var number8 : NSButton @IBOutlet var number9 : NSButton var number = Dictionary&lt;NSButton, Int&gt;() func applicationDidFinishLaunching(aNotification: NSNotification?) { number = [number0: 0] } } </code></pre> <p>The code above compiles fine (Retina MBP 2.6GHz i7) but when I run it, it throws an error:</p> <pre><code>Thread 1: EXC_BAD_INSTRUCTION (code=EXC_I386_INVOP, subcode=0x0) </code></pre> <p>If I change the <code>Int</code> to <code>AnyObject</code> like this</p> <pre><code>var number = Dictionary&lt;NSButton, AnyObject &gt;() </code></pre> <p>It works just fine.</p> <p>Am I doing something wrong or is this a bug?</p>
<p>Try using Integer in your dictionary instead.</p> <pre><code>var number = Dictionary&lt;UIButton, Integer&gt;() </code></pre> <p>Integer is the protocol that Int implements. I'm not exactly sure why this works.</p>