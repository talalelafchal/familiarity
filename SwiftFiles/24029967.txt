How can I print the description of an unknown type in Swift?
<p>How can I create a <code>dump()</code> Array extension for printing out all elements in an array?</p> <p>It's a build error when trying to cast to <code>Printable</code> protocol:</p> <pre><code>extension Array { func dump() -&gt; String { var s = "" for x in self { if let p = x as? Printable { if s != "" { s += ", " } s += p.description } } return s } } </code></pre> <blockquote> <p>28:26: error: cannot downcast from 'T' to non-@objc protocol type 'Printable'</p> </blockquote> <p>How can I get a string representation of every element in an Array? </p> <p>Or is there a way where I can find the <code>Printable</code> elements in an Array?</p>
<p>String interpolation?</p> <pre><code>extension Array { func dump() -&gt; String { var s = "" for x in self { let x_str = "\(x)" s += x_str if !x_str.isEmpty { s += "," } } return s } } </code></pre>
<p>You can use <code>reduce</code>, as well:</p> <pre><code>let arr = [1, 2, 3, 4, 5, 6, 7, 8, 9] arr.reduce("") { $0 == "" ? "\($1)" : "\($0), \($1)" } // "1, 2, 3, 4, 5, 6, 7, 8, 9" </code></pre>