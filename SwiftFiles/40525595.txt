Set limit to draggable item in Swift
I have one imageview and a textfield on that image. I make the textfield draggable with below code but it can be draggable to anywhere in the screen. I want that textfield draggable only in limit of imageview. If I uncomment if check in the draagedView function, textfield stuck at the left side of imageview because their x values become same. I found this solution but can't modify it to work on my project. Use UIPanGestureRecognizer to drag UIView inside limited area  override func viewDidLoad() { super.viewDidLoad() // Do any additional setup after loading the view, typically from a nib. let gesture = UIPanGestureRecognizer(target: self, action: #selector(ViewController.draggedView(_:))) bottomTextField.addGestureRecognizer(gesture) bottomTextField.isUserInteractionEnabled = true } func userDragged(gesture: UIPanGestureRecognizer){ let loc = gesture.location(in: self.view) self.bottomTextField.center = loc } func draggedView(_ sender:UIPanGestureRecognizer) { let compare = MyimageView.frame.maxX <= bottomTextField.frame.maxX //if(MyimageView.frame.minX <= bottomTextField.frame.minX && compare ) // { self.view.bringSubview(toFront: sender.view!) let translation = sender.translation(in: self.view) sender.view!.center = CGPoint(x: sender.view!.center.x + translation.x, y: sender.view!.center.y + translation.y) sender.setTranslation(CGPoint.zero, in: self.view) // } }
The main problem is that you are checking the position before you do the translation. That means that the text field ends up in an invalid position, after which the if block is never reached. This is a slightly different way to approach the problem and means that the text field reaches right to the edges of the limit: func draggedView(_ sender: UIPanGestureRecognizer) { guard let senderView = sender.view else { return } var translation = sender.translation(in: view) translation.x = max(translation.x, MyimageView.frame.minX - bottomTextField.frame.minX) translation.x = min(translation.x, MyimageView.frame.maxX - bottomTextField.frame.maxX) translation.y = max(translation.y, MyimageView.frame.minY - bottomTextField.frame.minY) translation.y = min(translation.y, MyimageView.frame.maxY - bottomTextField.frame.maxY) senderView.center = CGPoint(x: senderView.center.x + translation.x, y: senderView.center.y + translation.y) sender.setTranslation(.zero, in: view) view.bringSubview(toFront: senderView) } I have also made it a bit safer by adding a guard statement at the top and removing the force unwraps.