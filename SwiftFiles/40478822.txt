IPv6 Crash Firebase Swift
I have a Swift app using Firebase as backend. It works perfectly fine on all simulators and my own iOS devices, but when I submitted it to Apple for review, it crashed specifically when the reviewer tapped on a UIButton that presents a UIAlertController containing my content reporting mechanism: @IBAction func moreActions(_ sender: AnyObject) { // 1 let optionMenu = UIAlertController(title: nil, message: "Choose Action", preferredStyle: .actionSheet) // 2 let reportPost = UIAlertAction(title: "Report this post", style: .default, handler: { (alert: UIAlertAction!) -> Void in self.report() }) // 3 let cancelAction = UIAlertAction(title: "Cancel", style: .cancel, handler: { (alert: UIAlertAction!) -> Void in print("Cancelled") }) // 4 optionMenu.addAction(reportPost) optionMenu.addAction(cancelAction) self.present(optionMenu, animated: true, completion: nil) } func report() { let messageView = MessageView.viewFromNib(layout: .CardView) var config = SwiftMessages.Config() config.dimMode = .gray(interactive: true) messageView.configureTheme(.info) messageView.button?.isHidden = true messageView.configureContent(title: "Thank you", body: "We have received your report, and will soon make all necessary actions.") SwiftMessages.show(config: config, view: messageView) ref = FIRDatabase.database().reference() ref.child("reportedPost").observeSingleEvent(of: .value, with: {(snapshot) in if snapshot.hasChild(self.passedPurchaseKey) { print("this post has been reported before") let targetKey = self.passedPurchaseKey let value = snapshot.childSnapshot(forPath: targetKey!).value as! Int let newValue = value + 1 self.ref.child("reportedPost").updateChildValues([targetKey!: newValue]) }else{ print("this post has not been reported before") let targetKey = self.passedPurchaseKey self.ref.child("reportedPost").updateChildValues([targetKey!: 1]) } }) } The reviewer suggested that the crash might due to IPv6 incompatibility. I cannot agree with them since the networking logics above are very similar to the rest of my App, which did not lead to any crashes. Thus I suspect that the crash was due to something else. Yet I could not be sure because I do not have the required hardwares to test my app under IPv6 environment. Thanks in advance for your kind help! //edit 1: crash log added crashlog_1 crashlog_2