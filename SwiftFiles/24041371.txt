Xcode crash trying to add an array as 'value' to dictionary (using playground file)
<p>After many experiments and many crashes, I still can't figure it out:</p> <pre><code>var dictionary:Dictionary&lt;String, Any&gt; = ["A": "Val A"] var array = ["A", "B"] dictionary["Ar"] = /* Xcode crash as soon as I type 'a' and autocomplete brings up my 'array' */ </code></pre> <p>I tried many different ways, including adding an empty array, (which partly worked), but as soon as I add something to that array, Xcode blows up.</p> <p>Apple did mentioned that "<em>Swift arrays are specific about the kinds of values they can store.</em>", but that should not conflict. Type 'Any' is still a type. Of course, a compiler <strong>warning</strong> is what one would expect, but then again, this <em>is</em> a beta version.</p>
<p>I think it has something to do with the safety of arrays and Dictionaries</p> <p>This code works:</p> <pre><code>var dictionary:Dictionary&lt;String, Array&lt;String&gt;&gt; = ["A": []] var array = ["A", "B"] dictionary["Ar"] = array </code></pre> <p>but this crashes:</p> <pre><code>var dictionary:Dictionary&lt;String, Any&gt; = ["A": []] var array: String[] = ["A", "B"] dictionary["Ar"] = array </code></pre> <p>I can confirm the bug is happening for me as well, so I think that rules out the possibility that array's can't be included in dictionaries.</p>