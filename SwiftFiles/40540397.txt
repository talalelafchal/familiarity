Adding Objects to single Realm File
Before I begin here is a bit a background for you all so your possible answers won't go beyond my comprehension level: 1. I'm only jolt starting to learn swift and is still learning the in and outs of both realm and Xcode. 2. My only OOP experience has been with java, and at that very low. So here is my issue: I'm trying to make a single realm file hold an entire list of "user profile" data(ie. name, age, email). I'm attempting to do this by allowing an IBAction button to cause an object to be saved to the realm file as shown below @IBAction func signUpButton(_ sender: UIButton) { let realm = try! Realm() try! realm.write { user.userName = userNameTextField.text! user.passWord = passWordTextField.text! user.email = emailTextField.text! user.name = fullNameTextField.text! user.age = ageTextField.text! profile.person.append(user) realm.add(profile) } } The only problem here is that it's not adding object but instead updating the one that was created before, can anyone tell me how I can accomplish this using an IBAction Button?
If your object have primary key, you can only add new by fetch then delete it, then add new one, else you can only update it (primary key is used to prevent duplication) If you want to have 2 object that have similar property value, then just simply remove the primary key from the object class
If an Object has already been added to a Realm file, then you can change its properties by opening up a write transaction and simply modifying its properties in there. let realm = try! Realm() let newUser = User() newUser.userName = userNameTextField.text! // Add to Realm for the first time try! realm.write { realm.add(newUser) } // Update its property at a later time try! realm.write { newUser.userName = userNameTextField.text! } It's not necessary to call realm.add or profile.person.append(user) again if those objects were already previously added. I'm not sure where user and profile are coming from in your example code there. Since there's no let user = User() inside that method, I'm assuming you're creating single copies of them elsewhere in the view controller class. If profile has already been added to the Realm, you shouldn't be calling realm.add(profile) again, as that will add a second copy (And calling append each time probably won't break, but it's not recommended). To work out if profile is already inside a Realm file, you can check by using profile.realm != nil. To check if user already belongs in profile, you can user Realm's inverse relationships feature. class User: Object { dynamic var userName = "" dynamic var password = "" dynamic var email = "" dynamic var name = "" dynamic var age = "" let profile = LinkingObjects(fromType: Profile.self, property: "person") }