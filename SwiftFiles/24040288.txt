How to define in swift an optional variable for a function type, which can be nil?
<p>I would like to have a variable to hold a function, but which is initialized to nil. I'm trying to make it an optional, but I get an error.</p> <pre><code>var OnClick: (UIButton!) -&gt; ()? = nil </code></pre> <p>I get this error</p> <pre><code>Could not find an overload for '__conversion' that accepts the supplied arguments </code></pre> <p>If I remove the ?, I also get the same error.</p>
<p>You just have to wrap it in parentheses:</p> <pre><code>var OnClick: ((UIButton!) -&gt; ())? = nil </code></pre>
<p>Adding to Cezary's correct answer here. If someone need in detail explanation. Here you go.</p> <h2>Explaination</h2> <pre><code>var OnClick: (UIButton!) -&gt; ()? </code></pre> <p>defines a variable named OnClick which stores a function type. The function accepts a <code>Implicitly Unwrapped Optional</code> and return optional <code>Void</code>. Note that optional is not the function itself but return type of the function. So you can't assign nil.</p> <pre><code>var OnClick: ((UIButton!) -&gt; ())? </code></pre> <p>defines a variable named OnClick which stores a <code>optional function</code>. The function is such that accepts <code>Implicitly Unwrapped Optional</code> and return <code>Void</code>.</p>