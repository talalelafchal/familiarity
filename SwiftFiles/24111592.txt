Blur Effect using Swift language in iPhone
<p>I've been trying to implement the blur effect using an UIImageView in xcode 6 (swift language), I'm trying to implement it so everything that is below the ImageView get blurred.</p> <p>I cannot make it work, so I'm asking you guys from stack overflow to help me, please.</p> <p>How can that be done? </p> <p>the code I wrote so far is:</p> <hr> <pre><code>class blurImage: UIImageView { init(frame: CGRect) { super.init(frame: frame) var blur:UIBlurEffect = UIBlurEffect(style: UIBlurEffectStyle.Light) var effectView:UIVisualEffectView = UIVisualEffectView (effect: blur) } } </code></pre> <hr>
<p>I modified @Kuroros class to work with Storyboards</p> <pre><code>class BlurImage: UIImageView { override func awakeFromNib() { super.awakeFromNib() } init(coder aDecoder: NSCoder!) { super.init(coder: aDecoder) let blur:UIBlurEffect = UIBlurEffect(style: UIBlurEffectStyle.Light) var effectView:UIVisualEffectView = UIVisualEffectView (effect: blur) effectView.frame = frame addSubview(effectView) } } </code></pre>
<p>You need to assign a frame to effect blur view and add it as subview</p> <blockquote> <p>class blurImage: UIImageView {</p> <pre><code>init(frame: CGRect) { super.init(frame: frame) var blur:UIBlurEffect = UIBlurEffect(style: UIBlurEffectStyle.Light) var effectView:UIVisualEffectView = UIVisualEffectView (effect: blur) effectView.frame = frame addSubview(effectView) } } </code></pre> </blockquote>
<p>I modified @fabian implementation, because there is a problem with <code>frame</code> size calculation if you use auto-layout. When you try to read <code>frame</code> data in <code>init()</code> it's not properly calculated yet and have size (1000,1000) for me, while should be (420,420). So you need read and set later. I used <code>layoutSubviews</code> for it. Also settings <code>frame = frame</code> didn't worked, because it returns absolute container position, but we need box size.</p> <pre><code>class BluredImage: UIImageView { var effectView:UIVisualEffectView! required init(coder aDecoder: NSCoder) { super.init(coder: aDecoder)! let blur:UIBlurEffect = UIBlurEffect(style: .light) effectView = UIVisualEffectView (effect: blur) addSubview(effectView) } override func layoutSubviews() { super.layoutSubviews() effectView.frame = bounds } } </code></pre>