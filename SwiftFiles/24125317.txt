ALAssetsGroup! is not a subtype of 'ALAssetsGroup'
<p>I have a <code>loadAlbums</code> method in my app that loads assets using a singleton instance of the <code>AssetsLibrary</code>. Here is my code so far:</p> <pre><code>func loadAlbums(){ let library = IAAssetsLibraryDefaultInstance library.enumerateGroupsWithTypes(ALAssetsGroupAll as ALAssetsGroupType, usingBlock: {(group:ALAssetsGroup, stop:Bool) in if group { self.albums.append(group) } else { self.tableView.performSelectorOnMainThread("reloadData", withObject: nil, waitUntilDone: true) } }, failureBlock: { (error:NSError) in println("Problem loading albums: \(error)") }) } </code></pre> <p>The error I am getting is at the beginning of the <code>usingBlock</code> line. The compiler says:</p> <p><code>ALAssetsGroup! is not a subtype of 'ALAssetsGroup'</code></p> <p>What does this mean? How do I fix this?</p>
<p>your block is expecting an <code>ALAssetsGroup</code> for the <code>group</code> argument, but it's being passed a an argument with type <code>ALAssetsGroup!</code> (an implicitly unwrapped optional).</p> <p>The big difference is that the value you're being passed <strong>can</strong> be nil, but the type you're expected <strong>can not</strong> be nil</p> <p>just change your signature to </p> <pre><code>{(group:ALAssetsGroup!, stop:Bool) in â€¦ } </code></pre> <p>your code is already checking if group is nil, so that should be the only change you need to make</p>