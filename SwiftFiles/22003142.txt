Path to file in app bundle
<p>I did this many times before but now it fails. I want to access a file shipped within my app.</p> <pre><code>NSString* path = [[NSBundle mainBundle] pathForResource:@"information" ofType:@"xml"]; </code></pre> <p>returns </p> <pre><code>/Users/eldude/Library/Application Support/iPhone Simulator/7.0.3/Applications/5969FF96-7023-4859-90C0-D4D03D25998D/App.app/information.xml </code></pre> <p>which is correct - checked in terminal and all that. However, trying to parse the path fails </p> <pre><code> NSURL* fileURL = [NSURL URLWithString:path]; NSXMLParser *nsXmlParser = [[NSXMLParser alloc] initWithContentsOfURL:fileURL]; [nsXmlParser setDelegate:self]; if(![nsXmlParser parse]){ NSError* e = nsXmlParser.parserError; NSLog(@"ERROR parsing XML file: \n %@",e); self = NULL; } </code></pre> <p>with </p> <pre><code>Error Domain=NSCocoaErrorDomain Code=-1 "The operation couldnâ€™t be completed. (Cocoa error -1.)" UserInfo=0xb9256f0 {NSXMLParserErrorMessage=Could not open data stream} </code></pre> <p>Ideas anyone? </p>
<p>File URLs and network URLs are different.<br> From the Apple documentation:</p> <p>Important: To create NSURL objects for file system paths, use<br> <code>fileURLWithPath:isDirectory:</code><br> or just<br> <code>fileURLWithPath:</code></p> <p>Example:</p> <pre><code>NSString *filePath = @"path/file.txt"; NSURL *fileURL = [NSURL fileURLWithPath:filePath]; NSLog(@"fileURL: %@", [fileURL absoluteURL]); NSURL *netURL = [NSURL URLWithString:filePath]; NSLog(@"netURL: %@", [netURL absoluteURL]); </code></pre> <p>NSLog Output:<br> fileURL: file:///path/file.txt<br> netURL: path/file.txt </p>