UIButton TouchUpInside not always fired
I have a DialPad with numbers where each one is a UIButton. For each button, I handle 2 controlEvents: Touchdown: I generate a tone. TouchUpInside: I stop the tone. The problem is that sometimes TouchUpInside isn't called. It only occurs when I play a tone during the TouchDown event. If I comment my code which plays the ringtone, all the events are called as usual. I add the control events like that: self.addTarget(self, action: #selector(buttonPressed), forControlEvents: .TouchDown) self.addTarget(self, action: #selector(buttonUnpressed), forControlEvents: .TouchUpInside) the called selectors: func buttonPressed(button: KeyboardButton) { print("IN") ACRAccount.generateTone(0x30) } func buttonUnpressed(button: KeyboardButton) { print("OUT") ACRAccount.stopGeneratingTone() } I used an external objective-c library to play the tone like this: + (void)generateTone:(int)tone { dispatch_async(dispatch_get_main_queue(), ^{ myExternalLibrary->audio->playTone((char)tone); }); } Thanks for the help ! EDIT 1: It seems that .TouchCancel is called instead of .TouchUpInside. This is due to my objective-C code because once commented, it works like a charm (without any call to .TouchCancel). Any idea of the why ?