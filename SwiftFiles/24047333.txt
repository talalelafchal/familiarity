Could not find member in closure
<p>I have the following code. <code>prompt</code> being a <code>UIAlertController</code>.</p> <pre><code>self.presentViewController(prompt, animated: true, completion: { prompt.textFields[0].becomeFirstResponder() }) </code></pre> <p>But it gives me this error: <code>Could not find member 'becomeFirstResponder'</code>.</p> <p>Yet, if I put this in it works fine:</p> <pre><code>self.presentViewController(prompt, animated: true, completion: { let foo = 0 prompt.textFields[0].becomeFirstResponder() }) </code></pre> <p>Why does the error go away when I add in a useless line of code such as the above?</p>
<p>According to the Swift Programming Language book section on If Statements and Forced Unwrapping, </p> <blockquote> <p>“You can use an if statement to find out whether an optional contains a value. If an optional does have a value, it evaluates to true; if it has no value at all, it evaluates to false. Once you’re sure that the optional does contain a value, you can access its underlying value”</p> </blockquote> <p>UIAlertController doesn't have to have textFields, so because the <code>textFields</code> array is optional, you have to unwrap it before you can call functions on the objects inside of the array, so it should look something like this:</p> <pre><code>self.presentViewController(prompt, animated: true, completion: { if let textFields = prompt.textFields { textFields[0].becomeFirstResponder() } }) </code></pre>