escape dictionary key double quotes when doing println dictionary item in Swift
<p>I've been playing around with Swift, and just came across an issue. I have the following Dictionary in:</p> <pre><code>var locations:Dictionary&lt;String,CLLocationCoordinate2D&gt; = ["current":CLLocationCoordinate2D(latitude: lat, longitude: lng) ]; println("current locaition is \(locations["current"])") </code></pre> <p>but the compiler is complaining about double quotes around <code>current</code> which represent the a key in my dictionary.</p> <p>I tried escaping it with <code>\</code> but it wasn't the right way.</p> <p>Appreciate any help.</p>
<p><strong>Xcode 7.1+</strong></p> <p>Since Xcode 7.1 beta 2, we can now use quotations within string literals. From the release notes:</p> <blockquote> <p>Expressions interpolated in strings may now contain string literals. For example, "My name is (attributes["name"]!)" is now a valid expression. (14050788)</p> </blockquote> <p><strong>Xcode &lt;7.1</strong></p> <p>I don't think you can do it that way.</p> <p>From the <a href="https://developer.apple.com/library/prerelease/ios/documentation/Swift/Conceptual/Swift_Programming_Language/StringsAndCharacters.html#//apple_ref/doc/uid/TP40014097-CH7-XID_368">docs</a></p> <blockquote> <p>The expressions you write inside parentheses within an interpolated string cannot contain an unescaped double quote (") or backslash (\), and cannot contain a carriage return or line feed.</p> </blockquote> <p>You'd have to use</p> <pre><code>let someVar = dict["key"] println("Some words \(someVar)") </code></pre>
<p>I've had this problem too with interpolating strings. The best solution I found was just to split it into two lines like so:</p> <pre><code>let location = locations["current"] println("current locaition is \(location)") </code></pre> <p>It may be a bug with Swift. From what I found in the docs, you should be able to use \ to escape quotes.</p>
<p>Swift doesn't accept quote in \(). Therefore you need to separate the one-line code into two.</p> <p>Here is a blog showing example for Chinese readers: <a href="http://tw.gigacircle.com/321945-1" rel="nofollow">http://tw.gigacircle.com/321945-1</a></p>
<p>You can use string concatenation instead of interpolation:</p> <pre><code>println("Some words " + dict["key"]! + " some more words.") </code></pre> <p>Just mind the spaces around the <code>+</code> signs.</p> <p><em>UPDATE:</em></p> <p>Another thing you can do is to use <a href="https://thatthinginswift.com/string-formatting/">string format specifiers</a> the same way how it was done back in the objective-c days:</p> <pre><code>println( String(format: "Some words %@ some more words", dict["1"]!) ) </code></pre>