how to capture last 4 characters from NSString
<p>I am accepting an <code>NSString</code> of random <code>size</code> from a <code>UITextField</code> and passing it over to a method that I am creating that will capture only the last 4 characters entered in the <code>string</code>.</p> <p>I have looked through <code>NSString</code> Class Reference library and the only real option I have found that looks like it will do what I want it to is</p> <pre><code>- (void)getCharacters:(unichar *)buffer range:(NSRange)aRange </code></pre> <p>I have used this once before but with static parameters 'that do not change', But for this implementation I am wanting to use non static parameters that change depending on the size of the string coming in.</p> <p>So far this is the method I have created which is being passed a <code>NSString</code> from an IBAction else where.</p> <pre><code>- (void)padString:(NSString *)funcString { NSString *myFormattedString = [NSString stringWithFormat:@"%04d",[funcString intValue]]; // if less than 4 then pad string // NSLog(@"my formatedstring = %@", myFormattedString); int stringLength = [myFormattedString length]; // captures length of string maybe I can use this on NSRange? //NSRange MyOneRange = {0, 1}; //&lt;&lt;-------- should I use this? if so how? } </code></pre>
<p>Use the substringFromIndex method,</p> <p><strong>OBJ-C:</strong></p> <pre><code>NSString *trimmedString=[string substringFromIndex:MAX((int)[string length]-4, 0)]; //in case string is less than 4 characters long. </code></pre> <p><strong>SWIFT:</strong></p> <pre><code>let trimmedString: String = (s as NSString).substringFromIndex(max(s.length-4,0)) </code></pre>
<p>Try This, </p> <pre><code>NSString *lastFourChar = [yourNewString substringFromIndex:[yourNewString length] - 4]; </code></pre>
<p>The Swift answer provided by KingOfBliss is producing an error for me as of XCode 7.3, and should not be used going forward due to bridging to NS classes, which should be removed in Swift 3.0.</p> <p>A better example that considers an invalid range, as well as the possibility of special characters to provide the right spot to remove:</p> <p>The string in question: Voulez-vous un cafeÃÅ?</p> <pre><code>var trimmedString = "Voulez-vous un caf\u{65}\u{301}?" let stringSize = trimmedString.characters.count let startIndex = 4 if stringSize &gt;= startIndex { let range = trimmedString.endIndex.advancedBy(-startIndex)..&lt;trimmedString.endIndex trimmedString.removeRange(range) } </code></pre> <p>This will produce an answer of <code>Voulez-vous un c</code>. </p> <p>By accessing the string with the start &amp; end index values, you protect against situations where not all chars are the same size (ex: <code>\u{65}\u{301}</code>)</p>