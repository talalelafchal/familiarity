The correct syntax of this JSON statement to pass array fields to variables in Swift?
I need help with the correct JSON syntax in Swift for being able to read a particular array passed from a php script that contains Strings and Integers. I want to split this array up into variable within swift. The output of the array in browser with example of player_id=2: {"totalWins":10,"totalDraws":6,"totalLosses":3,"winPercentage":"52.63%","goalsScored":40,"goalsConceded":30,"goalDifference":10} This is my Swift 3.0 function that calls the API:  let myUrl = URL(string: "http://www.quasisquest.uk/KeepScore/getTotalsStats.php?"); var request = URLRequest(url:myUrl!); request.addValue("application/json",forHTTPHeaderField: "Content-Type") request.addValue("application/json",forHTTPHeaderField: "Accept") request.httpMethod = "POST"; let postString = "player_id=\(self.playerId)"; request.httpBody = postString.data(using: String.Encoding.utf8); let task = URLSession.shared.dataTask(with: request) { (data: Data?, response: URLResponse?, error: Error?) in DispatchQueue.main.async { if error != nil { print("error=\(error)") return } do{ let json = try JSONSerialization.jsonObject(with: data!, options: .allowFragments) as? [String:Any] print (json as Any) if let arr = json?["totalWins"] as? [[String:String]] { self.newNumberWins = arr.flatMap { Wins($0) } print (self.newNumberWins) } } catch{ print(error) } } } task.resume() } The error I am getting in Xcode is: Error Domain=NSCocoaErrorDomain Code=3840 "Invalid value around character 0." UserInfo={NSDebugDescription=Invalid value around character 0.} With my limited knowledge of what's going on I'm guessing it is something to do with not assigning / getting the 'types' correct (i.e String, AnyObject, Dictionary). Also, I think I need to use .flatMap but I'm struggling to put all the pieces together. Can someone help me please? To clarify this is the output of my JSON in browser with example of player_id=2: {"totalWins":10,"totalDraws":6,"totalLosses":3,"winPercentage":"52.63%","goalsScored":40,"goalsConceded":30,"goalDifference":10} I have tested the JSON in Chrome REST client and this was the output: It has been suggested that I convert the data being received by the app to a string. However I don't know how to do this. If someone could point me in the right direction that would be immense.
Make sure your response header is set with content-type = "application/json"
Your JSON is there, but there is also html in your response. The best solution is to convert your data to a string, print it, and run it against jsonlint to see if it's valid. Your app is receiving something different than you expect it to. EDIT: I can't say it any clearer than this: