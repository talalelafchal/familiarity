I can't reload tableView while searcBar have text
When My searchBar is active and have text, I can delete cell but when its deleted the cell stay blank, i mean not reloads again? Here I have this code in is my deleteAction;  if self.searchController.isActive && self.searchController.searchBar.text != "" { context.delete(filteredArray[indexPath.row]) tableView.reloadData() self.appDelegate.saveContext() do { people = try context.fetch(Person.fetchRequest()} catch { print("Fetching Failed !!")} } else { context.delete(people[indexPath.row]) self.appDelegate.saveContext() do { people = try context.fetch(Person.fetchRequest())} catch { print("Fetching Failed !!")} tableView.reloadData() } And code for cellForRowAt.. func tableView(_ tableView: UITableView, cellForRowAt indexPath: IndexPath) -> UITableViewCell { let cell = tableView.dequeueReusableCell(withIdentifier: "Cell") as UITableViewCell! let person = people[indexPath.row] if searchController.isActive && searchController.searchBar.text != "" { cell?.textLabel?.text = filteredArray[indexPath.row].name if filteredArray[indexPath.row].isChecked { cell?.accessoryType = .checkmark } else { cell?.accessoryType = .none } } else { cell?.textLabel?.text = person.name if person.isChecked { cell?.accessoryType = .checkmark } else { cell?.accessoryType = .none } } cell?.backgroundColor = UIColor.clear // loading color return cell! } And here is screenshots;
The reason is because you are pulling the name from filteredArray: if searchController.isActive && searchController.searchBar.text != "" { cell?.textLabel?.text = filteredArray[indexPath.row].name // this line However, you've only updated the people array: if self.searchController.isActive && self.searchController.searchBar.text != "" { context.delete(filteredArray[indexPath.row]) self.appDelegate.saveContext() // This line below do { people = try context.fetch(Person.fetchRequest()} catch { print("Fetching Failed !!")} // Please also update your filteredArray here filteredArray = ... // And don't forget to reload after date is updated. tableView.reloadData() } else { ... After you updated filteredArray, it should work.