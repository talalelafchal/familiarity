Retrieve exactly 1 record of each chat XMPP iOS Swift
I am working on chat module of an application using XMPP Firebase, I have successfully retrieved messages based on userId and one to one messages (by senderId to receiverid and vise versa), but now I need to work on Inbox so for that I need to retrieve chats based on my userId with exactly 1 record of each friend's chat so that I can populate their names in the Inbox tableView to show them recent chats. EDIT This is how I'm retrieving friend's chat using his ID <iq type="get" id="ak1"> <retrieve xmlns="urn:xmpp:archive" with="friendid@server.com"> <set xmlns="http://jabber.org/protocol/rsm"> <max>10</max> <before>15</before> </set> </retrieve> </iq>