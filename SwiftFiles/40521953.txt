Repeat a function in set time Intervals
I'v been using Xcode/Swift for a couple weeks now and I'm currently working on my first little iOS game. Nothing to tricky just trying to learn the program and having some fun. Which leads me to my problem... ...I essentially want the background image I have in my app to change randomly (from a set of values in an array) but timed. So for example "every 2 seconds the background image changes." This is what I have so far, I've seen some stuff about NSTimer but I'm not too sure how to implement it with what I already have. @IBOutlet weak var backview: UIImageView! let BackNames = ["Back 1", "Back 2", "Back 3", "Back 4", "Back 5", "Back 6", "Back 7"] let BackValue = Int(arc4random_uniform(7)) backview.image = UIImage (named: BackNames [BackValue]) So yeah like I said, I know how to make it select a random value for the background, but it only happens when I tap my button. wondering how to incorporate the time feature with my arc4random. Thanks!
In objective-c; [NSTimer scheduledTimerWithTimeInterval:2.0 target:self selector:@selector(timerCalled:) userInfo:nil repeats:YES]; -(void)timerCalled { [UIView transitionWithView:textFieldimageView duration:0.2f options:UIViewAnimationOptionTransitionCrossDissolve animations:^{ imageView.image = newImage; } completion:nil]; }
Try this for animation of image : var imgListArray :NSMutableArray = ["Back 1", "Back 2", "Back 3", "Back 4", "Back 5", "Back 6", "Back 7"] for countValue in 1...7 { var strImageName : String = "Back \(countValue).png" var image = UIImage(named:strImageName) imgListArray .addObject(image) } self.imageView.animationImages = imgListArray; self.imageView.animationDuration = 1.0 // change as per your requirement self.imageView.startAnimating() refer : http://stackoverflow.com/a/24364736/3901620
Write a Change Color functions and use the function perform selector after delay. func ChangeColor() { BackValue = Int(arc4random_uniform(7)) backview.image = UIImage (named: BackNames [BackValue]) self.perform(#selector(ChangeColor), with: nil, afterDelay: 2.0) } To cancel selector use self.classForCoder.cancelPreviousPerformRequests(withTarget: self)
If you are working with objective-c use this method to manage your images: [self performSelector:@selector(yourFunction) withObject:nil afterDelay:yourTimeInterval]; Now in yourFunction method you can implement the code you want to animate... Hope it will help you