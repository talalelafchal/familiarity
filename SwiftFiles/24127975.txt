Crash assigning Float[] to CMutablePointer&lt;Float&gt; in Swift
<p>If I assign a float array to a <code>CMutablePointer&lt;Float&gt;</code> in a Swift playground as follows, I get a runtime crash:</p> <pre><code>var floatArray:Float[] = Array(count: 3, repeatedValue: 2.5) var floatPointer:CMutablePointer&lt;Float&gt; = &amp;floatArray </code></pre> <p>Is my code incorrect (if so how?), or should I file this as a bug with Apple?</p>
<p>Your param is a tab so you have to do like this</p> <blockquote> <p>var floatArray:Float[] = Array(count: 3, repeatedValue: 2.5)</p> <p><code>var floatPointer:CMutablePointer&lt;Float[]&gt; = &amp;floatArray</code></p> </blockquote>
<p>Your code, when compiled and run outside of the Playground:</p> <pre><code>var floatArray:Float[] = Array(count: 3, repeatedValue: 2.5) var floatPointer:CMutablePointer&lt;Float&gt; = &amp;floatArray floatPointer.withUnsafePointer { (myPtr1 : UnsafePointer&lt;Float&gt;) -&gt; () in var x = myPtr1.memory println("float array element 0 is \(x)") } </code></pre> <p>prints 2.5</p>