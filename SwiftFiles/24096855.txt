How to call a function from a different function?
<p>I'm trying to make a simple app that counts the characters of a textfield, but when the user inputs the text, the function that converts the user-inputed string into a var and the function that counts the characters are executed at once. Here's the code:</p> <pre><code>import UIKit class ViewController: UIViewController { @IBOutlet var myTextField : UITextField @IBOutlet var userTextField : UITextField override func viewDidLoad() { super.viewDidLoad() // Do any additional setup after loading the view, typically from a nib. myTextField.text = fullConstant } override func didReceiveMemoryWarning() { super.didReceiveMemoryWarning() // Dispose of any resources that can be recreated. } @IBAction func modifyMyVariable(sender : AnyObject) { myVariable = userTextField.text } @IBAction func clickMe(sender : AnyObject) { countCharacters(&amp;fullConstant) println(fullConstant) myTextField.text = fullConstant } } </code></pre> <p>And here's the "OtherFile.swift" where the functions are located:</p> <pre><code>import Foundation var fullConstant = "Type something!" var myVariable = "" func modifyMyVariable() { println() } func countCharacters(inout fullConstant: String) { let FirstPart = "There are " let LastPart = " characters" var numberOfCharacters = countElements(myVariable) switch numberOfCharacters { case 0 : fullConstant = "There isn't any character yet" case 1 : fullConstant = "There is just one character" default : fullConstant = FirstPart + String(numberOfCharacters) + LastPart } } </code></pre> <p>Both functions execute as soon the userTextField is edited, but if the user inputs one character, the <code>countCharacters</code> function takes the var <code>myVariable</code> before it's modified by the function <code>modifyMyvariable</code>, so it doesn't count the last character added.</p> <p>To solve this, I've thought that I could call the function <code>countCharacters</code> from the function <code>modifyMyVariable</code>, so the variable <code>myVariable</code> has already changed when it counts the characters.</p>
<p>Change the following and see if it's then easier to fix your problem. </p> <ul> <li>You should always only link each event to one IBAction. Your IBActions shouldn't be named after what you're trying to do in them; they should be named after the event that triggers them. For example, "modifyMyVariable" should be called "textEdited" or similar.</li> <li>In that "textEdited" method, do all the work you need to do. If you need to call another function, call it from there instead of linking to two IBActions.</li> <li><p>Put code in your "OtherFile" inside a </p> <pre><code>class OtherFile { } </code></pre></li> </ul> <p>block, and hold an instance to that class as a variable in your view controller. You want to avoid declaring global functions outside of classes.</p> <ul> <li>Not related, but name your constants using camelCase with first letter lower case, just like your variables. So FirstPart should be firstPart.</li> <li><p>Avoid using 'inout' as much as possible. Each language has it's conventions; in ObjC and Swift, pass in values needed to do work, and return values that result from that work. So:</p> <pre><code>func countCharacters(text: String) -&gt; (String) </code></pre> <ul> <li><p>Putting it all together, your 'modifyMyVariable' function (which should really be called 'textEdited') will look something like this: </p> <pre><code>myVariable = userTextField.text let characterCount = self.myOtherFileInstance.countCharacters(myVariable) myTextField.text = characterCount </code></pre></li> </ul></li> </ul> <p>and the other function (clickMe) should be deleted.</p>