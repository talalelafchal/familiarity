Delegate in Swift-language
<p>I have two controllers and i need call up function the first controller to second controller: In second controller I have created protocol and init delegate in class:</p> <pre><code> protocol testProtocol { func testDelegate() // this function the first controllers } class SecondViewController: UIViewController { var delegate: testProtocol? .... } @IBAction func testDelegateClicked(sender : AnyObject) { delegate?.testDelegate() } </code></pre> <p>First Controller <pre> class ViewController: UIViewController, testProtocol {</p> <code> var secondController: SecondViewController = SecondViewController() override func viewDidLoad() { super.viewDidLoad() secondController.delegate = self } func testDelegate() { println("Hello delegate") }&lt;/pre&gt; </code></pre> <p>But function not getting called</p>
<p>I am going to make an assumption you are using storyboards. If I am correct, then your issue is that your <code>secondController</code>, created in your First Controller, is not the actual one you are presenting. You will need to set <code>secondController</code> in your <code>prepareForSegue:</code></p> <h3>Second Controller</h3> <p>Unchanged</p> <h3>First Controller</h3> <pre><code>class ViewController: UIViewController, testProtocol { // you will want to add the ? since this variable is now optional (i.e. can be nil) var secondController: SecondViewController? // don't assign it a value yet // ... // implementation of the protocol func testDelegate() { println("Hello delegate") } // your prepare for segue override func prepareForSegue(segue: UIStoryboardSegue?, sender: AnyObject?) { // get the controller that storyboard has instantiated and set it's delegate secondController = segue!.destinationViewController as? SecondViewController secondController!.delegate = self; } } </code></pre>