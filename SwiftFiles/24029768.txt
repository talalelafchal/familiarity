UIAlertView in Swift, getting EXC_BAD_ACCESS
<p>First and foremost, I'm quite aware that Xcode 6 and the Swift language are in Beta and are prone to errors; however, this particular one seems to be something strange as everything else I've tried so far seems to work fine.</p> <p>If this is not appropriate for StackOverflow, I will gladly remove the question.</p> <p>I've begin playing with Xcode 6/Swift (preparing for its release) and it has been an extraordinarily enjoyable experience compared to what I thought it would be. That being said, one issue in porting a "training" style app I like to do is that I can't seem to generated a UIAlertView due to <code>EXC_BAD_ACCESS</code> the code in question is:</p> <pre><code>override func viewDidAppear(animated: Bool) { super.viewDidAppear(animated) var alert = UIAlertView(title: "Title", message: "Message", delegate: nil, cancelButtonTitle: "OK") // EXC_BAD_ACCESS here alert.show() } </code></pre> <p>On the line that creates the UIAlertView I get an <code>EXC_BAD_ACCESS</code> because <code>[UIAlertView retain]</code> was called on a deallocated instance.</p> <p>Again, I'm chalking this up to the beta banner but was curious if I was doing something wrong or if anyone else has run into similar issues. </p>
<p>Try the following code</p> <pre><code>let alert = UIAlertView() alert.title = "Title" alert.message = "My message" alert.addButtonWithTitle("Ok") alert.show() </code></pre> <p>But in iOS 8 </p> <p><code>UIAlertView</code> is deprecated. So use <code>UIAlertController</code> with a <code>preferredStyle</code> of <code>UIAlertControllerStyleAlert</code>. It should be:</p> <pre><code>var alert = UIAlertController(title: "Title", message: "Message", preferredStyle: UIAlertControllerStyle.Alert) alert.addAction(UIAlertAction(title: "Ok", style: UIAlertActionStyle.Default, handler: nil)) self.presentViewController(alert, animated: true, completion: nil) </code></pre> <p>Check the above code, are you getting same error or not ?</p>
<p>2 things u have to use delegate:self cancelButtonTitle ends with nil</p>
<p>From Xcode 6.0 UIAlertView class:</p> <blockquote> <p>UIAlertView is deprecated. Use UIAlertController with a preferredStyle of UIAlertControllerStyleAlert instead.</p> </blockquote> <p>On swift ( iOS 8 and OS X 10.10 ), you can do this:</p> <pre><code>var alert = UIAlertController( title: "Send", message: "You have successfully send your feedback.", preferredStyle: UIAlertControllerStyle.Alert ) alert.addAction(UIAlertAction( title: "Ok", style: UIAlertActionStyle.Default, handler: nil )) self.presentViewController(alert, animated: true, completion: nil) </code></pre>