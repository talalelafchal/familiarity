Transaction should be in which layer
I need to operate many tables in some situation , and should use Transaction. I am confused which layer the transaction should be in. business layer if the transaction is in the business layer, the db context should be got in the layer, like the following:  class PeopleServoce{ func update(){ let dbconext = dblayer.getContext() .....update avatar......... .....update user info...... dbconext,save() } } I do not know whether that db context in the bussiness layer is reasonable. DB layer class PeopleDBOperater{ func update(){ let dbconext = dblayer.getContext() .....AvatarDBOperater.update(context)......... .....update user info...... dbconext,save() } } class AvatarDBOperater{ func update(){ .....update avatar......... } }