Random profile images in Firebase
I would like to know, what would be the best approach for something like identicons and gravatar but in swift and to store them into Firebase and assign as profileImage. Other thing I came up with, would be to make array of image url-s and while registering, randomly pick one url and store it. Is it OK to do? Can you guys lead me to right direction?
I wouldn't recommend you holding all this data at once especially if you'll end up having multiple images. I would recommend one of the following A single gravatar Simply assign all newbie's profile image to this. You can even go ahead and store it inside your app so no need for a Firebase call or memory hogs. Feature dependent Try assigning gravatars based on specific fixed/factual characteristics of your users. Sex is the most preferable since its binary. Facebook uses the same approach when no profile image is added by the user. Should you opt for this method, Firebase is not really needed. Dynamic Multiple default avatars available and open to further addition. My guess is that you're interested in this one. User selection Have all of your avatars stored in Firebase and simply have the user select the most appealing to them. Since you'll be adding more avatars in the future, then I'd advice against loading all of your avatars at once. For memory optimization, Query for the first 10 avatars and present them to the user If user hasn't selected avatar and let's say they are 3/4 through of the already loaded images, query for another 10 avatars. This method is very memory friendly and it will not overwhelm the user with so much information. Random selection Have your avatars stored in Firebase Storage but also include a node in your Firebase database which tracks the number of avatars available. For this case lets call it total. Along with this I'd have a number-string to avatar url mapping in my avatar node. My structure would be something similar to this { "avatars": { "total":10, "1":"https://www.google.com", "2":"https://www.facebook.com", "3":"https://www.youtube.com" } } This begs the question, How do I randomly query for avatars? Uhh huuh.. Query Firebase to get the number of avatars you currently have Generate a random integer; say x which adheres to 1<=x<=total Convert x to String; y = String(x) Query Firebase where avatars.id == y and voila you have the imageURL Download the image from imageURL The downside to this is that the user has no control and should they hate their avatar there's nothing they can do about it. The upside is that at any given moment you're NOT loading all of the images in memory.