Export UIImageView layers to UIImage
I have a UIImageView with a layer on top of it and I want to save the UIImageView.image with those layers. Example: imageView.layer.mask = someLayer let image = imageView.image let activity = UIActivityViewController(activityItems: [image], applicationActivities: nil) present(activity, animated: true, completion: nil) But this only saves the Image without the layers from the imageView. What do I have to do? Taking a screenshot of the imageView may be nice but I lose image quality while doing this and I want to keep the original resolution.
This will give you the original resolution: - (UIImage *)imageFromImageView:(UIImageView *)view{ UIGraphicsBeginImageContextWithOptions(view.bounds.size, NO, [UIScreen mainScreen].scale); [view drawViewHierarchyInRect:view.bounds afterScreenUpdates:YES]; UIImage *image = UIGraphicsGetImageFromCurrentImageContext(); UIGraphicsEndImageContext(); return image; }