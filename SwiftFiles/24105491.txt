UIkit Dynamics in swift
<p>Trying to convert some objective c code to swift and struggling to achieve results.</p> <pre><code>animator = [[UIDynamicAnimator alloc] initWithReferenceView:self.view]; _gravity = [[UIGravityBehavior alloc] initWithItems:@[square]]; </code></pre> <p>at to moment I have got</p> <pre><code>animator.referenceView = self.view </code></pre> <p>Doesn't work though. Can someone guide me in the right direction. Thanks in advance</p> <p>Full Code</p> <pre><code>let square = UIView() square.frame = CGRectMake(100, 100, 100, 100) square.backgroundColor = UIColor.redColor() self.view.addSubview(square) var animator = UIDynamicAnimator() var gravity = UIGravityBehavior() animator.referenceView = self.view animator.addBehavior(gravity) </code></pre>
<p>holex was on to it, but the key is that you have to store a reference to the animator, here's a working example:</p> <pre><code>class ViewController: UIViewController { var animator:UIDynamicAnimator? override func viewDidLoad() { super.viewDidLoad() let square = UIView() square.frame = CGRectMake(100, 100, 100, 100) square.backgroundColor = UIColor.redColor() self.view.addSubview(square) self.animator = UIDynamicAnimator(referenceView:self.view) var gravity = UIGravityBehavior(items: [square]) animator!.addBehavior(gravity) } } </code></pre>