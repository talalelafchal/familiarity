how to know if there is a consecutivly increasing five values in a vector
<p>I have an vector and I need to know if there is any five consecutive numbers where the values increases (sorted). I found a solution but I am sure that there is another solution which will be more efficient. Any help?</p> <p>My Code:</p> <pre><code>A = [10 4 1 2 3 4 1 2]; for i =1 :length(A)-5 temp = A(i:i+5); sor(i) = issorted(temp); end </code></pre>
<p>Use <a href="http://es.mathworks.com/help/matlab/ref/diff.html" rel="nofollow"><code>diff</code></a> to compute changes and <a href="http://es.mathworks.com/help/matlab/ref/conv.html" rel="nofollow"><code>conv</code></a> to accumulate over a window of <code>n=5</code> consecutive values:</p> <pre><code>n = 5; result = any(conv(double(diff(A)&gt;0), ones(1,n), 'valid')==n); </code></pre> <p>The variable <code>result</code> will be <code>1</code> (<code>true</code>) if the condition is met, and <code>0</code> (<code>false</code>) otherwise.</p> <p>You may want to replace <code>&gt;</code> by <code>&gt;=</code>.</p> <p>If you need to know the <em>starting indices</em> of each run of <code>n</code> consecutive positive changes, use <code>find</code> instead of <code>any</code>:</p> <pre><code>starts = find(conv(double(diff(A)&gt;0), ones(1,n), 'valid')==n); </code></pre>