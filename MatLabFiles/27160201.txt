MATLAB: How do I evaluate a symbolic function given an array of numbers, and return an array of results?
<p>My code looks like this in MATLAB:</p> <pre><code>nn = 0:50; syms n z X H Y X = 1/(1+1/z); H = (2+2/z)/(1-0.8/z); Y = X*H; x = iztrans(X,z,n); y = iztrans(Y,z,n); xx = subs(X, n, nn); yy = subs(Y, n, nn); </code></pre> <p>However, I got this error:</p> <pre><code>Error using mupadmex Error in MuPAD command: DOUBLE cannot convert the input expression into a double array. If the input expression contains a symbolic variable, use the VPA function instead. </code></pre> <p>What is the correct way so it will return a whole array of numbers based on nn?</p>
<p><code>matlabFunction</code> is your friend! It's a really useful function, I'd recommend looking at the documentation too so you can apply it in other situations. It converts a symbolic expression into an anonymous function that does element-wise operations so you can input matrices.</p> <pre><code>nn = 0:50; syms n z X H Y X = 1/(1+1/z); H = (2+2/z)/(1-0.8/z); Y = X*H; x = iztrans(X,z,n); y = iztrans(Y,z,n); Xfunc=matlabFunction(X); Yfunc=matlabFunction(Y); xx=Xfunc(nn) yy=Yfunc(nn) </code></pre>