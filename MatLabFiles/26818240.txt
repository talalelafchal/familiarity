Getting whole line by combining its parts
<p>I have an image and my aim is to get whole line which is shown with red line. I am working with matlab and I don't want to use <code>IM2 = imdilate(IM,SE)</code> function. </p> <p>Is there any function or method to do that? </p> <p>The image: <img src="https://i.stack.imgur.com/boNvi.jpg" alt="enter image description here"></p> <p>Note: Sorry for bad red line. I drew it with paint.</p> <p>Edit:</p> <p>The original image is below:</p> <p><img src="https://i.stack.imgur.com/wbivw.jpg" alt=""></p>
<p>Here's what I have after using <code>imdilate</code> at an intermediate step -</p> <pre><code>%// Read in image and convert to a binary one im = imread('Line.jpg'); bw = im2bw(im); %// There seems to be a thin white boundary across the image, make it false(black) bw1 = false(size(bw)); bw1(5:end-5,5:end-5) = bw(5:end-5,5:end-5); bw1(biggest_blob(bw1)) = 0; %// remove biggest blob (bottom left corner one) SE = strel('disk', 11, 8); %// structuring element for dilation bw2 = imdilate(bw1,SE); %// dilate the image bw3 = bwmorph(bw2,'thin',Inf); %// thin it out = biggest_blob(bw3); %// out of many thinned lines, select the biggest one </code></pre> <p>Please remember that the motive behind removing the biggest blob at the start of the codes is that without that being removed, we would have gotten the biggest blob being attached to the island blobs that we were trying to connect/combine and thus would have messed up the desired output.</p> <p>Associated function (taken from <a href="http://stackoverflow.com/a/22515304/3293881"><strong><code>Select largest object in an image</code></strong></a>) -</p> <pre><code>function out = biggest_blob(BW) %// Find and labels blobs in the binary image BW [L, num] = bwlabel(BW, 8); %// Count of pixels in each blob, basically this should give the area of each blob counts = sum(bsxfun(@eq,L(:),1:num)); %// Get the label(ind) cooresponding to blob with the maximum area %// which would be the biggest blob [~,ind] = max(counts); %// Get only the logical mask of the biggest blob by comparing all labels %// to the label(ind) of the biggest blob out = (L==ind); return; </code></pre> <p>Result -</p> <p><img src="https://i.stack.imgur.com/cbVpI.png" alt="enter image description here"></p>