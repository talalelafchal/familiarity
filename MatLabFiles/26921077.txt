MATLAB: Vectors, Sequential Elements and rand
<p>This question is from <a href="http://www.chegg.com/homework-help/questions-and-answers/given-vector-n-elements-simple-moving-average-m-sequential-elements-vector-defined-write-s-q6177069" rel="nofollow">chegg.com</a>.</p> <p>Given a vector a of N elements a_{n},n =1,2,...,N, the simple moving average of m sequential elements of this vector is defined as</p> <pre><code>mu(j) = mu(j-1) + (a(m+j-1)-a(j-1))/m for j = 2,3,...,(N-m+1) </code></pre> <p>where</p> <pre><code>mu(1) = sum(a(k))/m for k = 1,2,...,m </code></pre> <p>Write a script that computes these moving averages when <code>a</code> is given by <code>a=5*(1+rand(N,1))</code>, where <code>rand</code> generates uniformly distributed random numbers. Assume that <code>N=100</code> and <code>m=6</code>. Plot the results using <code>plot(j,mu(j))</code> for <code>j=1,2,...,N-m+1</code>.</p> <p>My current code is below, but I'm not sure where to go from here or if it's even right.</p> <pre><code>close all clear all clc N = 100; m = 6; a = 5*(1+rand(N,1)); mu = zeros(N-m+1,1); mu(1) = sum(a(1:m)); for j=2 mu(j) = mu(j-1) + (a-a)/m end plot(1:N-m+1,mu) </code></pre>
<p>I'll step you through the modifications.</p> <p>Firstly, <code>mu(1)</code> was not fully defined. The equation given is slightly incorrect, but this is what it should be:</p> <pre><code>mu(1) = sum(a(1:m))/m; </code></pre> <p>then the <code>for</code> loop has to go from <code>j=2</code> to <code>j=N-m+1</code></p> <pre><code>for j=2:N-m+1 </code></pre> <p>and at each step, <code>mu(j)</code> is given by this formula, the same as given in the question</p> <pre><code>mu(j) = mu(j-1) + (a(m+j-1)-a(j-1))/m </code></pre> <p>And that's all you need to change!</p>