Taking a special image derivative using convolution
<p>I have two images at different times. The first image is <code>im1</code> at time <code>t1</code> and the second image is <code>im2</code> at time <code>t2</code>. I want to take the spatial derivative with respect to <code>x</code>. Could someone help me understand the following <code>MATLAB</code> code? </p> <pre><code>fx = conv2(im1, 0.25 * [-1 1; -1 1]) + conv2(im2, 0.25 *[-1 1; -1 1]); </code></pre> <p>I would be thankful to if someone can shed light on this kernel. </p> <p><img src="https://i.stack.imgur.com/F8MaU.png" alt="enter image description here"></p> <p>What type of image derivative the above mentioned code is? Is my understanding of what the kernel does correct, shown below?</p> <p><img src="https://i.stack.imgur.com/3Mpmf.png" alt="enter image description here"></p> <p>where superscripts <code>n</code> and <code>n+1</code> represent time <code>t1</code> and <code>t2</code>, respectively. <code>i</code> loops through the rows (vertical) and <code>j</code> loops through the columns (horizontal) of the image function <code>f</code>, as shown in figure below.</p> <p><img src="https://i.stack.imgur.com/gUwea.png" alt="enter image description here"></p>
<p>The convolution is done by multiplying a window of 2x2 pixels with the kernel and summing up the result. Since the first term in each row is -1 and the second is 1, the convolution result for each pixel will be the difference between two adjacent horizontal pixels, which is a (discrete) derivative in the horizontal direction. </p>