Store rows of a matrix in variables - MATLAB
<p>I need to store each row of a matrix in vectors. If the matrix were to be something like:</p> <pre><code> mtx = 0 3 4 3 0 1 4 1 0 </code></pre> <p>The vectors would be:</p> <pre><code>vec1 = 0 3 4 vec2 = 3 0 1 vec3 = 4 1 0 </code></pre> <p>How should I do it? Note that I don't know how many vectors there will be (at the time of code).</p>
<p>You cant dynamically create variables, without using <a href="http://au.mathworks.com/help/matlab/ref/eval.html" rel="nofollow">eval</a>. The best way, would be creating <a href="http://au.mathworks.com/help/matlab/matlab_prog/generate-field-names-from-variables.html" rel="nofollow">dynamically</a> fields of a structure, like this:</p> <pre><code>s = struct(); for rowi = 1:size(mtx, 1) s.(sprintf('var%d', rowi)) = mtx(rowi,:) end </code></pre> <p>This gives:</p> <pre><code>s = var1: [0 3 4] var2: [3 0 1] var3: [4 1 0] </code></pre>
<pre><code>vec1 = mtx(1,:) vec2 = mtx(2,:) vec3 = mtx(3,:) </code></pre> <p>If you have more vectors (an unknown number before runtime), can use a cell array</p> <pre><code>[m, n] = size(mtx); for i = 1:m vec{i} = mtx(i, :); end; </code></pre> <p>Now <code>vec{i}</code> contains the <code>i</code>-th row vector. You should really think if this is something you really want, as you can simply just use <code>mtx(i,:)</code>.</p>
<p>This is the <em>"not recommended"</em> answer (that's why no one is posting it)!</p> <pre><code>mxt = [ 0 3 4; 3 0 1; 4 1 0]; for i = 1 : size(mxt,1) eval(['vec',num2str(i),' = mxt(',num2str(i),',:);']) end </code></pre> <p>gives you,</p> <pre><code>vec1 = [0 3 4]; vec2 = [3 0 1]; vec3 = [4 1 0]; </code></pre>