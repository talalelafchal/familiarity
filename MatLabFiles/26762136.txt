Why is floor(5 - 2*eps) &lt; 5 false?
<p>It seems absurd to me that Matlab would evaluate <code>floor(5-eps) &lt; 5</code> as false. In fact, even <code>floor(5-2*eps) &lt; 5</code> is false. </p> <p>This is what I would consider a bug, as <code>eps</code> is only about <code>1e-16</code> -- far from the minimum double value. Is there a specific reason why Matlab returns false? What's the idea there? </p>
<p>You want to use <code>eps(x)</code>, not just <code>eps</code></p> <blockquote> <p>eps(X) is the positive distance from abs(X) to the next larger in magnitude floating point number of the same precision as X.</p> </blockquote> <p>In fact, if you compare the HEX representation of <code>x</code> and <code>x+eps(x)</code>, normally they should differ by one bit in the mantissa:</p> <pre><code>&gt;&gt; format hex &gt;&gt; x = 5 x = 4014000000000000 &gt;&gt; x + eps(x) ans = 4014000000000001 </code></pre>