Error creating a prtools dataset prdataset() with char labels
<p>I have problems creating my prtools dataset. the function prdataset returns an error: </p> <pre><code>Error using prdataset (line 266) Illegal datatype Error in LoadData (line 35) prdat=prdataset(data,labels,'featlab',featlab); </code></pre> <p>I detected the error is caused by the ‘labels’ (2nd parameter) which is a char matrix (see image) and should be one of the types accepted by the prdataset function (is either integer or char).</p> <p>This is my code:</p> <pre><code>% Parameters Nfeatures=16; Ninstances=20000; Ntr_inst=16000; Ntst_inst=Ninstances-Ntr_inst; % Load file fid = fopen('letter-recognition.data'); parsed_file = textscan(fid,'%c%u8%u8%u8%u8%u8%u8%u8%u8%u8%u8%u8%u8%u8%u8%u8%u8','delimiter',','); fclose(fid); data=cell2mat(parsed_file(2:Nfeatures+1)); labels=parsed_file{1}; featlab=[ ... 'x-box'; ... %horizontal position of box (integer) 'y-box'; ... %vertical position of box (integer) 'width'; ... %width of box (integer) 'hight'; ... %height of box (integer) 'onpix'; ... %total # on pixels (integer) 'x-bar'; ... %mean x of on pixels in box (integer) 'y-bar'; ... %mean y of on pixels in box (integer) 'x2bar'; ... %mean x variance (integer) 'y2bar'; ... %mean y variance (integer) 'xybar'; ... %mean x y correlation (integer) 'x2ybr'; ... %mean of x * x * y (integer) 'xy2br'; ... %mean of x * y * y (integer) 'x-ege'; ... %mean edge count left to right (integer) 'xegvy'; ... %correlation of x-ege with y (integer) 'y-ege'; ... %mean edge count bottom to top (integer) 'yegvx'; ... %correlation of y-ege with x (integer) ]; prdat=prdataset(data,labels,'featlab',featlab); % Separate train and test [prtrain, prtest]=gendat(pr_data,Ntr_inst); % Save dataset save('letter-recognition-prdataset.mat', 'prtrain', 'prtest'); </code></pre> <p>the line causing the error is <code>prdat=prdataset(data,labels,'featlab',featlab); </code> The image shows the type of the labels variable</p> <p><img src="https://i.stack.imgur.com/7aerx.png" alt="enter image description here"></p> <p>What am I doing wrong?</p> <p>Thanks!</p>
<p>I finally found out. It wasn't at all about the labels. prdataset expects <code>double</code> data. And I had <code>uint8</code> due to <code>%u8</code> in <code>textscan</code> adding <code>double(data)</code> made the trick!</p>