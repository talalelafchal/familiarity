How to impose a cpu use of 100% for all my MATLAB session working in parallel?
<p>I have 9 Matlab jobs that I want to run with Matlab from the terminal of my Mac (MAC OS X 10.8.5 2*2.4GHz 6-core Intel Xeon).</p> <p>So I open 9 tabs in the Terminal and in each of the I open a Matlab session using the command:</p> <pre><code>//Applications/MATLAB_R2014b.app/bin/matlab -nodesktop </code></pre> <p>Then in each of these Matlab session I launch my program (which does not -and can not- use parfor). The jobs runs.</p> <p>But when I do a top in a Terminal window I find out that the Matlab sessions only use between 1% and 45% of the CPU (and I am suppose to have 12 cores!).</p> <p>Any idea of what the problem might be? Can I impose a certain percentage of the CPU use?</p> <p>I tried to impose the priority using</p> <pre><code>sudo renice -19 -p &lt;PID number&gt; </code></pre> <p>but it does not seem to work (even by changing -19 to 0 or +19).</p> <p>Thanks for your help ;)</p>
<p>As written by @Olivier, you will see a 100% load only if your program actually is CPU-bound. If it reads data from disk, and/or handles large matrices, it could be IO-bound.</p> <p>For instance a simple loop like </p> <pre><code>&gt;&gt; for i = 1:1000000000000; i=i+1;end </code></pre> <p>should max out CPU usage</p> <pre><code>15627 user 20 0 7161m 618m 110m S 102.0 0.4 2:44.14 MATLAB </code></pre> <p>so you can use it and see whether or not the CPU usage reaches 100% for one instance. If it does, it means your code is not CPU-bound, and you might want to try and run more instances of Matlab at the same time, memory permitting. If it does not, you should review your configuration and find the cause of this behavior.</p>