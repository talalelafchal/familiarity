summation of difference between two vectors matlab
<p>I have two acceleration vectors, between which i am supposed to find the relative error using the following formula:</p> <p>Relative_error=(1/n)*sum (abs (a_s-a_m)/a_m) and the summation is defined between the interval 1:n a_s is the simulated acceleration and a_m is the measured acceleration</p> <p>I have tried the following code but doesn't seem to work </p> <pre><code>for i=1:n; re_1=abs(simulated_suspended_mass_acc(i)-cushion_base_acc(i))/cushion_base_acc(i) result=(1/n)*sum(re_1(1:n)) end </code></pre> <p>I have even tried cumsum and symsum. Again no positive results.</p> <p>Any help will be greatly appreciated!</p>
<p>Putting the calculation of the result outside of the loop and a small modification should help, if I understand your problem correctly:</p> <pre><code>single_errors = zeros(n,1); %Preallocate a length n vector to store the error at each point in the interval valid_n = 0; for i=1:n; single_errors(i)=abs(simulated_suspended_mass_acc(i)-cushion_base_acc(i))/cushion_base_acc(i); % You can add a check for NaNs in the loop with an easy if statement and try to do corrections if isnan(single_errors(i)) single_errors(i) = 0; else valid_n = valid_n + 1; % One more valid value in the vector end end result=(1/valid_n)*sum(single_errors); %Division over valid_n to get the average value only for the valid values (not NaN) </code></pre>