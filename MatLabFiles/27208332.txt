Run Matlab Coder Output Project on Visual Studio or g++
<p>I wanted to convert my simulation code in Matlab to C++ and run it with a C++ compiler such as Visual Studio or g++. I modified my code to successfully build a C++ project using Matlab Coder. The coder returns a .prj file in the top project directory, and tens or hundreds of c++ source/header/object files in the dll directory. I tried to open the .prj files with Visual Studio 2012 or 2013 (I tried with both versions) that was unsuccessful and they cannot even open a .prj file. I have made sure to configure the Visual Studio as the C++ language compiler in Matlab using mex -setup. Does anyone have any idea how to handle the .prj and the subsequent files with Visual Studio or g++? I don't want to make it executable at the moment; I just want to run it with either compilers and make sure it's working. Thanks</p>
<blockquote> <p>Does anyone have any idea how to handle the .prj </p> </blockquote> <p>you supposed to run "mcc" on .prj file, I believe</p> <p>Quote</p> <p>"Specify that mcc use settings contained in the specified project file. Use</p> <p>-F project_name.prj to specify project_name as the project file name when calling mcc. This option enables the .prj file, along with all of its associated settings, to be fed back to mcc. Project files created using either mcc or deploytool are eligible to use this option. When using -F, no other arguments may be invoked against mcc."</p>
<p>The <code>prj</code> file that is generated is used for the MATLAB Coder GUI, rather than Visual Studio. If you double-click that file in MATLAB, the Coder GUI will open and you can generate code using it.</p> <p>For a simple example of using the generated code in Visual Studio you can refer to <a href="http://www.mathworks.com/help/coder/ug/using-a-matlab-coder-dynamic-library-in-a-simple-microsoft-visual-studio-project.html" rel="nofollow">the documentation</a>.</p> <p>If you are going to use the generated code on the same platform on which you are running MATLAB, I would recommend changing the output type to a static library (<code>LIB</code>) or a shared library (<code>DLL</code>). Doing so will cause the C or C++ code to be generated and then compiled into a library using the compiler that you specified. Then you can write code that calls the functions declared in the generated header file(s) and link in the generated library when compiling your hand-written code.</p> <p>For Visual Studio, you'll need to add the codegen directory, <code>codegen/lib/&lt;proj_name&gt;</code> to the include path and add the generated LIB/DLL file as a dependency. With GCC, you'll need to add the same directory to the include path when compiling your code and link in the library.</p> <p>The second half of my <a href="http://stackoverflow.com/a/26014521/3297440">other answer</a> has more information in it.</p> <p>Alternatively, if you have a C <code>main</code> function written, you can set the output type to <code>EXE</code> and <a href="http://www.mathworks.com/help/coder/ug/standalone-c-c-executables-from-matlab-code.html#bsyjsyf" rel="nofollow">specify the main function</a> to have MATLAB Coder generate code, compile it with your provided <code>main</code> and compile a standalone executable.</p>