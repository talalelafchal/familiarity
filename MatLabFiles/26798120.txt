Get all comment lines
<p>How to get (or remove) all comment lines from a matlab file?</p> <p>Lines may start with no or an arbitrary number of whitespaces followed by one or more <code>%</code>, followed by the comment.</p> <p>Using</p> <pre><code>only_comments = regexp(raw_string, '(?m)^[ ]*[%].*?$', 'match'); </code></pre> <p>fails. Also, how to make sure tabs will be catched?</p> <p>As I understand this its </p> <ul> <li><code>(?m)</code> line mode </li> <li><code>^</code> beginning of line</li> <li><code>[ ]*</code> none or any number of white spaces</li> <li><code>[%].*?$</code> followed by a <code>%</code> and then any charachter until the line end is reached.</li> </ul> <p>Whats wrong?</p>
<pre><code>(?m)^[ ]*%+.*$ </code></pre> <p>Think you need this.your regex <code>(?m)^[ ]*[%].*?$</code> does not quantify <code>%</code>.It will match only 1 <code>%</code>.You need to use <code>%+</code> to match one or more of it.</p>
<p>Seems like you want something like this,</p> <pre><code>only_comments = regexp(raw_string, '(?m)^[ ]*[%]+.*?$', 'match'); </code></pre> <p>OR</p> <pre><code>only_comments = regexp(raw_string, '(?m)^ *%+.*$', 'match'); </code></pre> <p><strong>Explanation:</strong></p> <ul> <li><code>^</code> Asserts that we are at the start.</li> <li><code>&lt;space&gt;*</code> Matches zero or more spaces.</li> <li><code>%+</code> Matches one or more <code>%</code></li> <li><code>.*</code> Matches any character but not of line breaks.</li> <li><code>$</code> Asserts that we are at the end.</li> </ul>