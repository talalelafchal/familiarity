string concatenation and apostrophe marks
<p>I have a long sql query that I am writing in MATLAB. To make it easier for people to read what is it doing I am trying to break the query on to a few lines rather than one long line.</p> <p>Below is my code (names changed).</p> <pre><code>sql_statement = strcat('select some_feilds from'... ,' databaseOne.tableOne'... ,' join databaseTwo.tableTwo'... ,' on databaseOne.tableOne.f1 = databaseTwo.tableTwo.f2'... ,' where databaseTwo.tableTwo.f2 =','''', x_lbl(1, 1),''); </code></pre> <p>The issue I have is the x_lbl(1,1) needs an ' either side of it. i.e f2 = 'Health'.</p> <p>The code above gives me ''Health' which is rather fustrating as when I just the do the line below I get 'Health'. Maybe I'm going blind and losing my mind but can't see to get my query in the correct format?</p> <pre><code> lbl = strcat('''', x_lbl(1,1), ''''); </code></pre> <p><strong>update</strong></p> <pre><code> x_lbl(1,1) ans = 'Health Care' sql_statement = [1x225 char] </code></pre> <p>that's the answer when using the last line,</p> <pre><code>,' where DVLP_QES.dbo.num_name_mapping.name = ','''', x_lbl(1, 1),''''); </code></pre>
<p>If you need your <code>sql_statement</code> to finish like <code>select [...] tableTwo.f2 ='Health'</code> you need to add 2 more single quotes at the end of you <code>strcat</code>:</p> <pre><code>sql_statement = strcat('select some_feilds from'... ,' databaseOne.tableOne'... ,' join databaseTwo.tableTwo'... ,' on databaseOne.tableOne.f1 = databaseTwo.tableTwo.f2'... ,' where databaseTwo.tableTwo.f2 =','''', x_lbl(1, 1),''''); </code></pre> <p>I supposed <code>x_lbl(1, 1) = Health</code> without quotes, right?</p> <p><strong>EDIT:</strong></p> <p>Using MATLAB R2014a</p> <pre><code>&gt;&gt; x_lbl = 'Health'; &gt;&gt; x_lbl x_lbl = Health &gt;&gt; sql_statement = strcat('select some_feilds from'... ,' databaseOne.tableOne'... ,' join databaseTwo.tableTwo'... ,' on databaseOne.tableOne.f1 = databaseTwo.tableTwo.f2'... ,' where databaseTwo.tableTwo.f2 =','''', x_lbl,''''); &gt;&gt; sql_statement sql_statement = select some_feilds from databaseOne.tableOne join databaseTwo.tableTwo on databaseOne.tableOne.f1 = databaseTwo.tableTwo.f2 where databaseTwo.tableTwo.f2 ='Health' </code></pre>