How to cut a matrix in Matlab?
<p>I would like to transform the matrix <code>A</code> into the matrix <code>B</code> without using cells (e.g. <code>mat2cell</code>) in Matlab, where</p> <pre><code>A=[1 2 3; 4 5 6; 7 8 9; 10 11 12; 13 14 15; 16 17 18; 19 20 21; 22 23 24; 25 26 27]; B=[1 2 3 10 11 12 19 20 21; 4 5 6 13 14 15 22 23 24; 7 8 9 16 17 18 25 26 27]; </code></pre>
<p>This builds a linear index to rearrange the entries of <code>A</code> and then reshapes into the desired matrix <code>B</code>:</p> <pre><code>m = 3; %// cut size in rows of A. Assumed to divide size(A,1) n = size(A,2); p = size(A,1); ind = bsxfun(@plus, ... bsxfun(@plus, (1:m).', (0:n-1)*p), permute((0:p/m-1)*m, [1 3 2])); B = reshape(A(ind(:)), m, []) </code></pre>
<p>All you need is some <strong><a href="http://in.mathworks.com/help/matlab/ref/reshape.html" rel="nofollow">reshape</a></strong> + <strong><a href="http://in.mathworks.com/help/matlab/ref/permute.html" rel="nofollow">permute</a></strong> magic -</p> <pre><code>N = 3; %// Cut after every N rows and this looks like the no. of columns in A B = reshape(permute(reshape(A,N,size(A,1)/N,[]),[1 3 2]),N,[]) </code></pre>