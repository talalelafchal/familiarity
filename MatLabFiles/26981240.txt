Stopping criteria matlab iteration
<p>I want to add an While-loop to my matlab-code so that it will stop when the iteration is good enough. With some kind of tolerance, eg. 1e-6. </p> <p>This is my code now. So i need to add some kind of stopping criteria, i have tried several times now but it won't work... I appreciate all of ur help! </p> <pre><code>x(1)=1; iterations = 0; tolerance = 1e-6; </code></pre> <p>% Here should the while be.... </p> <pre><code>for i=1:N x(i+1)=x(i); for j=1:N x(i+1)=F(x(i),x(i+1)); end end iter= iter + 1; </code></pre>
<p>Well, somehow you need to compute the 'error' you are doing in each iteration. In your case it would be something like this:</p> <pre><code>iter = 0; tolerance = 1e-6; error=1; x=F(x); while(error&gt;tolerance) x2=x; x=F(x); error = x-x2; iter= iter + 1; end </code></pre> <p>Note how at the beginning the error is set to 1 so we make sure it goes inside the loop. We also compute the first instance of <code>x</code> outside the loop. F(x) will be your function to evaluate, change it for whatever you need.</p> <p>Inside the loop assign the old value of <code>x</code> to <code>x2</code>, then compute the new <code>x</code> and finally compute the error. Here I compute the error as <code>x-x2</code> but you might need to compute this error in another way.</p> <p>The loop will exit whenever the error is lower than the tolerance.</p>