How can i write bits to a file in matlab
<p>I have a table that looks like this:</p> <blockquote> <p>'00'</p> <p>'010'</p> <p>'011'</p> <p>'100'</p> <p>'1010'</p> <p>'1011'</p> <p>'1100'</p> <p>'11010'</p> <p>'11011'</p> <p>'11100'</p> <p>'11101'</p> <p>'11110'</p> <p>'11111'</p> </blockquote> <p>This is a cell array that contains the binary codification of some characters(based on Shannon-Fano algorithm. My question is how do i write this codes to file so that every 0 and 1 are interpreted as a bit.</p> <p>Is something as <code>fwrite(F,V{I,3},'bit1')</code> going to work ( the binary codification being on the third column and using I to identify the row) ?</p>
<p>No, file operations are inherently byte-oriented. You may not write partial bytes out. You need to concatenate all the bits into a string of bytes, and write that string out. The code might look something like this:</p> <pre><code>allbits = cat(2, V{:,3}); % concatenate all bits into one giant binary string npadding = 8 - mod(length(allbits), 8); % number of bits needed to produce an even multiple of 8 if(npadding &lt; 8) % pad with zeros allbits = [allbits repmat('0', 1, npadding)]; end bytestring = reshape(allbits, 8, []).'; % reshape into a matrix of binary strings bytes = bin2dec(bytestring); % convert to integers fwrite(fid, bytes, 'uint8'); % be sure to write out the integers as 8-bit bytes </code></pre> <p>This code makes some assumptions, which you'll want to adjust to your expectations: order of bits in the file, type of padding for incomplete bytes, etc.</p>