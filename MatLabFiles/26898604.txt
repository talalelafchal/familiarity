is there a better way of assigning values to a matrix
<p>say i have a matrix </p> <pre><code>A=zeros(10,3); </code></pre> <p>and a vector </p> <pre><code>ll=[1 1 1 2 2 2 3 1 3 2]'; </code></pre> <p>and i want to assign the value in each row corresponding to the value in ll for that row to be 1</p> <p>i.e output would be</p> <pre><code>A= 1 0 0 1 0 0 1 0 0 0 1 0 0 1 0 0 1 0 0 0 1 1 0 0 0 0 1 0 1 0 </code></pre> <p>how i do it is using a for loop</p> <pre><code>for ii=1:length(ll) A(ii,ll(ii)=1; end </code></pre>
<p>This should do the trick:</p> <pre><code>ll=[1 1 1 2 2 2 3 1 3 2]'; A=bsxfun(@eq,ll,1:max(ll)) </code></pre> <p>I'm using <code>bsxfun</code> to check when the entry of <code>ll</code> is equal to an element of the row vector <code>[1 2 3]</code> (in this case). If the entry of <code>ll</code> is 1, it will be equal to the entry in the first column of the <code>[1 2 3]</code> vector and will give a 1 in the first column of <code>A</code> and zeros in the rest of the columns of that row.</p>
<p>Just convert to a <a href="http://es.mathworks.com/help/matlab/math/matrix-indexing.html" rel="nofollow">linear index</a>:</p> <pre><code>A((ll-1)*size(A,1) + (1:size(A,1)).') = 1; </code></pre>