Creating new matrix out of one column by order of two other columns
<p>So I have a matrix A, take as an example</p> <pre><code> 4 6 3.5 3 6 -1 A = 5 2 0.7 4 3 1.2 </code></pre> <p>I now want to use Matlab to make a matrix B out of the last column of A in a very specific way. The rows of B should be ordered by the first column of A (in ascending order) and the columns of B should be ordered (ascending) by the second column of A. This can give empty elements in B, which should be assigned NaN. Applied to the example above this gives</p> <pre><code> NaN NaN -1 B = NaN 1.2 3.5 0.7 NaN NaN </code></pre> <p>Note that the number of rows and columns in B depend on the number of unique elements in the first and second column of A respectively.</p> <p>I have tried a few different things trying to be clever with Matlab indexing but so far no success..</p>
<p>You can use this method</p> <pre><code>[~,J1,K1] = unique(A(:,1)); [~,J2,K2] = unique(A(:,2)); sz = [numel(J1) numel(J2)]; B = nan(sz); B(sub2ind(sz, K1, K2)) = A(:,3); </code></pre> <p>first use <code>unique</code> to gather the unique items and their indices in the original column. The size of <code>B</code> is determined by number of unique elements in first and second column of <code>A</code>. Now use linear indexing (obtained using <code>sub2ind</code>) to put the values in third column in the right place.</p>