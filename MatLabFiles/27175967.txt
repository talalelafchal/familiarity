3D Matrix in Simulink which can be 2D is not supported
<p>I am using SIMULINK and I needed to define a Rotation Matrix 3,3,N where N is the number of Robots which I am trying to simulate. To do that, because I am also using the Simulink Coder I had to define the signal related to this matrix as <strong>Variable Size</strong> and I had to define the upper-bound in the following way: <img src="https://i.stack.imgur.com/Cg6Rw.png" alt="enter image description here"></p> <p>The problem is that <strong>when I want to use only one robot</strong> (I set n_robots to 1) <strong>I get the following error.</strong></p> <p><em>Cannot initialize dimensions of 'R' of 'test_pos_ctrl_target/rotation matrix to Euler angles' to [3x3x1]. When the number of dimensions of a matrix exceeds 2, the size of the trailing dimension must be greater than 1.</em></p> <p>Someone could help me?</p> <p>thanks a lot.</p>
<p>You can't have the last dimension as <code>1</code> because MATLAB treats any matrix of dimension <code>[m,n,1]</code> as <code>[m,n]</code>. See <a href="http://stackoverflow.com/questions/17292795/size-returns-1-where-matrix-dimension-should-not-exist">size() returns 1 where matrix dimension should not exist</a> for more details.</p> <p>Try defining <code>R</code> of size <code>[n_robots,3,3]</code> and then re-arrange the matrix inside your code (I assume you are using a MATLAB Function block).</p>