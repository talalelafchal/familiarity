MATLAB cell array - strange behaviour with find in cell array
<p>I have a cell array in MATLAB that's behaving quite strangely. I have 104 single row vectors I've stored as cells, ranging from 80 to 344 elements. As a result, I have a 104 x 344 cell array, called z. Each element has a single numeric value in it. I'm trying to find the position of all the cells in this array which lie between certain values, say 524 and 528. To do this, I've used the following; </p> <pre><code>index = find([z{:}] &gt;= 524 &amp; [zp{:}] &lt;= 528 ) </code></pre> <p>This returns a list of index positions, which initially seems reasonable, but curiously, when I evaluate them I get some very odd behaviour; I try</p> <pre><code>z{index} </code></pre> <p>and it spits out a number of values at these positions - but not all of them are between 524 and 528; some are significantly above or below these values. Others still return [], the 0 x 0 array. Perhaps I'm using find wrong for such a tricky cell array, but the behaviour certainly isn't what I expected. Any ideas? </p>
<p>You cannot use indices computed from the array [z{:}] on z if it contains empty values. When you do [z{:}] empty values are removed. You need to save [z{:}] in another variable and index into it.</p> <pre><code>y = [z{:}]; index = find(y &gt;= 524 &amp; y &lt;= 528 ) y(index) </code></pre>