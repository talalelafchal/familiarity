Error in the constructor of gmdistribution
<p>I am trying to construct a Gaussian Mixture Model using Matlab's gmdistribution class. The model has dimension <code>d</code> and <code>k</code> mixtures, with diagonal covariance matrix, for example:</p> <pre><code>mu = rand(k,d); sigma = rand(1,d,k); w = rand(1,k); gmm1 = gmdistribution(mu, sigma, w); </code></pre> <p>The call to the constructor crashes, and it seems that the last parameter (mix proportions), called <code>p</code> in the class' constructor, is hidden by another variable. The error happens in my code on two different machines (windows and linux), however it is <strong>not</strong> reproducible with the short snippet of code above. The only clue I've got is the hiding variable which looks like this:</p> <pre><code>p = path: '/u/itamark/speech-magneton/source-code/MatlabRecognition/scripts' m: {77x1 cell} mat: {0x1 cell} mex: {0x1 cell} mdl: {0x1 cell} slx: {0x1 cell} p: {0x1 cell} classes: {0x1 cell} packages: {0x1 cell} </code></pre> <p>I am not using global variables, and anyway <code>p</code> is an input variable to the constructor, and not declared global.</p> <p><strong>Edit</strong> Another strange behavior is that if I stop with a breakpoint in the line which calls the <code>gmdistribution</code>, and evaluate the line using F9, there is no error. Only if I step using F10 the error happens.</p> <p><strong>Edit2</strong> This struct <code>p</code> appears <a href="http://www.mathworks.com/help/matlab/ref/what.html" rel="nofollow">in the documentation</a>, as the output of the builtin function <code>what</code>. Needless to say, nowhere in my code I use this function, and even if I did, how could it influence the gmdistribution constructor's workspace?</p>
<p>Ok, this is really a strange behavior, seems like a bug in Matlab but I am not sure. It turns out the cause is as follows: I have a variable called <code>what</code> (I know it's bad coding to hide a builtin function, but I thought about it as a short for 'double-u hat' and I wasn't familiar with <code>what</code> as a builtin). I used it in the code like this:</p> <pre><code>some_script; % this script sets the value of the variable "what" gmm1 = gmdistribution(mu, sigma, what); </code></pre> <p>and Matlab seems to call the builtin function <code>what</code> and use its output as the input var to gmdistribution. </p> <p>The strange thing is, this behavior is not consistent: if you just try something like:</p> <pre><code>what = 1; fprintf('%d',what) </code></pre> <p>then nothing goes wrong. I will be glad to hear any insights about this issue.</p>