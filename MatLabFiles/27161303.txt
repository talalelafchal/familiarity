Loop through all combinations of 8 in 15 MATLAB
<p>I have this matrix and want to make all combinations of column composed square matrixes (8x8) composed from this data. </p> <pre><code> 4 2 4 3 2 3 3 2 8 4 9 7 6 6 6 2 0 4 1 0 3 0 8 5 0 9 3 7 7 1 2 1 2 1 1 3 1 4 5 2 4 2 6 6 3 0 0 2 2 1 2 3 9 1 1 4 4 4 4 6 4 0 1 0 4 2 3 1 8 1 3 0 5 5 7 3 1 4 0 0 1 0 2 6 2 9 1 2 2 0 1 2 1 4 0 3 4 1 3 4 3 9 7 7 9 2 0 0 4 0 0 3 1 5 0 1 9 1 1 7 </code></pre> <p>Even after reeding <a href="http://stackoverflow.com/questions/23536771/matlab-loop-of-all-combinations">Matlab Loop of all combinations</a> I'm not really sure how to do all the matrix combinations and include the counter from the for loop in the name of the combination obtained in the itteration.</p>
<p>I called your matrix <code>A</code>.</p> <pre><code>p=nchoosek(1:15,8); </code></pre> <p>gives all the combinations of 8 numbers taken from 1 to 15. These represent the columns of the matrix <code>A</code> that you want.</p> <p>There are now 3 ways to proceed. Firstly, using a <code>for</code> loop:</p> <pre><code>M=zeros(8,8,size(p,1)); for i=1:size(p,1) M(:,:,i)=A(:,p(i,:)); end </code></pre> <p>which puts each 8x8 matrix into a larger 3D array. You would get out individual matrices by doing <code>M(:,:,54)</code>, for example.</p> <p>You can also create a cell array:</p> <pre><code>N=arrayfun(@(k) A(:,p(k,:)),1:size(p,1),'UniformOutput',false); </code></pre> <p>and get individual matrices by doing <code>N{54}</code>.</p> <p>Finally, you could not precompute each matrix, and just pull out the appropriate columns when you need them. This may be the most efficient method if you don't reuse the matrices:</p> <pre><code>O=A(:,p(54,:)); </code></pre>