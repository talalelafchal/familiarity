MATLAB GUI- Setting string property returns 'Invalid or deleted object.'
<p>I am having trouble setting a specific property of an object in a MATLAB gui. Sometimes the script returns the error</p> <blockquote> <p>Invalid or deleted object.</p> </blockquote> <p>Here is text field I'd like to change.</p> <pre><code>conTxt = uicontrol('Style','text', 'String','Offline','ForegroundColor',[.99 .183 0.09], ... 'Position', [70 20 100 30],... 'Parent',hTabs(1), 'FontSize',13,'FontWeight','bold'); </code></pre> <p>I've set up a serial communication in which the text field is used as feedback for the user. When a response arrives from the serial this line is executed:</p> <pre><code>set(conTxt,'ForegroundColor', [.21 .96 .07],'String','Online'); </code></pre> <p>Do you know how to fix it?</p>
<p>I'm posting this as an answer because a comment would be too long and ugly. </p> <p>From the comments it looks like the GUI does not recognize the text box since it is not in its handles structure, therefore when a callback is executed the GUI does not know where to look for the element. What if you try the following:</p> <p>1) Store the components in the handles structure, something like:</p> <pre><code>handles.conTxt = uicontrol('Style','text', 'String','Offline','ForegroundColor',[.99 .183 0.09], ... 'Position', [70 20 100 30],... 'Parent',hTabs(1), 'FontSize',13,'FontWeight','bold'); </code></pre> <p>and so on for other components.</p> <p>2)At the end of the setup of your programmatic GUI, update the handles structure with the guidata property of the GUI:</p> <pre><code>guidata(handles.figure,handles); </code></pre> <p>3) Then at the beginning of each callback, use something like this:</p> <pre><code>handles = guidata(gcf); </code></pre> <p>to fetch the handles structure and access its components. </p> <p>Hope that helps!</p>