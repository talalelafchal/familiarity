Add text objects to legend in MATLAB plots
<p>I would like to add some text to a legend, regarding the text (i.e t1 variable) that I add in the figure.</p> <p>Here a simple example of the plot:</p> <pre><code>xa = [1 1 1 1 2 2 2 2 3 3 3 3 5 5 5 5]; ya = rand(1,16); plot(xa, ya,'o', [0 5], [0.5 0.5],'k--') L = legend('values', 'average'); for ii = 1:numel(xa) t1=text(xa(ii)+0.02, ya(ii), ['A_{' num2str(ii) '}'], ... 'HorizontalAlignment','left', ... 'VerticalAlignment','middle', ... 'FontSize', 8); end </code></pre> <p>So, I would to have a third line in the legend that would say, for example, "A1 - A16". I read the documentation about <code>text</code> and I tried to use the <code>DisplayName</code> property, but I'm not able to make it works correctly.</p>
<p>You can append a new string to the legend by getting the last cell, modifying the cell and setting it back:</p> <pre><code>leghandle = findall(gcf, 'tag', 'legend'); legstr = get(leg,'String'); % or just get L % ensure legstr is a cell, not a string if ischar(legstr) legstr = mat2cell(legstr); end legstr(end+1) = {'A1-A16'}; </code></pre>
<p>Here is kind of a hack which might solve your problem. It's not elegant but the trick is to plot a dummy curve in white, which won't appear on the plot but to which you can still assign a legend. For example, adding <code>[0 0],[0 0],'w-'</code> in the call to plot and 'A1-A16' in the legend entry result in the following figure:</p> <p><img src="https://i.stack.imgur.com/W1Uax.jpg" alt="enter image description here"></p> <p>whole code:</p> <pre><code>clear clc xa = [1 1 1 1 2 2 2 2 3 3 3 3 5 5 5 5]; ya = rand(1,16); plot(xa, ya,'o', [0 5], [0.5 0.5],'k--',[0 0],[0 0],'w-') L = legend('values', 'average', 'A1-A16'); for ii = 1:numel(xa) t1=text(xa(ii)+0.02, ya(ii), ['A_{' num2str(ii) '}'], ... 'HorizontalAlignment','left', ... 'VerticalAlignment','middle', ... 'FontSize', 8); end </code></pre> <p>It looks ok to me haha. Of course if you change the background color of the axes you need to change the color of the dummy line/plot, but it should work. Hope that helps!</p>