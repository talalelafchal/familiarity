How to find the longest interval of 1's in a list [matlab]
<p>I need to find the longest interval of 1's in a matrix, and the position of the first "1" in that interval.</p> <pre><code>For example if i have a matrix: [1 0 0 1 1 1 0 0 0 0 1 1 1 1 1 1 1 ] </code></pre> <p>I need to have both the length of 7 and that the first 1's position is 11. </p> <p>Any suggestions on how to proceed would be appreciated.</p>
<p>Using <a href="http://stackoverflow.com/questions/3274043/finding-islands-of-zeros-in-a-sequence">this anwser</a> as a basis, you can do as follows:</p> <pre><code>a = [1 0 0 1 1 1 0 0 0 0 1 1 1 1 1 1 1 ] dsig = diff([0 a 0]); startIndex = find(dsig &gt; 0); endIndex = find(dsig &lt; 0) - 1; duration = endIndex-startIndex+1; duration startIdx = startIndex(duration == max(duration)) endIdx = endIndex(duration == max(duration)) </code></pre> <p>This outputs:</p> <pre><code>duration = 1 3 7 startIdx = 11 endIdx = 17 </code></pre> <p>Please note, this probably needs double checking if it works for other cases than your example. Nevertheless, I think this is the way in the right directions. If not, in the linked anwser you can find more info and possibilities.</p>
<p>If there are multiple intervals of one of the same length, it will only give the position of the first interval.</p> <pre><code>A=round(rand(1,20)) %// test vector [~,p2]=find(diff([0 A])==1); %// finds where a string of 1's starts [~,p3]=find(diff([A 0])==-1); %// finds where a string of 1's ends le=p3-p2+1; %// length of each interval of 1's ML=max(le); %// length of longest interval ML %// display ML p2(le==ML) %// find where strings of maximum length begin (per Marcin's answer) </code></pre>
<p>I have thought of a brute force approach;</p> <pre><code>clc; clear all; close all; A= [1 0 0 1 1 1 0 0 0 0 1 1 1 1 1 1 1 ]; index = 1; globalCount = 0; count = 0; flag = 0; %// A flag to keep if the previous encounter was 0 or 1 for i = 1 : length(A) if A(i) == 1 count = count + 1; if flag == 0 index = i flag = 1; end end if A(i) == 0 || i == length(A) if count &gt; globalCount globalCount = count; end flag = 0; count = 0; end end </code></pre>