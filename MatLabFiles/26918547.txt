MATLAB - hold on for subplot between different figures (Solved, but may have issues on Version R2012a)
<p>I'm new to MATLAB, and I've been searching around for what I'm trying to do, but the results don't fit quite well.</p> <p>I'm graphing plots of variations of transfer functions, the code I've done is below:</p> <pre><code>omega = 3; K = omega * omega; for zeta = 0.1:0.1:2 sys = tf(K,[1 2*zeta*omega omega]); figure(); subplot(1,2,1); step(sys); title('Step response'); [num,den] = tfdata(sys, 'v'); disp(den); r = roots(den); subplot(1,2,2); %hold (subplot(1,2,2), 'on'); plot(real(r), imag(r), 'o'); title('Pole Locations in Complex Plane'); end </code></pre> <p>Each time the loop runs, it will create a new figure. The first subplot should be unique for every figure, but the second subplot should plot the accumulation of all points (roots of denominator of all transfer functions) from figures before it. I tried to use <code>hold (subplot(1,2,2), 'on');</code> to keep the second subplot, but it didn't work. My thought is that because the subplots are different figures, <code>hold on</code> cannot be used.</p> <p>How can I solve this problem? Any help will be great.</p>
<p>A solution is to use 'Tag' in your subplot. I am using your code to edit:</p> <pre><code>omega = 3; K = omega * omega; for zeta = 0.1:0.1:2 sys = tf(K,[1 2*zeta*omega omega]); figure(); sb = subplot(1,2,1); set(sb, 'Tag', 'daddy') % Something to tag with - memorable step(sys); title('Step response'); [num,den] = tfdata(sys, 'v'); disp(den); r = roots(den); sb = subplot(1,2,2); set(sb, 'Tag', 'child') sb = findobj('Tag','child'); % Use MATLAB methods to find your tagged obj set(sb,'NextPlot','add'); % set 'NextPlot' property to 'add' plot(real(r), imag(r), 'o'); title('Pole Locations in Complex Plane'); end </code></pre> <p>DOes this work for you? btw. This is also in <a href="http://www.mathworks.com/matlabcentral/answers/99127-why-does-the-hold-on-command-not-work-when-i-try-to-update-figures-with-subplots" rel="nofollow">MATLAB central</a>. You should use that too.</p>