Moving Window in Matlab
<p>I'm looking to use Matlab to run through a set of data, 5446100 x 6 called xdata1. <br/> I'm looking it to plot the first 100 data points, and after this to run through each point individually. <br/> To start I have:<br/></p> <p>for i=1:100 <br/> NOC1 = CPMD_PCA(xdata1(99+i,:); <br/></p> <p>How would I then get this to carry on continuously, other than writing out i=2:101, i=3:102 etc</p>
<p>To answer you question directly you can wrap your current code in another loop:</p> <pre><code>for outer_loop_index = 1 : (size(xdata1,1) - 100) for inner_loop_index = outer_loop_index : outer_loop_index + 99 NOC1 = CPMD_PCA(xdata1(inner_loop_index,:); end end </code></pre>
<p>I am not sure about what <code>CPMD_PCA</code> is doing so I'll show you how to plot a moving windows on a simple matlab plot, on a sample data set. </p> <p>You'll have to adjust the code to your exact application.</p> <pre><code>%% // just to create a sample set x = ( 0:pi/10:150*pi ).' ; %//' y = cos(x).*cos(3*x)+cos(x./4) ; xdata = [y , -y/2] ; %% // adjust moving window size and compute other useful parameters window_size = 100 ; %// the length (in points) of the moving window nPts = size(y,1) ; %// number of points in a column n_windows = nPts-window_size ; %// the total number of windows %% // Do the initial plot (not moving yet) of the first 100 points idx = 1:window_size ; hp = plot( xdata( idx , 1) ) ; %% // Move the plot by one point at each iteration of the loop for iwin =1:n_windows idx = idx + 1 ; set( hp , 'YData' , xdata(idx,1) ) drawnow %// you can comment that line (try with and without) pause(0.1) %// adjust the timing to your needs end </code></pre>