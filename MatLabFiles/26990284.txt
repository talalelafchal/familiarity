Add variables to array from a number of structures
<p>I have a kinda specific problem here:</p> <p>I have a structure with 120 variables, each variable with varying number of rows (but fixed number of columns = 7)</p> <p>I need to create a new array of the first 2 columns from all the arrays.</p> <p>The problem I am having is appending the new set of numbers below the first.</p> <p>Is there a way to do this without eval?</p> <p>I was trying something like this:</p> <pre><code>varr = fieldnames(sctData); for ii = 1:size(sctData,1) m = 1; for m = m:m+eval(['size(sctData.' varr{ii} ',1)']) eval(['sctData2(m,1) = sctData.' varr{ii} '(m,1);']); eval(['sctData2(m,2) = sctData.' varr{ii} '(m,2);']); end end </code></pre> <p>But ofcourse, this rewrites the variables over the old one. And I really don't want to use eval!</p> <p>Any help is welcome. :) Thanks!</p>
<p>this should work if I understood your question correctly:</p> <pre><code>varr = struct2cell(sctData); newarray = []; for ii = 1:length(varr) temp = varr{ii}; newarray = [newarray; temp(:,1:2)]; end </code></pre>