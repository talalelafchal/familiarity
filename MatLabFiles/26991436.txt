Creating variable names using cells from an array in Matlab
<p>I am attempting to write a script to import a large .txt file containing multiple columns of data into seperate variables within Matlab.</p> <p>I have reached a stage where I have my 7 datasets:</p> <pre><code>Var1= 3230 x 1 double Var2= 3230 x 1 double Var3= 3230 x 1 double Var4= 3230 x 1 double Var5= 3230 x 1 double Var6= 3230 x 1 double Var7= 3230 x 1 double </code></pre> <p>and an array containing all of the variable names in different cells:</p> <pre><code>nameArray= 1 x 7 cell </code></pre> <p>My question is: how do I create variables with the same names as those within nameArray and subsequently populate them with data from my datasets?</p>
<p>You might want to consider using <code>T = readTable('mydatafile.txt')</code>. This allows you to load a file with seperate columns and access those colums using their column name, for example like this: <code>T.MyFirstColumn</code>. See the manual on <a href="http://nl.mathworks.com/help/matlab/ref/readtable.html" rel="nofollow">readtable</a> for some examples.</p>
<p>You have three options:</p> <ol> <li><p>Use <code>assignin</code>:</p> <pre><code>assignin('caller', nameArray{1}, Var1) assignin('caller', nameArray{2}, Var2) ... </code></pre> <p>This will create a variable with name <code>nameArray{1}</code> and value <code>Var1</code> in the namespace of the <em>caller</em>.</p></li> <li><p>Build a struct:</p> <pre><code>x = struct() x.(nameArray{1}) = Var1 ... </code></pre> <p>This builds a struct with dynamically assigned fields. </p></li> <li><p>As <a href="http://stackoverflow.com/users/1009788/scott">@Scott</a> suggests in his <a href="http://stackoverflow.com/a/26991557/4177384">answer</a>: Use <code>readtable</code>:</p> <pre><code>T = readTable('mydatafile.txt') </code></pre> <p>This yields a similar result as option 2. But <code>T</code> is of type <code>table</code> and not <code>struct</code>. Tables are availble in Matlab versions R2013b and newer.</p></li> </ol> <p>And of course you should use a loop </p>