How to split vector by zeros in MATLAB
<p>I have got a problem with splitting a vector by zeros.</p> <p>I have a vector for example </p> <blockquote> <p>v=[1 3 2 6 4 0 0 2 4 6 0 0 0 3 1]</p> </blockquote> <p>I need to get vectors like</p> <blockquote> <p>v1=[1 3 2 6 4]</p> <p>v2=[2 4 6]</p> <p>v3=[3 1]</p> </blockquote> <p>Is there any way to do this by using MATLAB functions?</p> <p>Of course I don't know of how many subvectors are included in main vector <em>v</em> and how many zeros delimits vectors.</p> <p>I'm not a programmer and also I'm not a pro in MATLAB. I know a procedural way to do this but want do it by MATLAB somehow.</p> <p>I found a function A = strsplit(str,delimiter) but I don't have string I have a vector. So I searched for conversion function. I found S = char(V) but when I executed it it crashed.</p>
<p>It's better to have the output as a cell array, not as separate variables. That way the output will be easier to handle.</p> <p>Try this:</p> <pre><code>v = [1 3 2 6 4 0 0 2 4 6 0 0 0 3 1]; %// data w = [false v~=0 false]; %// "close" v with zeros, and transform to logical starts = find(w(2:end) &amp; ~w(1:end-1)); %// find starts of runs of non-zeros ends = find(~w(2:end) &amp; w(1:end-1))-1; %// find ends of runs of non-zeros result = arrayfun(@(s,e) v(s:e), starts, ends, 'uniformout', false); %// build result </code></pre> <p>Result (for your example):</p> <pre><code>&gt;&gt; result{:} ans = 1 3 2 6 4 ans = 2 4 6 ans = 3 1 </code></pre>
<p>The <code>strsplit()</code> solution for a vector of <strong>whole</strong> numbers smaller than 9 (so a very specific solution, for a general solution see <a href="http://stackoverflow.com/a/27076719/2180721">Luis Mendo's</a>). Split and convert back to number:</p> <pre><code>res = strsplit(char(v), char(0)); res = cellfun(@(x) x - 0,res,'un',0); celldisp(res) res{1} = 1 3 2 6 4 res{2} = 2 4 6 res{3} = 3 1 </code></pre>