File reading in matlab
<p>I'm having troubles with my code in Matlab. I want to get the mean value of all the elements in the second column in a file, but for some reason the code does not include the last line. My file looks like this: <img src="https://i.stack.imgur.com/QWUOk.png" alt="enter image description here"></p> <p>And my code looks like this: <img src="https://i.stack.imgur.com/By3DV.png" alt="enter image description here"></p> <p>As you might already understand, my code gets the mean value of all numbers except the last one for Italy.</p> <p>Any suggestions on how to proceed would be highly appreciated.</p>
<p>You should put </p> <pre><code>line=fgetl(fid) </code></pre> <p>to the top in the while loop.</p>
<p>It's actually suggested by Mathworks to not use <code>feof</code> with <code>fgetl</code> loops, but to instead check whether the output is with <code>ischar</code>. Simply replace <code>~feof(fid)</code> with <code>ischar(line)</code>.</p> <p>A side note: <code>line</code> is also a MATLAB function, by using it as a variable name you are shadowing the function. While it is not critical here, you should try to avoid doing this. If you try to use <code>line</code> the function or another function which calls <code>line</code> while you have a variable <code>line</code> in the workspace, you'll likely get an error. This is why you'll see the examples in the help use things like <code>tline</code> as variable names instead.</p>