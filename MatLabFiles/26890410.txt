Submitting POST XML query from Matlab
<p>I'm trying to figure out how to do an OGC CSW (Catalog Service for the Web) simple POST operation using a blob of XML in Matlab. I've been reading the documentation for Mathworks <code>urlread</code> and the 3rd party <code>urlread2</code>, and I'm trying to replicate this simple example:</p> <pre><code>wget http://www.ngdc.noaa.gov/geoportal/csw --post-file=./post_query.xml </code></pre> <p>where <code>post_query.xml</code> is:</p> <pre><code>&lt;csw:GetRecords xmlns:csw="http://www.opengis.net/cat/csw/2.0.2" version="2.0.2" service="CSW" resultType="results" startPosition="1" maxRecords="11" outputSchema="http://www.isotc211.org/2005/gmd"&gt; &lt;csw:Query typeNames="csw:Record" xmlns:ogc="http://www.opengis.net/ogc" xmlns:gml="http://www.opengis.net/gml" &gt; &lt;csw:ElementSetName&gt;full&lt;/csw:ElementSetName&gt; &lt;csw:Constraint version="1.1.0"&gt; &lt;ogc:Filter&gt; &lt;ogc:And&gt; &lt;ogc:PropertyIsGreaterThan&gt; &lt;ogc:PropertyName&gt;apiso:modified&lt;/ogc:PropertyName&gt; &lt;ogc:Literal&gt;2014-09-30&lt;/ogc:Literal&gt; &lt;/ogc:PropertyIsGreaterThan&gt; &lt;ogc:PropertyIsLessThan&gt; &lt;ogc:PropertyName&gt;apiso:modified&lt;/ogc:PropertyName&gt; &lt;ogc:Literal&gt;2014-10-02&lt;/ogc:Literal&gt; &lt;/ogc:PropertyIsLessThan&gt; &lt;/ogc:And&gt; &lt;/ogc:Filter&gt; &lt;/csw:Constraint&gt; &lt;/csw:Query&gt; &lt;/csw:GetRecords&gt; </code></pre> <p>I've tried a lot of things, but the only thing I've been able to get to work is <code>urlread2</code> like this:</p> <pre><code>url = 'http://www.ngdc.noaa.gov/geoportal/csw' paramString=fileread('post_query.xml') header.name='Content-Type'; header.value='application/x-www-form-urlencoded'; [output,extras] = urlread2(url,'POST',paramString,header); </code></pre> <p>Is there a better way to solve this problem? </p> <p>Is there a way to do this using <code>urlread</code> or some other tool in the standard Matlab distribution? </p>
<p>Actually, I found that I don't need that header stuff, so this simpler version also works:</p> <pre><code>url = 'http://www.ngdc.noaa.gov/geoportal/csw'; paramString=fileread('post_query.xml'); [output,extras] = urlread2(url,'POST',paramString); </code></pre> <p>I guess that's getting pretty simple, actually!</p>