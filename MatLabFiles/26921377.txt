Binary Files and Hex Editors
<p>I'm trying better understand the structure of binary files. I wrote the following code to write to unsigned 8 bit integers to a binary file in MATLAB (on Windows)</p> <pre><code>x = uint8(2^3); % 00010000 fid = fopen('test.bin','w'); fwrite(fid, x); fclose(fid); </code></pre> <p>Then, I went to a hex editor and opened the file. As expected, I see <img src="https://i.imgur.com/bWRB0v7.jpg" alt="a busy cat"></p> <p>Now, I try to write a two-byte long type uint16</p> <pre><code>x = uint16(2^8); % 0000000100000000 fid = fopen('test.bin','w'); fwrite(fid, x,'uint16'); fclose(fid); </code></pre> <p>Instead of seeing 01 00 , I just see 00 <img src="https://i.imgur.com/LcuMqyI.jpg" alt="."></p>
<p>In General (0x10 means 10 as a hexadecimal number which is decimal 16):</p> <pre><code> 2^3 = 2³ = 8 = 0x08 2^4 = 16 = 0x10 </code></pre> <p>I don't think you do what you think you do. 2^3 is not 2*2*2 in C (and probably Matlab from your results). </p> <p><strong>Solution:</strong> (in C): 2&lt;&lt;3 = 2 * (2*2*2) = 10000 = 16 = 0x10 </p> <p><strong>Explanation:</strong></p> <p>In C (not sure about Matlab):</p> <p>2&lt;&lt;3 means: 10 &lt;&lt; 000 = 10000 = 16 = 0x10.</p> <p>Each &lt;&lt;1 means "add one zero behind the binary number", which is equavivalent to multiply by 2 ( *2). This works in the other direction too >>1 is the same as dividing by 2 ( /2).</p> <p>2^3 means not 2³ (Exponent) but BINARY AND. </p> <p>You do: </p> <pre><code>2 is binary 10 3 is binary 11 </code></pre> <p>11&amp;10 = 10</p> <pre><code>10 11 -- 10 </code></pre> <p>One under One means One, Zero under One means 0. One and One is One. Zero and One is Zero. Or more formal: (true ^ false) = false. </p> <p>This is probably why 2^8 doesn't work.</p> <p>0010 (2) &amp; 1000 (8) = 0000</p> <pre><code> 0010 1000 ---- 0000 </code></pre> <p>There is no 1 under a 1, so it is all 0. </p>