MATLAB - how to read big size multiband TIFF witout loading to memory
<p>I have a 1675x965x365 TIFF image (>2GB) which is too large to import in MATLAB without having my computer slowing down tremendously (so far I wasn't able to open it neither!). Is there an efficient way to read my image without having to load it to memory (which I suppose is the problem)? Anyway, my final aim would be to sum the values of each band with the other bands, that is to have a 2D image 1675x965 in size with (e.g.) pixel in [1,1] that is the sum of all the pixels of the 365 bands in position [1,1]. I hope to have explained my problem cleaarly. Thanks in advance!</p>
<p>I have written a matlab class for lazy loading of TIFF images; the data is left on disk, and only loaded when accessed. That should take care of your memory issues. See if it helps you.</p> <p><a href="http://dylan-muir.com/articles/tiffstack/" rel="nofollow">Lazy loading of TIFF stacks for Matlab</a></p>
<p>Using the indexing ability of <code>imread ()</code> keeps you from never having more than two planes worth of data loaded at any one time:</p> <pre><code>ImgInfo = imfinfo('imgFile.tif'); BaseImg = zeros(ImgInfo(1).Width, ImgInfo(1).Height); for k = 1:length(ImgInfo) BaseImg = BaseImg + double(imread('imgFile.tif', k, 'Info', ImgInfo)); end BaseImg = BaseImg/length(ImgInfo); </code></pre>