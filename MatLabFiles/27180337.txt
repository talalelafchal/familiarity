How to change bars colour in MATLAB
<p>I am new to programming so I am learning introductory to MATLAB I was wondering how you could change colours of bar in MATLAB.</p> <p>this is my script. Can someone please help!!</p> <pre><code>x =[1:8] for y = [20 30 40 50 60 70 80] bar(x,y) if y &lt; 40 col = 'b'; else if y &gt; 40 col= 'g'; end end end </code></pre> <p>i also tried bar(x,y, r) but it doesnt work</p>
<p><a href="http://au.mathworks.com/help/matlab/ref/bar.html" rel="nofollow">bar</a> can take third argument, which is color value, e.g. <code>bar(x,y, 'r')</code>.</p>
<p>To use two different colors depending on <code>y</code>: compute a <a href="http://blogs.mathworks.com/steve/2008/01/28/logical-indexing/" rel="nofollow noreferrer">logical index</a> depending on <code>y</code> values and call <code>bar</code> twice with appropriate arguments:</p> <pre><code>x = [1:8]; y = [20 30 40 50 60 70 80]; ind = y &lt; 40; %// logical index bar(x(ind), y(ind), 'facecolor', 'b', 'edgecolor', 'k') %// blue bars, black edge hold on %// keep plot bar(x(~ind), y(~ind), 'facecolor', 'g', 'edgecolor', 'k') %// green bars, black edge set(gca,'xtick',x) </code></pre> <p><img src="https://i.stack.imgur.com/nCiLU.png" alt="enter image description here"></p>
<p>Whilst this is overkill for your specific question, in general, to change the colour of bars depending on their height, you can apply a <code>colormap</code> to the bars. This is mainly from the <a href="http://au.mathworks.com/help/matlab/ref/bar.html" rel="nofollow noreferrer"><code>bar</code> documentation</a>.</p> <pre><code>x = 1:8; y = 10*x; h=bar(y); %// create a sample bar graph </code></pre> <p>For the colormap <code>MAP</code>, you do this:</p> <pre><code>colormap(MAP) ch = get(h,'Children'); fvd = get(ch,'Faces'); fvcd = get(ch,'FaceVertexCData'); [zs, izs] = sort(y); for i = 1:length(x) row = izs(i); fvcd(fvd(row,:)) = i; end set(ch,'FaceVertexCData',fvcd) hold off </code></pre> <p>And, for example, using the builtin <code>colormap</code> <code>hsv</code>, you get <img src="https://i.stack.imgur.com/73v4h.png" alt="enter image description here"></p> <p>But in this case we want a very specific colormap,</p> <pre><code>b=40 %// the cut-off for changing the colour MAP=zeros(length(x),3); %// intialise colormap matrix MAP(y&lt;b,:)=repmat([0 0 1],sum(y&lt;b),1); %// [0 0 1] is blue, when y&lt;40 MAP(y&gt;=b,:)=repmat([0 1 0],sum(y&gt;=b),1); %// [0 1 0] is green, for y&gt;=40 colormap(MAP) </code></pre> <p>which gives</p> <p><img src="https://i.stack.imgur.com/qdVTc.png" alt="enter image description here"></p>