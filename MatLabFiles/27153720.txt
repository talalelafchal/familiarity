How to fix jumps in time data
<p>I have some Time(s) vs Load(kN) data where the time record undergoes a negative jump of 86400 seconds at regular intervals throughout the record. I need a mat lab code that can detect these jumps in order to change the data from something like this:</p> <pre><code>(1 , 21) (2 , 22) (3 , 23) (-86397 , 24) (-86398 , 25) (-86399 , 26) </code></pre> <p>into something like this:</p> <pre><code>(1 , 21) (2 , 22) (3 , 23) (4 , 24) (5 , 25) (6 , 26) </code></pre>
<p>I assume you mean</p> <pre><code>data = [1 , 21 2 , 22 3 , 23 -86396 , 24 -86395 , 25 -86394 , 26] </code></pre> <p>that is, there is a negative jump and then the sequence keeps on increasing. This would give you the output you show.</p> <p>If that's the case, what you want is similar to phase unwrapping, only that the range of values is different. So you could use <a href="http://es.mathworks.com/help/matlab/ref/unwrap.html" rel="nofollow"><code>unwrap</code></a> with the appropriate scale correction:</p> <pre><code>scale = 2*pi/86400; data(:,1) = unwrap(data(:,1)*scale)/scale; </code></pre> <p>Or you could do the unwrapping yourself:</p> <pre><code>N = 86400; d = mod(diff(data(:,1))-N/2,N)-N/2; %// differences with large jumps corrected data(2:end,1) = data(1,1) + cumsum(d); </code></pre>