Matlab differentiate an inline function
<p>How can I differentiate my Function <code>Fun</code>? When I try to use <code>diff</code> it says </p> <blockquote> <p><code>'diff'</code> is not supported for class <code>'inline'</code></p> </blockquote> <p>The code I used is shown below:</p> <pre><code>fprintf('Newton Raphson\n'); Fun=input('\nType a function \n'); xi=input('\nType initial value\n'); def=diff(Fun); der=inline(def); dxi=der(xi); </code></pre>
<p>Marcin is correct. Don't use <code>inline</code> functions. Those are no longer used. If you want to differentiate using the Symbolic Math Toolbox, use <a href="http://www.mathworks.com/help/symbolic/sym.html" rel="nofollow"><code>sym</code></a> to create a function for you, then use this to differentiate it.</p> <p>As such, do something like this, assuming that <code>x</code> is the independent variable:</p> <pre><code>syms x; fprintf('Newton Raphson\n'); Fun=input('\nType a function \n'); xi=input('\nType initial value\n'); out = sym(Fun); def = diff(out); dxi = subs(def, 'x', xi); </code></pre> <p>Note that because the formula is symbolic, if you want to substitute <code>x</code> with a particular value, you would need to use <a href="http://www.mathworks.com/help/symbolic/subs.html" rel="nofollow"><code>subs</code></a>. With <code>subs</code>, we are replacing <code>x</code> with our initial value stored in <code>xi</code>.</p> <hr> <p>Let's do a run-through example. Here's what I get when I run this code, with my inputs and outputs:</p> <pre><code>Newton Raphson Type a function x^2 + x + 3 Type initial value 4 </code></pre> <p><code>out</code> would be the function that was input in:</p> <pre><code>out = x^2 + x + 3 </code></pre> <p><code>xi</code> would be the initial value:</p> <pre><code>xi = 4 </code></pre> <p>The derivative of the function is stored in <code>def</code>:</p> <pre><code>def = 2*x + 1 </code></pre> <p>Finally, substituting our initial value into our derivative is stored in <code>dxi</code>, and thus gives:</p> <pre><code>dxi = 9 </code></pre> <hr> <p>Good luck!</p>
<p>See this might help you.</p> <pre><code>eq = input('Write an equation in x','s'); %input a equation f = sym(eq); %turn the equation into a symbolic one fin = inline(char(f)); %for converting the symbolic function into inline funct dfin = inline(char(diff(f))); %for converting the symb diff func into inline diff f </code></pre>