MATLAB save variables to text files with '-ascii' format
<p>I have the following code in MATLAB: </p> <pre><code>clear;clc; k=load('OUTPUT_sub_1_stiffness.txt'); m=load('OUTPUT_sub_1_mass.txt'); [v_default,d_default]=eig(k,m); v_kai=load('Eigenvector.txt'); d_kai=load('Eigenvalue.txt'); [v_qz,d_qz]=eig(k,m,'qz'); [v_chol,d_chol]=eig(k,m,'chol'); save('v_default.txt','v_default','-ascii'); save('d_default.txt','d_default','-ascii'); save('v_kai.txt','v_kai','-ascii'); save('d_kai.txt','d_kai','-ascii'); save('v_qz.txt','v_qz','-ascii'); save('d_qz.txt','d_qz','-ascii'); save('v_chol.txt','v_chol','-ascii'); save('d_chol.txt','d_chol','-ascii'); </code></pre> <p>All the variable which start with <code>v</code> like <code>v_qz</code> are saved correctly as text files as shown below: </p> <p><img src="https://i.stack.imgur.com/7vpcB.png" alt="enter image description here"></p> <p>However, to my surprise, all the variable which start with <code>d</code> like <code>d_qz</code> can not be saved correctly, as shown below: </p> <p><img src="https://i.stack.imgur.com/ItpS2.png" alt="enter image description here"></p> <p>I wonder if anybody knows why.</p>
<p>Do the files exist before you save them?</p> <p>And what is the format of the variable you are writing?</p>
<p>I figured it out: just added this option <code>'-double'</code> and it got corrected, like below: </p> <pre><code>save('v_default.txt','v_default','-ascii','-double'); save('d_default.txt','d_default','-ascii','-double'); save('v_kai.txt','v_kai','-ascii','-double'); save('d_kai.txt','d_kai','-ascii','-double'); save('v_qz.txt','v_qz','-ascii','-double'); save('d_qz.txt','d_qz','-ascii','-double'); save('v_chol.txt','v_chol','-ascii','-double'); save('d_chol.txt','d_chol','-ascii','-double'); </code></pre>