Matlab: output format with fprintf
<p>I want to have a list of data in a text file, and for that I use:</p> <pre><code>fprintf(fid, '%d %s %d\n',ii, names{ii},vals(ii)); </code></pre> <p>the problem in my data, there are names that are longer than other. so I get results in this form:</p> <pre><code>1 XXY 5 2 NHDMUCY 44 3 LL 96 ... </code></pre> <p>How i can change the fprintf line of code to make the results in this form:</p> <pre><code>1 XXY 5 2 NHDMUCY 44 3 LL 96 ... </code></pre>
<p>Something like this before the start of the loop -</p> <pre><code>%// extents of each vals string and the corresponding whitespace padding lens0 = cellfun('length',cellfun(@(x) num2str(x),num2cell(1:numel(names)),'Uni',0)) pad_ws_col1 = max(lens0) - lens0 %// extents of each names string and the corresponding whitespace padding lens1 = cellfun('length',names) pad_ws_col2 = max(lens1) - lens1 </code></pre> <p>Then, inside the loop -</p> <pre><code>fprintf(fid, '%d %s %s %s %d\n',col1(ii), repmat(' ',1,pad_ws_col1(ii)), ... names{ii},repmat(' ',1,pad_ws_col2(ii)),vals(ii)); </code></pre> <p>Output would be -</p> <pre><code>1 XXY 5 2 NHDMUCY 44 3 LL 96 </code></pre> <p>For a range <code>99 - 101</code>, it would be -</p> <pre><code>99 XXY 5 100 NHDMUCY 44 100 LL 96 </code></pre> <p>Please note that the third column numerals <em>start</em> at a fixed distance instead of <em>ending</em> at a fixed distance from the start of each row as asked in the question. But, assuming that the whole idea of the question was to present the data in a more readable way, this could work for you.</p>
<p>You can use the function <code>char</code> to convert a cell array of string into a character array where all rows will be padded to be the length of the longest one.</p> <p>So for you:</p> <pre><code>charNames = char( names ) ; </code></pre> <p>then you can use <code>fprintf</code> :</p> <pre><code>fprintf(fid, '%d %s %d\n',ii, charNames(ii,:) , vals(ii)) ; </code></pre> <p>Just make sure your cell array is a colum before you convert it to char.</p>