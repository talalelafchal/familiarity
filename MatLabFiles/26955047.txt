How to crop rectangle box in image in matlab code
<p>I want to crop a detected faces in my code. Here is my code.</p> <pre><code>function DisplayDetections(im, dets) imshow(im); k = size(dets,1); hold on; for i=1:k rectangle('Position', dets(i,:),'LineWidth',2,'EdgeColor', 'r'); end imcrop(rectangle); hold off; </code></pre> <p>Their is syntax error in cropping. Can anybody help in cropping rectangle box detected in above box.</p>
<p>That code only <strong>draws</strong> the rectangles in your image. If you actually want to crop out portions of the image with the defined rectangles, use <a href="http://www.mathworks.com/help/images/ref/imcrop.html" rel="nofollow"><code>imcrop</code></a>. </p> <p>As such, you would do something like this to store all of your cropped rectangles. This is assuming that <code>im</code> and <code>dets</code> are already defined in your code from your function:</p> <pre><code>k = size(dets,1); cropped = cell(1,k); for i=1:k cropped{k} = imcrop(im, dets(i,:)); end </code></pre> <p><code>cropped</code> would be a cell array where each element will store a cropped image defined by each rectangle within your <code>dets</code> array. This is assuming that <code>dets</code> is a 2D array where there are 4 columns, and the number of rows determines how many rectangles you have. Each row of <code>dets</code> should be structured like:</p> <pre><code>[xmin ymin width height] </code></pre> <p><code>xmin</code>, <code>ymin</code> are the horizontal and vertical co-ordinate of the top-left corner of the rectangle, and <code>width</code> and <code>height</code> are the width and height of the rectangle.</p> <p>If you want to access a cropped portion in the cell array, simply do:</p> <pre><code>crp = cropped{k}; </code></pre> <p><code>k</code> would be the k<sup>th</sup> rectangle detected in your image.</p>