storing in cell arrays slows down my code even with preallocation
<p>I have a function which contains <code>for</code> loops. In these loops I construct some matrices, I call them potential, and then I multiply them in some other matrix, I call it source. Since I want to use this function in a <code>for</code> loop for which only the source matrix is changing, I want to store the potential matrices to ignore excessive calculation in the <code>for</code> loop. </p> <p>I have used a 3D cell array to store the potential matrices but the time for this is more than running the function for once, I mean multiplying the source and potential without saving the potentials. (the time for storing without multiplying is more than multiplying without storing).</p> <p>I used the preallocation <code>A=cell(N)</code> . Why this happens? </p>