Call C++ class member functions in a static library from MATLAB
<p>I have a C++ header file and the corresponding static library (.lib file). No source file. The code comprises several classes, each with functions of its own.</p> <p>I would like to be able to call these functions from MATLAB.</p> <p>Would anyone be kind enough to point me in the right direction? Examples would be appreciated.</p> <p>Thanks.</p> <p>EDIT: Would it be a good idea to write a DLL to act as an interface between the static library and MATLAB? Then I can access the functions in my static library from the DLL and use calllib to access the DLL from MATLAB. If so, how would I call the class member functions in the static library from a DLL?</p> <p><strong>Update</strong> So I've decided to write a DLL to which I will link the static library and call the functions from MATLAB through that using <code>calllib</code> The problem is, the static library is already compiled and I do not have the source. I try to link the .lib file (presumably built using Visual Studio) and build my DLL using MINGW32 but this doesn't work possibly due to <a href="http://www.mingw.org/wiki/Interoperability_of_Libraries_Created_by_Different_Compiler_Brands" rel="nofollow">(lack of?) interoperability of libraries created by different compilers.</a> This is the MinGW command I use to link: <code>g++ -c -o -DBUILDING_INTERMEDIATE_DLL intermediate_dll.cpp -TaccClient.lib</code></p> <p><em>intermediate_dll.cpp</em> is the source file for my DLL and <em>TaccClient.lib</em> is the static library I'm using.</p> <p>Does anyone have any suggestions as to how this could work, or will I have to wait and try it on visual studio later?</p>
<p>MATLAB offers MATLAB coder functionality that allows you to create MEX files from your C/C++ source and library files. There is also an option to called C shared libraries when building the MEX file for your application. I have used SIMULINK (with SIMULINK Coder) and Embedded Coder to do my library linking and it helps you to do it via GUI, so very neat job. However, you can still do it with MATLAB as long as you have a supported C/C++ compiler.</p> <p>Using the C shared library option, you should be able to load, call, view the library and functions. For more details on what other functionlities are available, see this - <a href="http://uk.mathworks.com/help/matlab/using-c-shared-library-functions-in-matlab-.html" rel="nofollow">http://uk.mathworks.com/help/matlab/using-c-shared-library-functions-in-matlab-.html</a></p> <p>A similar question was answered <a href="http://stackoverflow.com/questions/1601988/call-c-code-from-matlab">here</a>. May be you will find it useful?</p>