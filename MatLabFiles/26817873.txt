Matlab: Specify Range of Values to be colored in Surf-Plot
<p>I am plotting a 3D graph in Matlab using <code>surf</code>. The values of the the z axis are between <code>0</code> and <code>0.3</code>. I do not want the zeros to be colored. They are supposed to be white. How can I do this?</p>
<p>You can set the points where <code>z = 0</code> as <code>NaNs</code> for all <code>X</code>, <code>Y</code> and <code>Z</code> and those points won't show up in the plot, i.e. they would be "not-colored". So you can do this -</p> <pre><code>X(Z==0) = NaN Y(Z==0) = NaN Z(Z==0) = NaN surf(X,Y,Z); </code></pre> <p>But, be careful about floating point precision issues, as you are comparing against an absolute zero value.</p> <p>With floating point cases, you can use a tolerance value -</p> <pre><code>tol = 0.08; %// tolerance X(abs(Z)&lt;tol) = NaN Y(abs(Z)&lt;tol) = NaN Z(abs(Z)&lt;tol) = NaN surf(X,Y,Z); </code></pre> <hr> <h2>Example</h2> <pre><code>[X,Y,Z] = peaks(25) figure,surf(X,Y,Z), title('BEFORE') tol = 0.08; %// tolerance X(abs(Z)&lt;tol) = NaN; Y(abs(Z)&lt;tol) = NaN; Z(abs(Z)&lt;tol) = NaN; figure,surf(X,Y,Z), title('AFTER') </code></pre> <p>Results -</p> <p><img src="https://i.stack.imgur.com/eNG79.png" alt="enter image description here"></p> <p><img src="https://i.stack.imgur.com/xN0R7.png" alt="enter image description here"></p>