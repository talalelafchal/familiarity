MATLAB Database fetch() for WRDS Compustat taking too long
<p>I am connecting MATLAB to the Wharton Research Data Services COMPUSTAT database and am running a simple query</p> <pre><code>WRDS_Connect setdbprefs('FetchInBatches','yes') query = exec(WRDS, ['select gvkey from COMP.FUNDA where fyear = 2000 order by gvkey asc']); result = fetch(query); result.data </code></pre> <p>WRDS_Connect simply establishes a connection to WRDS server using JDBC drivers and</p> <pre><code>WRDS = database(instance, username, password, serverAddress); </code></pre> <p>The query is not too big and gives me 27000 rows of data. However it takes too long. Profiling shows that it takes about 5 minutes for these 27000 rows. I want to actually make more extensive queries but it should not take so long.</p> <p>Is there anything I can do to speed things up? I've attached a screenshot of the profiling. <img src="https://i.stack.imgur.com/UxjSa.png" alt="Profiling Screenshot"></p> <p>Thanks for your help! </p>
<p>If you have a PhD acount or above you can change approach a little bit. </p> <p>I developed an API that lets you download datasets from WRDS unix servers. It's <strong>easy</strong> to use and <strong>faster</strong>.</p> <p>Check it out on <a href="https://github.com/okomarov/wrds" rel="nofollow">https://github.com/okomarov/wrds</a> and let me know if you have <strong>problems</strong>. </p> <pre><code>wrds_install w = wrds('username'); w.sas2csv('COMP.FUNDA'); </code></pre> <p>The data will be saved in <code>.\data\COMP.FUNDA.zip</code>.</p> <p>You can then:</p> <ol> <li>unzip the table </li> <li>import it with <code>readtable()</code> </li> <li>apply selction/filters in Matlab</li> </ol>