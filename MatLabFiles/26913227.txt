How do I find multiple columns greater than a single column in MATLAB?
<p>I have a single column vector that is an average of the other multiple columns (in a vector). I wish to index when each element of the matrix is is greater than the average vector. I am able to do this one at a time with:</p> <pre><code>idx = y1&lt;y2 </code></pre> <p>however if <code>y2</code> is a matrix it comes up with an error. My current solution to over come this is:</p> <pre><code>y1 = [y1;y1] </code></pre> <p>but this is rather inelegant and doesn't account for <code>y2</code>'s of unknown sizes. Regards</p>
<p>I think you are looking for something like this -</p> <pre><code>idx = bsxfun(@lt,y1,y2) </code></pre> <p>This will create a logical array of the same size as the input matrix <code>y2</code> with <code>1</code>'s where the elements in <code>y2</code> are <code>greater than</code> the corresponding elements in <code>y1</code> and <code>0</code>'s otherwise.</p> <p>Best thing about <strong><a href="http://in.mathworks.com/help/matlab/ref/bsxfun.html" rel="nofollow"><code>bsxfun</code></a></strong> to solve such a problem is that it takes care of the <strong><code>expansion</code></strong> needed. So, what you would have is a generic solution without even querying for the <code>sizes</code>.</p>
<p>Try using the function <code>repmat</code>.</p> <p><code>repmat(A,n1,n2)</code> makes an <code>n1</code> x <code>n2</code> tiling of A. </p> <p>So if you want to make a vector with n identical columns each containing <code>y1</code> you can run:</p> <p><code>repmat(y1,1,n)</code></p> <p>The number of columns you want is the number of columns in y2, which is</p> <p><code>size(y2,2)</code></p> <p>Thus, the solution you are looking for is:</p> <pre><code>idx=y2&gt;repmat(y1,1,size(y2,2)) </code></pre>