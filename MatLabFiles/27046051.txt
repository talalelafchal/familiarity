Replace all NaN in specific row with same value - Matlab
<p>I have an array (data2winner) that looks like this:</p> <p>Columns 1 through 6</p> <pre><code>1.0894 1.1923 1.0238 1.0625 1.0222 0.9701 1.0000 1.2419 1.2093 0.9412 0.9783 1.0923 1.0379 NaN 1.0000 1.0417 1.0667 1.0000 </code></pre> <p>Columns 7 through 12</p> <pre><code>0.9661 0.9568 1.0400 0.8519 0.8675 0.9821 0.7895 1.0000 NaN 1.0000 1.1250 0.8182 1.0667 0.7714 NaN 1.0000 0.9383 1.1111 </code></pre> <p>I want to replace all NaN in the same row (e.g. row 3) with the same value, lets say 0.5, such that the output looks like this:</p> <p>Columns 1 through 6</p> <pre><code>1.0894 1.1923 1.0238 1.0625 1.0222 0.9701 1.0000 1.2419 1.2093 0.9412 0.9783 1.0923 1.0379 **0.5** 1.0000 1.0417 1.0667 1.0000 </code></pre> <p>Columns 7 through 12</p> <pre><code>0.9661 0.9568 1.0400 0.8519 0.8675 0.9821 0.7895 1.0000 NaN 1.0000 1.1250 0.8182 1.0667 0.7714 **0.5** 1.0000 0.9383 1.1111 </code></pre> <p>I know I can replace all NaN in my matrix by 0.5 using this:</p> <blockquote> <p><code>data2winner(isnan(data2winner)) = 0.5</code></p> </blockquote> <p>So i thought using </p> <blockquote> <p><code>data2winner(isnan(data2winner(3,:))) = 0.5</code></p> </blockquote> <p>would solve my problem, but it does not work. Does anybody have an idea how to solve my problem? Any help would be greatly appreciated! </p>
<p><code>isnan(data2winner(3,:))</code> gives you a logical array of ones and zeros where <code>NaNs</code> are present or not respectively in the third row. Then, you were needed to index into the third row of the input matrix and select the columns that had <code>NaNs</code> (ones from <code>isnan</code> output) and set them to <code>0.5</code>. Your mistake was indexing into the complete matrix instead of only the third row.</p> <p>Thus, this should do it -</p> <pre><code>row_id = 3; data2winner(row_id,isnan(data2winner(row_id,:))) = 0.5 </code></pre>