Matrix dimensions must agree error in Matlab?
<p>I am writing a function which gives the frequency of the <code>n</code>th key of a piano. But I want the frequency to decay with time, like in real life. So I multiply my function with <code>exp(-a * 5)</code> where <code>a</code> is some number from <code>0</code> to <code>1</code>. But it gives me an error:</p> <blockquote> <p>Error using .*<br> Matrix dimensions must agree.</p> </blockquote> <p>How can I solve this problem?</p> <pre><code>sr = 16000; T = 2; % seconds duration t = 0:(1/sr):T; n = 1; f = ((2^(1/12))^(n-49))*440; a = 0:0.01:1; y = exp(-a*5).*sin(2*pi*f*t); plot(t, y); </code></pre>
<p>You are trying to multiply <code>exp(-a*5)</code> with <code>sin(2*pi*f*t)</code>, element-by-element. That's only possible if the two vectors have the same size. In your code, <code>t</code> is 1x320001, while a is 1x101. </p> <p>I guess what you want is:</p> <pre><code>sr = 16000; T = 2; % seconds duration t = 0:(1/sr):T; n = 1; f = ((2^(1/12))^(n-49))*440; a = linspace(0,1,numel(t)); y = exp(-a*5).*sin(2*pi*f*t); plot(t, y); </code></pre> <p>Note that I changed the definition of <code>a</code> to <code>linspace(0, 1, numel(t))</code>. <a href="http://se.mathworks.com/help/matlab/ref/linspace.html" rel="nofollow noreferrer"><code>linspace(a, b, n)</code></a> creates a vector from a to b, with n elements. It's the easiest way to make sure the two vectors you're multiplying are the same size.</p> <p><img src="https://i.stack.imgur.com/0RUsu.jpg" alt="enter image description here"></p>