Matlab - Why ismember does not work?
<p>I have a cell vector with different &amp; redundant company names. And a list of interesting companies. I try to figure out, where in the big matrix the interesting companies appear. I am interested in all appearances. My Code for some reason does not work. the ismember returns always an error.</p> <pre><code>Comps = Data0(:,7); for i = 1: length(relCompQ) comp = relCompQ{i,1}; c(:,i) = find(ismember(Comps,comp)); end </code></pre> <p>errors:</p> <blockquote> <p>Error using cell/ismember>cellismemberR2012a (line 192) Input A of class cell and input B of class char must be cell arrays of strings, unless one is a string.</p> </blockquote> <p>Error in cell/ismember (line 56)</p> <blockquote> <p>[varargout{1:max(1,nargout)}] = cellismemberR2012a(A,B);</p> </blockquote> <p>Both Vectors have values like: 'Nike', 'Adidas', 'BMW' etc.</p>
<blockquote> <p>Input A of class cell and input B of class char must be cell arrays of strings, unless one is a string.</p> </blockquote> <p>This means that every entry in the cell must be a string, and in this case it's not. If your cell array contains numeric values, or even an <em>empty</em> matrix, you will get this error.</p> <p>For example, this is fine (cell array of strings, and a char)</p> <pre><code>ismember({'b','c'},'b'); </code></pre> <p>This is not:</p> <pre><code>ismember({'b',[1 2]},'b'); ismember({'b',[]},'b'); ismember({'b',NaN},'b'); </code></pre> <p>The most likely one to get mixed into your cell array accidentally is probably the empty matrix. In these cases I always recommend using the debugging tools (<code>dbstop if error</code> is our friend), to doublecheck exactly what is going on. What you think the variable should be or contain, and what it <strong>does</strong> in fact contain, are not always the same thing.</p> <p>If it does contain empties, see <a href="http://stackoverflow.com/questions/3400515/how-do-i-detect-empty-cells-in-a-cell-array">this question</a> for ideas on how to deal with it.</p>