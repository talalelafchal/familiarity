Updating Waitbar throws error while using matlabpool
<p>I'm currently working in Matlab and for the first time I'm trying parallel processing. My code works just fine until I add <code>matlabpool('open',4);</code> at the top of my code and <code>matlabpool('close');</code> at the bottom.</p> <p>If I add these two lines all of my CPU-Cores are at 100% workload (like it was intended) and my code still works exept the waitbar I implemented inside a parfor-loop.</p> <p>The code looks ruffly like this:</p> <pre><code>matlabpool('open',4); global bar; bar = waitbar(0, 'Waitbar'); parfor i=1:1000 //working code try waitbar(UPDATED_VALUE, bar, UPDATED_STRING); end end try close(bar); end //display results matlabpool('close'); </code></pre> <p>The error I get is the following:</p> <pre><code>Warning: This functionality is no longer supported under the -nodisplay and -noFigureWindows startup options. For more information, see "Changes to -nodisplay and -noFigureWindows Startup Options" in the MATLAB Release Notes. To view the release note in your system browser, run web('http://www.mathworks.com/access/helpdesk/help/techdoc/rn/br5ktrh-1.html#br5ktrh-3', '-browser') In uitools\private\warnfiguredialog at 26 In waitbar at 38 In montecarlo&gt;(parfor body) at 41 In parallel_function&gt;make_general_channel/channel_general at 891 In remoteParallelFunction at 28 </code></pre> <p>I really don't know what I'm doing wrong. Can someone help me please?</p>
<p>I think the thing you did 'wrong' was to use a waitbar inside a parfor loop haha. But seriously I'm afraid that's because iterations are not executed in order inside a parfor loop so using a regular waitbar is prohibited because of the way information is shared between the Matlab client and the workers executing the loop. Even if you did not write <code>matlabpool('open',4)</code> MATLAB would have opened it so the problem is really the fact that the waitbar is in a parfor loop.</p> <p>As a workaround you might want to look at <a href="http://www.mathworks.com/matlabcentral/fileexchange/24594-parfor-progress-monitor" rel="nofollow">this</a> submission form the File Exchange. It was written by Edric Ellis who works at The Mathworks so I would trust his program :)</p> <p>Hope that helps!</p>