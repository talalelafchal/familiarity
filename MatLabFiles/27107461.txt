Randomly picking a column index depending on the weight of its value (MATLAB)
<p>I'm having some trouble explicitly stating what I'm trying to do, so I'll be elaborate. I have a matrix A (n by n), with only zeroes and ones. Now, what I'm trying to do is randomly pick one of the columns (so from 1 to n), but the more ones there are in a column, the more likely it should be that I pick that column. So, to begin with I defined their weights as</p> <pre><code> weight = sum(A,1); weight = weight/sum(weight); </code></pre> <p>which gives me a weight from 0 to 1. Not sure if that's easier than it being 0 to N, but ok. Here's where I get stuck though.. How do I now randomly pick one of these N values, dependent on the actual value? I really don't know, to be honest.</p>
<p>Use <a href="http://es.mathworks.com/help/stats/randsample.html" rel="nofollow"><code>randsample</code></a> (Statistics Toolbox), which allows you to specify weights:</p> <pre><code>col = randsample(1:size(A,2), 1, true, weight); </code></pre> <p>and then your column is <code>A(:,col)</code>.</p> <p>If you don't have the Statistics Toolbox:</p> <pre><code>col = sum(rand&lt;cumsum(weight)); </code></pre>