stand alone matlab exe does not work
<p>I have a MATLAB code that works but when I convert it into an exe, it gives me an error saying that it can't find an m-file that I am running within that code. Here is the code.</p> <pre><code>clear all str = sprintf('MyInput.txt'); fp = fopen(str,'r'); N= fscanf(fp,'%d',1)*2; for i=1:N a=sprintf('phtoh0_%d',i); b=sprintf('phtoh0_%d.mat',i); run(a); save(b) clearvars -except N fp str end </code></pre> <p>The error is phtoh0_1 not found. Any help is appreciated.</p>
<p>You cannot use <code>run()</code> usefully with compiled Matlab code. Because it's a dynamic invocation, the Matlab Compiler won't see the dependency on the function you're calling, so it won't be picked up for compilation. You'll need to change it in to a function and use either explicit references, compiler pragmas, or compiler options to force it to be included in the compiled code. And then call it as a regular function using <code>str2func</code> instead of <code>run</code>.</p> <p>Even if you get the plain Matlab <code>phtoh0_1.m</code> file in a directory the compiled exe is at or cd'ed to, the compiled Matlab program won't run it unless it was included in the original compilation. The Matlab Component Runtime will refuse to run non-obfuscated Matlab code.</p>