Dynamically change variable name inside a loop in MATLAB
<p>This script is being used for image processing by multiplying a set of 2000 images with a mask and then summing the values in each frame. These values are entered into a row vector called Intensity. </p> <p>I am trying to end up with 20 row vectors called intensity1, intesity2...intensity20, is there a straight forward way to change the name of the Intensity row vector upon every loop iteration?</p> <pre><code>for m=1:20 mask=bigrating(m,m,0); for n=1:2000 I=sum(sum(imread((sprintf('image%05d.tif',n))).*(mask))); Intensity(n)=I; end save('filepath','Intensity') end </code></pre>
<p>Because you wanted dynamically named intensity1, intensity2,....intensity20 etc, the following should work for you:</p> <pre><code>for m = 1:20 mask = bigrating(m,m,0) for n = 1:2000 I=sum(sum(imread((sprintf('image%05d.tif',n))).*(mask))); eval(['intensity' num2str(m) ' = I']) end save('filepath', ['intensity' num2str(m)]) end </code></pre>