change color to bar plot Matlab
<p>I have the matrix A and I make a barplot</p> <pre><code>A = rand(15,9); h = bar(A); </code></pre> <p>now I would like to color each group of bars (each row of A) according to the colormap "colorset" defined below</p> <pre><code>colorset = [0 0 1;... 1 0 0;... 0 1 0;... 0 0 0.172413793103448;... 1 0.103448275862069 0.724137931034483;... 1 0.827586206896552 0;... 0 0.344827586206897 0;... 0.517241379310345 0.517241379310345 1;... 0.620689655172414 0.310344827586207 0.275862068965517] </code></pre> <p>I try to do something like </p> <pre><code>set(get(h,'children'),'cdata', A ); colormap(colorset); </code></pre> <p>but no luck</p>
<p>I think this should help:</p> <pre><code> for hi = 1:numel(h) set(h(hi), 'FaceColor', colorset(hi,:)) end </code></pre> <p><strong>Before (orginal colors):</strong></p> <p><img src="https://i.stack.imgur.com/KwADX.png" alt="enter image description here"></p> <p><strong>After (new colors):</strong> <img src="https://i.stack.imgur.com/cjarw.png" alt="enter image description here"></p>