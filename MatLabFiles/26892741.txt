subplots with different colormaps matlab
<p>I am trying to make a graph with two different contourf subplots that use completely different colormaps. However with the code I currently have (which creates a custom colormap for one of the subplots), the subplots come out with the same colormap. Any ideas how to fix this?</p> <pre><code>h = figure; subplot(2,1,1) title('GEFS 20 Member Mean Vorticity'); axesm('eqdcylin','maplonlimit',[-180 179],'maplatlimit',[0 90]); %eqdcylin contourm(gLat, gLon, squeeze(meanhx(x,:,:))', 16,'Color',[0.05 0.05 0.05],'LineWidth',2); hold on contourfm(gLat, gLon, squeeze(vmeanx(x,:,:))', 30, 'LineStyle', 'none'); shading flat; lm=worldlo('POline'); for i=1:length(lm); lm(i).otherproperty = {'color','m','LineWidth',1.5}; end displaym(lm); gridm on; tightmap; set(h, 'Position', [1 1 2200 1100]); colormap(b2r(-5*10^-5, 5*10^-5)); freezeColors; cbfreeze(colorbar) %caxis([-5*10^-5 5*10^-5]) colorbar; subplot(2,1,2) title('GEFS 20 Member Vorticity Variance'); axesm('eqdcylin','maplonlimit',[-180 179],'maplatlimit',[0 90]); %eqdcylin contourm(gLat, gLon, squeeze(meanhx(x,:,:))', 16,'Color',[0.05 0.05 0.05],'LineWidth',2); hold on contourfm(gLat, gLon, squeeze(vvarx(x,:,:))', 30, 'LineStyle', 'none'); shading flat; lm=worldlo('POline'); for i=1:length(lm); lm(i).otherproperty = {'color','m','LineWidth',1.5}; end displaym(lm); gridm on; tightmap; set(h, 'Position', [1 1 2200 1100]); mycmap = [ 0.9961 0.9961 0.9961; 0.6641 0.6641 0.9974; 0.3320 0.3320 0.9987; 0 0 1.0000; 0 0.2500 1.0000; 0 0.5000 1.0000; 0 0.7500 1.0000; 0 1.0000 1.0000; 0.2000 1.0000 0.8000; 0.4000 1.0000 0.6000; 0.6000 1.0000 0.4000; 0.8000 1.0000 0.2000; 1.0000 1.0000 0; 1.0000 0.9333 0; 1.0000 0.8667 0; 1.0000 0.8000 0; 1.0000 0.7333 0; 1.0000 0.6667 0; 1.0000 0.6000 0; 1.0000 0.5333 0; 1.0000 0.4667 0; 1.0000 0.4000 0; 1.0000 0.3333 0; 1.0000 0.2667 0; 1.0000 0.2000 0; 1.0000 0.1333 0; 1.0000 0.0667 0; 1.0000 0 0; 0.9854 0 0; 0.9708 0 0; 0.9561 0 0; 0.9415 0 0; 0.9269 0 0; 0.9123 0 0; 0.8977 0 0; 0.8830 0 0; 0.8684 0 0; 0.8538 0 0; 0.8392 0 0; 0.8246 0 0; 0.8099 0 0; 0.7953 0 0; 0.7807 0 0; 0.7661 0 0; 0.7515 0 0; 0.7368 0 0; 0.7222 0 0; 0.7092 0 0; 0.6961 0 0; 0.6830 0 0; 0.6699 0 0; 0.6569 0 0; 0.6438 0 0; 0.6307 0 0; 0.6176 0 0; 0.6046 0 0; 0.5915 0 0; 0.5784 0 0; 0.5654 0 0; 0.5523 0 0; 0.5392 0 0; 0.5261 0 0; 0.5131 0 0; 0.5000 0 0; ]; colormap(mycmap); freezeColors; cbfreeze(colorbar); set(gcf, 'renderer', 'zbuffer'); </code></pre>
<p><strong>EDIT: it seems, that the documentation is wrong! See comments!</strong></p> <p>By using the second argument of the colormap function, one should be able to assign a specific colormap to a specific (sub-)plot or axes, if you want to call it like that:</p> <p>Referring to <a href="http://de.mathworks.com/help/matlab/ref/colormap.html" rel="nofollow">TMW: colormap</a>:</p> <p>Be aware that <strong>the first argument</strong> is the handle to the axes!</p> <pre><code>colormap(ax,map) </code></pre> <blockquote> <p>sets the colormap for the axes specified by ax. Each axes within a figure can have a unique colormap. After you set an axes colormap, changing the figure colormap does not affect the axes.</p> </blockquote> <p>How to get the handle of the axes?:</p> <p>when plotting with plot(x,y..) you get it as the return-value. Catch it with:</p> <pre><code>ax = plot(x,y..) </code></pre> <p>For other plot-functions, as you seem to use, you should find some info about that within the doku.</p>
<p>If you have the Image Processing toolbox, you can use the function <a href="http://www.mathworks.com/help/images/ref/subimage.html" rel="nofollow noreferrer"><code>subimage</code></a> to display images with their respective colormaps:</p> <pre><code>X1=imread('http://upload.wikimedia.org/wikipedia/commons/5/5c/Burosch_Blue-Only_Test_pattern.jpg'); X2=imread('http://upload.wikimedia.org/wikipedia/commons/e/ea/Romsey_River_Test.jpg'); subplot(1,2,1), subimage(X1) subplot(1,2,2), subimage(X2) </code></pre> <p>Result:</p> <p><img src="https://i.stack.imgur.com/h5cRD.png" alt="two images in one figure"></p> <p><strong>Edit</strong> there is a more complete answer to this question <a href="http://stackoverflow.com/a/22647274/2777181">here</a>.</p>