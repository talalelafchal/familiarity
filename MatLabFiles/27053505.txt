Random choosing number in array without repeated
<p>I have a algorithm to randomly select element <code>t</code> in a array with out repeated. This is more detail of algorithm <img src="https://i.stack.imgur.com/A20OW.png" alt="enter image description here"></p> <p>It can explain as folowing:</p> <ol> <li>Initial a array index u that stores the index of numbers from 1 to k (line 1 to 3)</li> <li>Set initial of gamma from k and reduce by one for each iteration. The purpose of gamma is for without repeated (line 4,9,10)</li> <li>Random choose a number t from 1 to N(at the j=1, choose 1 to k, N are nonrepated number), and then put the number to the end of array.</li> <li>Repate the step 2 to 3</li> <li>If gamma =0,reset gamma=k This function will return the t. </li> </ol> <p>For example, I have a array <code>A=[1,2,3,4,5,6,7,8,9], k=9 =size(A), N=12</code> (From 1 to 9, number select only one time). Now I want to use this algorithm to randomly select number t from array A. This is my code. However, it does not similar the line 6 in the algorithm. Is it right? Let see my code help me</p> <pre><code>function nonRepeat k=9; u=1:k; % initial value of index N=12 gamma=k; for j=1:N index=randi(gamma,1); % use other choosing t=u(index) %%swapping temp=u(t); u(t)=u(gamma); u(gamma)=temp; gamma=gamma-1; if gamma==0 gamma=k; end end end </code></pre>
<p>I think <code>index=randi(gamma,1);</code> is not right because it says select number <code>t</code> randomly but you select <code>index</code> randomly and assign <code>t=u(index)</code>.</p> <p>See if it works,</p> <pre><code>k = 9; u = 1 : k; N = 12; gamma = k; for j = 1 : N t = randi(gamma,1); temp = u(t); u(t) = u(gamma); u(gamma) = temp; gamma = gamma - 1; if gamma == 0 gamma = k; end end </code></pre>