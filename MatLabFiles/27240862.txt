Setting alpha of colorbar in MATLAB R2014b
<p>I have a colorplot (from imagesc) with an alpha map. I'd like the colorbar to reflect the alpha (notice that in the image below the colormaps are the same). I found solutions online but none seem to work in R2014b.</p> <p>Code is here:</p> <pre><code>subplot(2,1,1) A = imagesc(meshgrid(0:10,0:5)); alpha(A,1) colorbar subplot(2,1,2) B = imagesc(meshgrid(0:10,0:5)); alpha(B,.7) colorbar </code></pre> <p><img src="https://i.stack.imgur.com/20vdv.png" alt="Same colormap - different alphas."></p> <p>James</p>
<p>In pre-R2014b MATLAB, the <code>colorbar</code> is itself an axis containing an image for which you can set alpha:</p> <pre><code>hb = findobj(gcf,'Type','axes','Tag','Colorbar'); hi = findobj(hb,'Type','image'); alpha(hi,0.7) </code></pre> <p>Instead of <code>gcf</code>, use the handles of the individual subplots.</p> <p>Or save its handle when you make it:</p> <pre><code>hb = colorbar; </code></pre> <p>From R2014b on, the colorbar is creating using the new handle graphics system, where there is no longer a child image to modify. The <code>colorbar</code> is created internally with <code>colorbarHGUsingMATLABClasses</code>, which is an obfuscated .p file, so it's no clear how it's constructed.</p>
<p>You could add a textbox with alpha on top of the colorbar. This works for later versions of MATLAB.</p> <pre><code>cb=colorbar annotation('textbox',... cb.Position,... 'FitBoxToText','off',... 'FaceAlpha',0.5,... 'EdgeColor',[1 1 1],... 'BackgroundColor',[1 1 1]); </code></pre>