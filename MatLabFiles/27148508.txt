MatLab: Create matrix row element if row elements of two previous matrices are identical
<p>Sorry for the title. I could not think of something better.</p> <p>I have the following problem.</p> <p>I have two four-column matrices build up like this:</p> <p>Property | X | Y | Z</p> <p>The two matrices have different sizes, since matrix 1 has a large amount of additional rows compared to matrix 2.</p> <p>What I want to do is the following:</p> <p>I need to create a third matrix that only features those rows (of the large matrix) that are identical in columns X, Y and Z to rows in matrix2(the property column is always different).</p> <p>I tried an if-statement but it did not really work out due to my programming syntax. Has somebody a tip?</p> <p>Thank you!</p> <p>I tried something like this: (in this case A is the larger matrix and I want its property column for X,Y,Z-positions that are identical to another matrix B.. I am terrible with the MatLab-syntax..</p> <pre><code>if (A(:,2) == B(:,2) and (A(:,3) == B(:,3) and (A(:,4) == B(:,4)) newArray(:,1) = A(:,1); </code></pre> <p>end</p>
<p>Use <a href="http://es.mathworks.com/help/matlab/ref/ismember.html" rel="nofollow"><code>ismember</code></a> with the <code>'rows'</code> option to find the desired rows, and then use that as an index to build the result:</p> <pre><code>ind = ismember(A(:,2:4), B(:,2:4), 'rows'); C = A(ind,:); </code></pre> <p>I have assumed that a row of <code>A</code> is selected if its last three columns match those of <em>any</em> row of <code>B</code>.</p>