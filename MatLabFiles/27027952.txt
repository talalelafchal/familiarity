Row-wise interpolation in Simulink
<p>I have a 41x8 matrix which I want to use as a source in Simulink. The output of the source should be a row of size 8. The data needs to be interpolated between rows. for example:</p> <p>there is a 41x1 monotonically increasing column vector that corresponds row-wise with the 41 rows of the first matrix,for example:</p> <pre><code>X=[0; Z=[5 20; 2.5; 10 26; 5; 18 33; 7.5; 27 41; 10] 38 50] </code></pre> <p>The needs to be interpolated between columns (cubic spline interpolation if posible). I hava an input that relates to a value in the X column vector. Output of simulink model at different values of X for this example matrix:</p> <pre><code>X=[5] Z=[18 33] X=[6] Z=[25.096 39.32] </code></pre> <p>The last Z values were obtained from cubic spline interpolation.</p> <p>So far I've tried with a "MATLAB function" block in Simulink with the next code, and calling the matrix and vectors with a "From workspace" block. when i tryto run the simulation, an error ocurr and it says that the X and Z(i) vectors don't have the same dimensions in the function interp1() </p> <pre><code>function [I] = fcn(A,X, Z) %A: traget value for column vector %X: 41X1 column vector %Z: 41x8 matrix I=zeros(1,8); %Just creating the row filled with zeros for i=1:8 I(i)=interp1(X,Z(:,i),A,'spline'); % Building the row interpolating at % the A value that corresponds % with the X1 column vector end %the I column vector is an interpolated row from Z end </code></pre> <p>any idea on how to get it working?</p> <p>PD: X is and Z values has to be read from the Matlab's Base Workspace.</p>