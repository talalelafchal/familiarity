how can i apply exact dct2 on 8x8 blocks and display them in subplots?
<pre><code>I=imread('ft.jpg'); [a b]=size(I); figure;imshow(I); j=rgb2ycbcr(I); [m n]=size(j); figure; imshow(j); ca=mat2cell(j,8*ones(1,size(j,1)/8),8*ones(1,size(j,2)/8),3); p = 1; figure; figure; X=ones(m,n,8,8); for c=1:size(ca,1) for r=1:size(ca,2) temp=zeros(8,8,'uint8'); temp(:,:)=X(c,r,:,:); temp=temp-128; temp=dct2(temp); subplot(size(ca,1),size(ca,2),temp(:,:)); %// Change imshow(ca{c,r}); p=p+1; end end </code></pre> <p>the error is: Error using ==> subplot at 309 Illegal plot number.</p> <p>Error in ==> project at 22 subplot(size(ca,1),size(ca,2),temp(:,:)); %// Change</p>
<p>That's because you're not calling <code>subplot</code> properly. It needs <code>p</code> as the parameter for the third argument, not <code>temp</code>. <code>p</code> determines which slot you want to place your figure in. You putting in a <code>double</code>vector as the third parameter makes no sense. Also, <code>ca</code> contains 8 x 8 pixel blocks, and you'd like to show the DCT of each block. Your current code does not do this. Actually, <code>X</code> is what you're trying to find the DCT of, and it's all ones.... doesn't make much sense.</p> <p>You probably want to show the DCT of each block inside the figure as well, not <code>ca</code>.... and so you need to do this:</p> <pre><code>for c=1:size(ca,1) for r=1:size(ca,2) temp = double(ca{c,r}); %// Change - cast to double for precision temp=temp-128; temp=dct2(temp); subplot(size(ca,1),size(ca,2),p); %// Change imshow(temp,[]); %// Change here too p=p+1; end end </code></pre> <p>Note that I did <code>imshow(temp,[]);</code> so that we can contrast stretch the block so that the minimum value gets mapped to black while the maximum value gets mapped to white. Everything else is a shade of gray in between. Be advised that this <strong>doesn't change the image itself</strong>. It only changes it for display.</p> <h1>Suggestion</h1> <p>You should read up on my post on how <code>subplot</code> works here: <a href="http://stackoverflow.com/questions/24337813/how-does-subplot-work-and-what-is-difference-between-subplot121-and-subplot1/24337903#24337903">How does subplot work and what is difference between subplot(121) and subplot(1,2,1) in MATLAB?</a></p> <p>Once you read through this post, you'll have a better understanding of how each parameter works for <code>subplot</code>, and how you can display graphs / images in a figure.</p> <h1>Minor Note</h1> <p>Looks like you took that code <a href="http://stackoverflow.com/questions/27074716/how-can-i-decompose-an-image-into-8-x-8-pixel-blocks/27074888#27074888">from this post</a> but you didn't copy and paste properly :) That <code>%// Change</code> comment, as well as the variable name <code>ca</code> looked oddly familiar.</p>