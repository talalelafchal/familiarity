MATLAB: Subscripted assignment between dissimilar structures
<p>I'm trying to perform a very basic assignment in matlab to create an array of structures.<br> Here's the main code for assigning it</p> <pre><code>for i=1:n P(i) = MakePoint(x(i), y(i), z(i)); end </code></pre> <p>Where the function <code>MakePoint</code> is</p> <pre><code> function P = MakePoint(x,y,z) % P is a point with x-coordinate P.x and y-coordinate P.y. P = struct('x',x,'y',y,'z',z) end </code></pre> <p>In other words, I'm trying to make <code>P</code> and array of "points" creates with <code>MakePoint</code>. I get the error </p> <blockquote> <p>Subscripted assignment between dissimilar structures </p> </blockquote> <p>How do I fix this? Thank you!</p>
<p>It is not clear why your code gives this error.</p> <p>However, a nicer way of setting an array of structs is using cell-array arguments:</p> <pre><code>P = struct('x', mat2cell(x), 'y', mat2cell(y), 'z', mat2cell(z) ); </code></pre> <p>and no loop is required. </p> <p>You can try it out <a href="http://ideone.com/gS1Dkw" rel="nofollow">here</a>.</p>