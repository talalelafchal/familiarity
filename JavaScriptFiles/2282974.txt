Show/hide an image works only on IE
<p>I have that JavaScript code:</p> <pre><code> var state = 'hidden'; function Show_Picture() { if (state == 'visible') state = 'hidden'; else state = 'visible'; document.getElementById('loader').style.visibility = state; } </code></pre> <p>'loader' is the </p> <pre><code>&lt;img alt="" id="loader" src="file:///D:/ajax-loader.gif"/&gt; </code></pre> <p>Why that code doesn't work on FF ? Ont the IE it works OK.</p> <p>Here's the code: <a href="http://pastebin.com/m38aa1847" rel="nofollow noreferrer">http://pastebin.com/m38aa1847</a></p>
<p>Use a framework. They take care of all this cross-browser business for you.</p> <pre><code>&lt;script type="text/javascript" src="http://ajax.googleapis.com/ajax/libs/prototype/1.6.0.3/prototype.js"&gt;&lt;/script&gt; &lt;script&gt; function Show_Picture() { $('loader').toggle() } &lt;/script&gt; </code></pre>
<p>Try this instead:</p> <p>var state = 'hidden';</p> <pre><code>function Show_Picture() { if (state == '') state = 'hidden'; else state = ''; document.getElementById('loader').style.visibility = state; } </code></pre>
<p>I actually can't reproduce your bug. I copy-pasted your code from pastebin and ran it on FF 3.5.6 - the only thing I changed was the image source to a local image of my own.</p> <p>Are you trying to debug it on FF at all? Try running it with Firebug open and see if any errors are reported. </p> <p>Test the response code of the image request, too. Perhaps it's the <code>file://</code> protocol that isn't working correctly.</p> <h2>EDIT</h2> <p>Yup - just tested it. When I changed the image's <code>src</code> to a fully-qualified local path (i.e., one with <code>file://</code>) it doesn't show up in Firefox. Your Javascript works fine - just change the image path.</p>