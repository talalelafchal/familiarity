Javascript Submit
<p>Hi I have the following script in my form </p> <pre><code>function pdf() { var frm = document.getElementById("form1"); frm.action = "http://www.abbysoft.co.uk/index.php"; frm.target="_blank" frm.submit() } </code></pre> <p>this is called from the following in my form <code>&lt;input class="buttn" type="button" value="Test" onclick="pdf()"</code></p> <p>The code work up to the frm.submit() but it will not submit </p> <p>Can anyone offer any advice please ?</p>
<p>You should end your statements with <code>;</code>. The following should work</p> <pre><code>function pdf() { var frm = document.getElementById('form1'); frm.action = 'http://www.abbysoft.co.uk/index.php'; frm.target = '_blank'; frm.submit(); } </code></pre> <p>assuming you have a form like this:</p> <pre><code>&lt;form id="form1" action="#"&gt; &lt;input class="buttn" type="button" value="Test" onclick="pdf()" value="Test" /&gt; &lt;/form&gt; </code></pre> <p>Also make sure that by any chance you don't have an input with name <code>submit</code> inside your form as this would override the <code>submit</code> function:</p> <pre><code>&lt;input type="text" name="submit" /&gt; </code></pre>
<p>Make a form like this:</p> <pre><code>&lt;form id="form1" action="" onsubmit="pdf();return false;"&gt; &lt;input class="buttn" type="submit" value="Test" value="Test" /&gt; &lt;/form&gt; </code></pre>
<p>You haven't given us the code you are using to create the form, nor have you told us what (if any) errors are reported by the browser, however, the usual cause for this issue is having a submit button named or ided <em>submit</em>.</p> <p>Any form control is accessible from the form object with a property that matches its name (and another one that matches its id if that is different). This clobbers any existing properties of the form (other than other controls) including the <code>submit</code> and <code>reset</code> methods.</p> <p>The simplest solution is to rename the control so it doesn't conflict with an existing property.</p> <p>Alternatively, see <a href="http://stackoverflow.com/questions/1999891/how-to-reliably-submit-an-html-form-with-javascript">How to reliably submit an HTML form with JavaScript?</a></p>