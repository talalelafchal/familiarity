Manipulate DOM before it is shown to the user?
<p>I'm not too familiar with javascript, is there a way to manipulate the DOM before the page is displayed to the user?</p> <p>I'm using GWT which makes you create the page elements via javascript. This is kind of convenient, but it appears that all the javascript code is executed after the page is first shown to the user. This has the effect of showing the page as a blank white screen, then all the UI elements popping onto screen. The effect is really apparent when switching between pages.</p> <p>If I were using php or jsp, it looks like the page ui elements are already prerendered and the browser won't show a blank white screen before display.</p> <p>So is there any hook in javascript where we can manipulate the DOM before the browser clears out the contents of the last page shown?</p> <p>-------------------------------- Edit ----------------------------------------</p> <p>@Cipi: I'm not sure if this will work, but I can try. I think it will be the same problem though? I still see it happening like this:</p> <ol> <li>User is already on one of my pages.</li> <li>User clicks a link.</li> <li>Browser starts fetching contents of new url, but the contents are simply an empty html file with just a javascript link in it.</li> <li>After page is done downloading, browser renders the html (this is just a white screen).</li> <li>Now the javascript starts executing in response to the onLoad() event(?), building the UI.</li> <li>A few ms later, the DOM is done being manipulated, and is finally presented to the user.</li> </ol> <p>so I am thinking that your solution would take place on #5, but by then the browser has already rendered the contents of the initial page on step #4?</p> <p>@Crozin: I'm looking into DOMContentLoaded now, seems specific to gecko based browsers but there are solutions for ie etc. Yeah I basically want to manipulate the dom before the browser renders <em>anything</em> for the new page to screen, hopefully that can do it.</p> <p>Thanks</p>
<p>Yes there are two methods:</p> <ol> <li>Use <a href="http://www.google.pl/search?hl=en&amp;q=domcontentloaded&amp;btnG=Szukaj+w+Google&amp;lr=" rel="nofollow noreferrer">DOMContentLoaded</a> event</li> <li><p>In the following code:</p> <pre><code>.... &lt;p id="abc"&gt;abc&lt;/p&gt; &lt;script type="text/javascript"&gt; CODE HERE &lt;/script&gt; &lt;p id="def"&gt;def&lt;/p&gt; </code></pre> <p>Element with id <code>abc</code> is avaiable, but the one with id <code>def</code> ain't.</p></li> </ol>