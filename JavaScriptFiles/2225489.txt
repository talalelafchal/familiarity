How to pass % in a URL query string?
<p>I am trying to pass a string via HTTP request which has one of the character as <code>%</code> in the URL query string. </p> <pre><code>url = url + "?q=" + str + "&amp;block=" + block; // str contains the '%' character </code></pre> <p>But on the ColdFusion page where I'm sending this information is returning following error:</p> <blockquote> <p>Element Q is undefined in URL.</p> </blockquote> <p>How can I encode the <code>%</code> sign in a URL?</p>
<p>You should url-encode all the values you are passing as query parameters, but the url-encoding for % is <code>%25</code></p> <p><strong>Update</strong>: if you're constructing the query parameters in javascript, you probably want to do:</p> <pre><code>url=url+"?q="+encodeURIComponent(str)+"&amp;block="+encodeURIComponent(block) </code></pre> <p>(Updated again with ZeissS' very helpful suggestion to use <code>encodeURIComponent</code> instead of <code>escape</code>. See also <a href="http://xkr.us/articles/javascript/encode-compare/" rel="nofollow noreferrer">http://xkr.us/articles/javascript/encode-compare/</a>)</p>
<p>Pass your string trough the function <code>encodeURI(...)</code> it will escape all the special characters not only the %</p>
<p>%25</p> <p><a href="http://www.w3schools.com/TAGS/ref_urlencode.asp" rel="nofollow noreferrer">http://www.w3schools.com/TAGS/ref_urlencode.asp</a></p>
<p><a href="http://help.adobe.com/en_US/ColdFusion/9.0/CFMLRef/WSc3ff6d0ea77859461172e0811cbec22c24-7bdf.html" rel="nofollow noreferrer">URLEncodedFormat()</a> in ColdFusion</p>
<p>We can use URLEncodedFormat() in ColdFusion as well as we can use the below mentioned one.</p> <ul> <li>encodeURI(...)</li> <li>encodeURIComponent</li> </ul> <p>This two also help us to resolve our issue.</p>