Need to get the value of a variable which is sent as a string?
<p>I'm sending a string as parameter to a function, but i already have a global variable in that name, i want to get the value of that variable but its sending as undefined..</p> <p>My example code</p> <p>i have a array as reg[0][0],reg[0][1],reg[1][0],reg[1][0],reg[2][0],reg[2][1]</p> <p>and i have some global variables as tick1, tick2, tick3...</p> <p>it will either have the values as 0,1 or 2</p> <p>and in a function i called </p> <pre><code>calc_score(id) //id will return as either tick1,tick2,tick3 { alert(eval("reg[id][1]")); // it should return the value of reg[0][1] if id is 0 } </code></pre> <p>But its not working.</p> <p>The id wont be a numeral it will be string .. So how can i do this?</p>
<p>Use this:</p> <pre><code>alert(reg[Number(id)][1]); </code></pre> <p>of course you should check that <code>id</code> can be cast to a number before you do it. I don't really think you need the <code>eval</code>, unless you are trying to do something else that you haven't mentioned.</p>
<p>Oh! You change the code like the following:</p> <pre><code>calc_score(id) //id will return as either tick1,tick2,tick3 { alert(eval("reg[" + id + "][1]")); // it should return the value of reg[0][1] if id is 0 } </code></pre>
<p>You <a href="http://blogs.msdn.com/ericlippert/archive/2003/11/01/53329.aspx" rel="nofollow noreferrer">shouldn't use eval</a> for things like this. If you need to convert <code>id</code> to a number, use the unary <code>+</code> operator:</p> <pre><code>calc_score(id) //id will return as either tick1,tick2,tick3 { alert(reg[+id][1]); // it should return the value of reg[0][1] if id is 0 } </code></pre> <p>or <code>parseInt()</code></p> <pre><code>calc_score(id) //id will return as either tick1,tick2,tick3 { alert(reg[parseInt(id, 10)][1]); // it should return the value of reg[0][1] if id is 0 } </code></pre> <p><hr> If you need to parse a string like "tick1, tick2" then you have a few options. If the first part will always be "tick", you can slice the end off the string like so:</p> <pre><code>calc_score(id) { id = +id.slice(4); // or +id.substring(4) if you prefer alert(reg[id][1]); } </code></pre> <p>If <code>tick1, tick2, tick3</code> are global variables, then instead of using <code>eval()</code>, you should reference them via the window object like so:</p> <pre><code>calc_score(id) //id will return as either "tick1","tick2","tick3" { alert(window[id]); } </code></pre>