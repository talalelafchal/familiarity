Using Javascript to replace Text in HTML tag with innerHTML and functions
<p>I'm trying to change the text inside a h1 tag using the element id "greeting" and a external java script. I'm having trouble trying to figure out how to call upon my function init that has gathered variables and use them in the next function. Heres what I have so far.</p> <p>HTML </p> <pre><code> &lt;head&gt; &lt;title&gt;Matt Beckley&lt;/title&gt; &lt;script type="text/javascript" src="script1.js"&gt;&lt;/script&gt; &lt;/head&gt; &lt;body&gt; &lt;h1 id="greeting"&gt;Welcome!&lt;/h1&gt; &lt;/body&gt; &lt;/html&gt; </code></pre> <p>THE SCRIPT WHERE THE PROBLEM IS!</p> <pre><code> window.onload = init; function init() { var fullname=prompt("Please Enter you name!","Anonymous "); (fullname == "Anonymous")? "Anonymous " : ""; var nickname=prompt("Please Enter you nickname!"," None"); (nickname == "None")? " None": ""; } function writeGreeting() { document.getElementById("greeting").innerHTML= ????????? } </code></pre> <p>So I don't know how to make the last function work so that the h1 tag shows a name and a nick. w3schools only shows "Strings" and not the ability to call the other function. Anyone know how to do this?</p>
<p>Try this. Tested with ie, chrome and ff (all latest).</p> <pre><code>var msg = "Welcome " + fullname + "(" + nickname + ")!"; var greetingElement = document.getElementById("greeting"); if(greetingElement.firstChild == null) greetingElement.appendChild(document.createTextNode(msg)); else greetingElement.firstChild.nodeValue = msg; </code></pre>
<p>How about merging the <code>init</code> and <code>writeGreeting</code> functions:</p> <pre><code>window.onload = init; function init() { var fullname=prompt("Please Enter you name!","Anonymous "); fullname = (fullname == "Anonymous")? "Anonymous " : ""; var nickname=prompt("Please Enter you nickname!"," None"); nickname = (nickname == "None")? " None": ""; document.getElementById("greeting").innerHTML= "Welcome " + fullname + " (" + nickname + ")"; } </code></pre> <p>p.s. Minor point of grammar - you probably want "Please enter your name", rather than "Please Enter you name", and similarly for the nickname prompt.</p>
<pre><code>// Create two GLOBAL variables var fullname = ""; var nickname = ""; function init() { fullname = /* ... */ nickname = /* ... */ // pass the nickname on to the greeting function writeGreeting(nickname); } // This function is remain separate, if you wish to call it again // at a later time before a page-refresh. function writeGreeting(name) { document.getElementById("greeting").innerHTML = name; } </code></pre>
<p>How about like this? </p> <p>It will display "<strong>Welcome fullname!</strong>" or "<strong>Welcome nickname!</strong>" or "<strong>Welcome Anonymous!</strong>" if you don't put any.</p> <pre><code>function init() { var fullname=prompt("Please Enter you name!"); var nickname=prompt("Please Enter you nickname!"); writeGreeting(fullname||nickname||"Anonymous"); } function writeGreeting(name){ document.getElementById("greeting").innerHTML= "Welcome "+name+"!"; } </code></pre>
<p>I like Dominic's solution. Just bear in mind that you should be careful with any data entered by a user. I would recommend escaping string with <code>escape()</code> function, prior to using it.</p> <p>e.g.</p> <pre><code>document.getElementById("greeting").innerHTML= "Welcome " + escape( fullname ) + " (" + escape( nickname ) + ")"; </code></pre>
<p>Why not use .innerâ€‹<strong>Text</strong> instead?</p>