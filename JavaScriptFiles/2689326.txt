having problems with javascript null
<p>I have tried rectifying the code below. But I am not able to find a solution. After executing the code, firebug says "document.getElementById(haystack.value) is null". I tried <code>if(document.getElementById(haystack).value ==null)</code> but it was of no use. Please help me out.</p> <pre><code> var haystack=document.getElementById('city1').value; if(!document.getElementById(haystack).value) { alert("null"); } else { alert("not null"); } </code></pre> <p>Edit:</p> <p>haystack gets the value of the city. When i try an "alert" on haystack -alert(haystack) i get a positive reply. but when i try it with "document.getElementById(haystack).value" i get an error. One thing though, the element with the id that haystack gets might or might not exist. </p> <p>Edit again:</p> <p>I think ill kill myself. I put the city for the name attribute for an input element not the id attribute. I am sorry, but sitting in front of the computer this long made me loose my mind. But it is no excuse for having wasted your time. Please accept my sincere apologies. Thanks spender for helping me out.</p>
<p>Doing it in less lines:</p> <pre><code>if ((el = document.getElementById('city1')) &amp;&amp; el.value) { alert ("not null"); } else { alert ("null"); } </code></pre>
<p>You're trying to look up a property on <code>document.getElementById('city1')</code> which might be null. Try this instead:</p> <pre><code>var haystackElement=document.getElementById('city1'); if(!haystackElement) { alert("haystackElement is null"); } else { alert("haystackElement is not null"); var haystack=haystackElement.value; if(!haystack) { alert("haystack is null"); } else { alert("haystack is not null"); } } </code></pre>
<p>You already have your <code>haystack</code> object:</p> <pre><code>var haystack=document.getElementById('city1'); if(!haystack.value) { alert("null"); } else { alert("not null"); } </code></pre> <p><code>document.getElementById</code> is used to get the element, you have done that and placed it in the <code>haystack</code> variable. There is no need to call <code>document.getElementById</code> again on it (and incorrectly at that). Read about <a href="https://developer.mozilla.org/en/DOM/document.getElementByID" rel="nofollow noreferrer"><code>getElementById</code></a>.</p>
<p>Unfortunately you have shown us some code and described an error (which looks like it has been transcribed incorrectly) without telling us what you are actually trying to achieve.</p> <p>Take a look at this code sample, it fixes the robustness issues with your code, and has more detailed alert messages to make it clear what is being detected.</p> <p>Hopefully it will clear things up for you.</p> <pre><code>var haystack = document.getElementById('city1').value; var haystack_element = document.getElementById(haystack); if (haystack_element) { if (haystack_element.value) { alert("The element has a true value"); } else { alert("The element has a false value, such as '' or 0"); } else { alert("No element with that name"); } </code></pre>