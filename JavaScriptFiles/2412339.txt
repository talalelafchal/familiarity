javascript alternating color rows of tables
<p>I have a page with several tables on it with the same class name. I want to alternate the colors of the rows of every table on this page. I'm using the code below with . This code isn't working correctly, because only 1 table is alternating colors at a time (the first table). what am I doing wrong? All the tables on my page has "mytable" class.</p> <pre><code>function altrows(classname,firstcolor,secondcolor) { var tableElements = document.getElementsByClassName(classname) ; for(var j= 0; j &lt; tableElements.length; j++) { var table = tableElements[j] ; var rows = table.getElementsByTagName("tr") ; for(var i = 0; i &lt; rows.length; i=i+2) { rows[i].bgColor = firstcolor ; rows[i+1].bgColor = secondcolor ; } } } </code></pre>
<p>Zebra striping is easy with jQuery. <a href="http://docs.jquery.com/Tutorials:Zebra_Striping_Made_Easy" rel="nofollow noreferrer">Check it</a>. Worth using and understanding and you can implement the same.</p> <p><a href="http://articles.sitepoint.com/article/background-colors-javascript" rel="nofollow noreferrer">Sitepoint</a> has a good tutorial doing it using just javascript. no jquery.</p>
<pre><code>&lt;script type="text/javascript"&gt; function altrows(classname,firstcolor,secondcolor) { var tableElements = document.getElementsByClassName(classname) ; for(var j = 0; j &lt; tableElements.length; j++) { var table = tableElements[j] ; var rows = table.getElementsByTagName("tr") ; for(var i = 0; i &lt;= rows.length; i++) { if(i%2==0){ rows[i].style.backgroundColor = firstcolor ; } else{ rows[i].style.backgroundColor = secondcolor ; } } } } &lt;/script&gt; </code></pre>
<p>If one of your tables has an odd number of rows, your function will break on the line</p> <pre><code> rows[i+1].bgColor = secondcolor ; </code></pre> <p>and not process any of the following tables. You should either check whether there is a row before setting the secondcolor:</p> <pre><code>function altrows(classname,firstcolor,secondcolor) { var tableElements = document.getElementsByClassName(classname) ; for(var j= 0; j &lt; tableElements.length; j++) { var table = tableElements[j] ; var rows = table.getElementsByTagName("tr") ; for(var i = 0; i &lt; rows.length; i=i+2) { rows[i].bgColor = firstcolor ; if ( i+1 &lt; rows.length ) { rows[i+1].bgColor = secondcolor ; } } } } </code></pre> <p>or loop over every row rather than looping over sets of two rows:</p> <pre><code>function altrows(classname,firstcolor,secondcolor) { var tableElements = document.getElementsByClassName(classname) ; for(var j= 0; j &lt; tableElements.length; j++) { var table = tableElements[j] ; var rows = table.getElementsByTagName("tr") ; for(var i = 0; i &lt; rows.length; i++) { rows[i].bgColor = (i%2==0) ? firstcolor : secondcolor ; } } } </code></pre>
<p><code>rows[i]</code> will always exists, but <code>rows[i + 1]</code> might not exists. Then <code>rows[i+1].bgColor = secondcolor ;</code> causes some kind of fatal error that breaks whole script.</p> <ol> <li><p>Consider using CSS:</p> <pre><code>table tr:nth-child(even) { background-color: red; } table tr:nth-child(odd) { background-color: blue; } </code></pre></li> <li><p>Or use fixed JS:</p> <p>function altrows(classname,firstcolor,secondcolor) { var tableElements = document.getElementsByClassName(classname) ;</p> <pre><code>for(var j = 0; j &lt; tableElements.length; j++) { var table = tableElements[j] ; var rows = table.getElementsByTagName("tr") ; for(var i = 0; i &lt; rows.length; i++) { rows[i].bgColor = i % 2 == 0 ? firstcolor : secondcolor ; } } </code></pre> <p>}</p></li> </ol>
<p>This is prob not the answer you looking for but here is a quick and easy way of alternating the row color with just 2 lines of jquery :)</p> <p>$('tr:odd').css("background-color", "#F4F4F8");</p> <p>$('tr:even').css("background-color", "#EFF1F1");</p>