Prompting and preventing user from navigating away/closing a page
<p>As per how StackOverflow does it when you are adding a question or replying to a question;</p> <p>I'd like to prompt the user with a;</p> <pre><code>"Are you sure you want to navigate away from this page" "Press OK to continue or Cancel to stay on this page" </code></pre> <p>I've tried a couple of js snippets i've found on ze internet, but nothing quite cuts the mustard.</p>
<p>You need to implement <a href="http://msdn.microsoft.com/en-us/library/ms536907%28VS.85%29.aspx" rel="nofollow noreferrer">window.onbeforeunload</a> and return your message from it as a string:</p> <pre><code>window.onbeforeunload = function() { if (theUserHasStartedEditing) { return "You have started writing or editing a post." } } </code></pre> <p>There's an online demo here: <a href="http://www.4guysfromrolla.com/demos/OnBeforeUnloadDemo2.htm" rel="nofollow noreferrer">http://www.4guysfromrolla.com/demos/OnBeforeUnloadDemo2.htm</a></p>