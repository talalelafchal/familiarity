How check javascript not to open the same window with window.open function
<p>In my javascript i want to open URL in new window with this method:</p> <pre><code>var win = window.open(url...); </code></pre> <p>How can i check this, not to open the same window and lose all inputted data. For example, if i opened "www.musite.com/addproduct" URL in new window, input data, leave my work place. then i click open window again, new window open and i lost all my data.</p>
<p>The <code>window.open</code> function returns a referens to the window if successfull or null if unsuccessfull.<br> You should check that <code>win</code> isn't null:</p> <pre><code>if (win != null) { // It is now safe to open the window. } </code></pre> <p>You'll also want to set <code>win</code> to null upon closing the window so that you'll know that you can open it again.</p>
<p>The following will allow you to open the window only once:</p> <pre><code>if (typeof win !== 'object') { win = window.open('http://www.google.com'); } else { // Do nothing } </code></pre> <p>As <a href="http://stackoverflow.com/questions/2701838/how-check-javascript-not-to-open-the-same-window-with-window-open-function/2701858#2701858">Sani suggested in another answer</a>, it would be wise to keep track of when the window is closed, in order to be able to reopen it. You can listen for the <code>window.onunload</code> event in the popup window, as follows:</p> <pre><code>window.onunload = function() { window.opener.win = undefined; } </code></pre> <p>The <code>onunload</code> event handler will set the <code>win</code> global variable of the window that opened the popup to <code>undefined</code>, so you would be able to reopen the window.</p> <p>Be aware that due to the <a href="http://en.wikipedia.org/wiki/Same_origin_policy" rel="nofollow noreferrer">same origin policy</a>, this will only work if the popup you open will be in the same domain as the parent window. In addition note that I've only tested the above in Firefox.</p>