Javascript add variable date
<p>This should be easy, but I'm looking to add an integer variable called "rental_period" to the current date and then display it in DD/MM/YYYY form. This is my code:</p> <pre><code> duedate.setDate(duedate.getDate()+rental_period); $("#pricing_due").html("DUE DATE: &lt;strong&gt;" + duedate.getDay() + "/" + duedate.getMonth() + "/" + duedate.getFullYear() + "&lt;/strong&gt;"); </code></pre>
<p>Javascript datetimes are stored in milliseconds.</p> <p>Therefore, assuming that <code>rental_period</code> in a number of days, you need to write</p> <pre><code> duedate.setTime(duedate.getTime() + rental_period * 24 * 60 * 60 * 1000); </code></pre> <p>(24 hours × 60 minutes × 60 seconds × 1000 milliseconds)</p> <p><strong>EDIT</strong>: <a href="http://jsbin.com/epiti" rel="nofollow noreferrer">Your code should work as is</a>.</p>
<p>Use this:</p> <pre><code>duedate.setTime(duedate.getTime() + rental_period); </code></pre> <p>Make sure rental_period be a value in msecs (can be easily converted from whatever you have, for instance if it's in days, just multiply it by 24*60*60*1000).</p> <p><strong>EDIT:</strong> For those not understanding the problem, setDate receives a day number (1 to 31), and it's behaviour (though may work on some browsers) is not defined for other values. setTime works as expected.</p> <p><a href="http://www.w3schools.com/jsref/jsref_setDate.asp" rel="nofollow noreferrer">http://www.w3schools.com/jsref/jsref_setDate.asp</a></p>
<p><code>setDate</code> will only modify the day of the date object. Use something like this instead:</p> <pre><code>var rentalPeriod, rentedDay, dueDate; rentalPeriod = 14 * 24 * 3600 * 1000; // in milliseconds, here: 14 days rentedDay = new Date(); // Date object of when the thing was rented dueDate = new Date( ( +rentedDay ) + rentalPeriod ); </code></pre>