how to remove body onload function in java script?
<p>I met one critical problem in java script .....help me to fix this.......</p> <p>i have written the onload function in one jsp page say login.jsp...</p> <p>in tat function i used window.open method to open a new window again with the same jsp page login.jsp with disabling the toolbars......</p> <p>now wat happening is when iam opening same page again in new window obviously tat body onload function will again get called and opens a new window in indefinite........</p> <p>but what i want is, i have to remove that onload function in tat jsp page once a new window is opened..</p> <p>Is it possible to remove tat onload function while getting opened in the new window??</p> <p>could anyone please come up with an idea or little bit of code to do this using java script??</p>
<p>Try having the popup JSP look to see whether you're coming from the problematic page. If so, set <code>window.onload = null</code> -- better yet, don't set anything at all in that JSP.</p>
<p>It seems you're going about this the wrong way.</p> <p>Although there may be a way to intercept the onload function before it actually runs (some javascript libraries can help you to add a handler to the OnDocumentReady event), but maybe you should be doing something serverside. For example - If you want NOT to popup the window in the second window, then one way is to set a querystring parameter telling the server not to add that attribute to the body tag.</p> <p>You could also check the referrer. If the user is coming from that page, then don't add the attribute to the body tag.</p>
<p>Since it's the same page a quick workaround could be to check if the <em>current</em> window has been opened programmatically, before executing <code>window.open</code>, something like this:</p> <pre><code>window.onload = function () { if (!window.opener) { window.open(/*...*/); } }; </code></pre> <p>The above code checks if the <a href="https://developer.mozilla.org/en/DOM/window.opener" rel="nofollow noreferrer"><code>window.opener</code></a> property has a value.</p> <p>This property contains a reference to the window that opened this <em>current window</em>, and of course if the current window hasn't been opened programmatically, it will contain <code>null</code>.</p> <p>In conclusion, the <code>window.open</code> method will be invoked only once.</p>