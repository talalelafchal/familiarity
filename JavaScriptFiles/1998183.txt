retype password verification not working
<p>I used the following code:</p> <pre><code>&lt;script type="text/javascript"&gt; function validate() { if ((document.changepass.newpassword.value != '') &amp;&amp; (document.changepass.retypenewpassword.value == document.changepass.newpassword.value)){ document.changepass.retypenewpassword.blur(); document.changepass.submit(); } } &lt;/script&gt; &lt;form name="changepass" method="POST" action="changepassword.jsp" onsubmit="return validate();"&gt; &lt;table align="center"&gt; &lt;tr&gt; &lt;td&gt;New Password:&lt;/td&gt; &lt;td&gt;&lt;input type="password" name="newpassword" size="20" style="width: 145px" maxlength="10"&gt;&lt;/td&gt; &lt;/tr&gt; &lt;tr&gt; &lt;td&gt;Retype New Password:&lt;/td&gt; &lt;td&gt;&lt;input type="password" name="retypenewpassword" size="20" style="width: 144px" maxlength="10"&gt;&lt;/td&gt; &lt;/tr&gt; &lt;tr&gt; &lt;td&gt;&lt;input type="submit" value="Change Password" name="operation" &gt;&lt;/td&gt; &lt;td&gt;&lt;input type="reset"&gt;&lt;/td&gt; &lt;/tr&gt; &lt;/table&gt; &lt;/form&gt; </code></pre> <p>but when I'm giving unmatched entry then also it getting changed.i mean the validate function is not getting called. plz help</p> <p>in hope robin</p>
<p>Your form will submit no matter what, because you are not returning false from the validating function on error. It should be:</p> <pre><code>function validate() { var d = document.changepass; if((d.newpassword.value != '') &amp;&amp; (d.retypenewpassword.value == d.newpassword.value)) { return true; } return false; } </code></pre> <p>At current, you are not specifying a return value for <code>validate()</code>, and it is interpreted as always returning true, so the form gets submitted. You don't need to call <code>submit()</code> from your function, simply return true if everything is ok.</p>
<p>The <code>onsubmit</code> handler on your <code>&lt;form&gt;</code> is looking for a return value, but is not given one from your <code>validate</code> function. Instead of calling <code>submit()</code> in the function, you should return true or false, depending on if the form validates (if the function returns <code>false</code>, that is equivalent to <code>onsubmit="false"</code>, which will cancel the submission):</p> <pre><code>function validate() { if ((document.changepass.newpassword.value != '') &amp;&amp; (document.changepass.retypenewpassword.value != document.changepass.newpassword.value)) { // A password is given but it doesn't match // Perhaps you want to alert() an error message here to tell the user why the form doesn't validate? return false; } return true; } </code></pre>