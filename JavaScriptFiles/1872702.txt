Adding a global Javascript function, jQuery style?
<p>Im looking to send command strings to a flash app, to execute debug commands. Doing this through Firebugs Console/Command-line looks like the simplest way to get this up and running.</p> <p>At the moment I can log to the firebug console from the flash app by calling out to console using the ExternalInterface. And also send the flash app commands by calling a <code>command</code> method added by the <code>ExternalInterface.addCallback</code> method. So at the moment in the html file that contains the flash app I have some Javascript:</p> <pre><code>$(document).ready(function(){ app = $("#${application}").get(0) }) </code></pre> <p>and at the firebug commandline I can type:</p> <pre><code>app.command('screen.ruler.show') </code></pre> <p>And the flash app receives this. So this is all fine, but I would like to make the <code>app.command</code> call as short as possible. </p> <p>So I would like assign the <code>app.command</code> function to a single character function in the style of jqueries $ method. So how would I go about implementing a function $$$?</p> <pre><code>$$$('screen/ruler.show') </code></pre>
<pre><code>$$$ = function( args ) { app.command( args ); } </code></pre>
<p>Example:</p> <pre><code>$(function() { $$$("Fred"); }); var app = { command: function(arg) { alert("hello " + arg); } }; function $$$(arg) { app.command(arg); } </code></pre> <p>This is equivalent:</p> <pre><code>var $$$ = function(arg) { app.command(arg); } </code></pre> <p>to the explicit function declaration.</p> <p>Javascript has what are called <a href="http://en.wikipedia.org/wiki/First-class_function" rel="nofollow noreferrer">first class functions</a>.</p>
<p>You don't have to make this complex and use closures etc like jQuery, you can just do</p> <pre><code>$$$ = app.command </code></pre> <p>or wrap it inside a function</p> <pre><code>function $$$(arg) { app.command(arg); } </code></pre> <p>or attach it to window like jQuery:</p> <pre><code>window.$$$ = function(arg) { app.command(arg); } </code></pre>