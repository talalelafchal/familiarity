Add class to an element
<p>I try to write these code to make grid view through CSS:( jsbin )</p> <pre><code> var tables = document.getElementsByClassName('tableData'); var rows = tables[0].getElementsByTagName('tr'); for(var i=1; i&lt;rows.length; i +=2) { alert(rows[i]); rows[i].className = "alt"; } </code></pre> <p>This only works with the tr elements has <code>class=""</code> . But if I want to add class to tr . I've tried Core.addClass but it doesn't work .</p> <p>â€‹</p>
<p>Try <code>rows[i].className += " alt";</code></p>
<p>This should work even when the attribute isn't already present:</p> <pre><code>rows[i].setAttribute("class", "alt"); </code></pre> <p><a href="http://www.w3schools.com/Dom/met_element_setattribute.asp" rel="nofollow noreferrer">http://www.w3schools.com/Dom/met_element_setattribute.asp</a></p>
<p>You might want to use a Javascript framework. It turns out that Firefox and Internet Explorer both have different approaches for adding class names. </p> <p>For Firefox, I believe you have to do </p> <pre><code>element.setAttribute('class','&lt;className&gt;'); </code></pre> <p>while in IE, you can do </p> <pre><code>element.className='&lt;className&gt;'; </code></pre> <p><strong>EDIT</strong></p> <p>It turns out that Firefox supports the <code>element.className</code> attribute. However, Internet Explorer doesn't understand <code>element.setAttribute('class'...)</code>. You have to do <code>element.setAttribute('className'...)</code> if you want to use the setAttribute function call.</p> <p><a href="http://api.jquery.com/addClass/" rel="nofollow noreferrer">jQuery</a> provide an interface where you can do </p> <pre><code>$(element).addClass('&lt;className&gt;'); </code></pre> <p>and it takes care of all the browser ambiguities. There are also <a href="http://api.jquery.com/removeClass/" rel="nofollow noreferrer">removeClass()</a> and <a href="http://api.jquery.com/hasClass/" rel="nofollow noreferrer">hasClass()</a> functions for managing and testing class attributes.</p> <p>So in your scenario, you'd do:</p> <pre><code>var tables = document.getElementsByClassName('tableData'); var rows = tables[0].getElementsByTagName('tr'); for(var i=1; i&lt;rows.length; i +=2) { // alert(rows[i]); $(rows[i]).addClass("alt"); } </code></pre> <p>Note that you could simplify this further with more jQuery functionality.</p>
<p>This will only add the class name if it doesn't already exist</p> <pre><code>var classToAdd = 'alt'; if (rows.className.length == 0) { rows.className = classToAdd; } else if (rows.className.indexOf(classToAdd) &lt; 0) { rows.className += ' ' + classToAdd; } </code></pre>
<p>Two years later (2012/06), there is a new and shiny approach - <a href="https://developer.mozilla.org/en/DOM/element.classList"><code>element.classList</code></a> with methods <code>add()</code>, <code>remove()</code>, <code>toggle()</code>, <code>contains()</code>.</p> <pre><code>rows[i].classList.add("alt"); </code></pre> <p>Supported by</p> <ul> <li>Chrome 8+</li> <li>Firefox 3.6+</li> <li>Internet Explorer 10+</li> <li>Opera 11.50+</li> <li>Safari 5.1+</li> </ul>