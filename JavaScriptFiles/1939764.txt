pass string with spaces into javascript
<p>i'm trying to pass a php defined string with spaces to a javascript function, so that i can append to a query string. However, the function only works when there are NO spaces, and does not even execute when there are spaces -- by testing with alert().</p> <p>is there a way I can pass strings with spaces into javascript functions, so that i can eventually do an escape(), and then append to my query string? (using alert() in this example)</p> <p><strong>.php file</strong> </p> <pre><code>&lt;a onClick=showUser('&lt;?php echo $stringwithspaces; ?&gt;')&gt;click here&lt;/a&gt; </code></pre> <p><strong>.js file</strong></p> <pre><code>function showUser(str) { alert (str); } </code></pre> <p>if I could only do something like... <code>onClick=showUser(escape('&lt;?php echo $deptname; ?&gt;'))</code>... that would be awesome, but that didn't work. Any help would be much appreciated! Thanks!</p>
<p>The problem is you didn't quote the <a href="http://www.w3.org/TR/REC-html40/intro/sgmltut.html#h-3.2.2" rel="nofollow noreferrer">attribute value</a>. You can leave quotes off of attribute values only if the value doesn't contain spaces, otherwise the HTML processor can't tell when an attribute ends. Even so, it's not recommended; you should always quote HTML attributes.</p> <pre><code>&lt;a href="showUser('&lt;?php echo addslashes($username) ?&gt;')"&gt;user&lt;/a&gt; </code></pre> <p>should work. The call to <a href="http://php.net/addslashes" rel="nofollow noreferrer"><code>addslashes</code></a> escapes quotes, which would otherwise cause another problem (ending the attribute or string argument of <code>showUser</code> too soon).</p>
<p>Yes you can you are missing <strong>"</strong> in you xml attribute field: Each attribute must have a starting and an ending <strong>"</strong></p> <p><code>myField=</code><strong>"</strong><code>blabla ...</code><strong>"</strong></p> <pre><code>onClick="showUser(escape('&lt;?php echo $deptname; ?&gt;'))" </code></pre>
<p>Try the Unicode escape sequence for a space character, '\u0020'.</p>