Pop up password protect
<p><b>Please not that I fully understand this is a dumb ass idea, but its not my idea.</b></p> <p>We need to deter people visiting a certain page on our site. It's written in ASP and I don'tknow ASP! Can anyone tell me how I can have a pop up box load when the URL is visited where by people have to enter a username / password. </p> <p>The user name / password should be stored in the javascript. </p> <p>(Yes I know)</p> <p>The only real requirement is that this happen anytime the page is loaded and it stays on that page. </p> <p>So the page is test.asp - javascript pops up they enter credentials and if right remain on test.asp </p> <p>Thanks</p>
<p>Very very wrong indeed, but this should do:</p> <pre><code>var passwords = new Object; passwords['some user'] = 'some password'; function check_password(tries){ var username = prompt('Please enter your username'); var password = prompt('Please enter your password'); if(passwords[username] != password){ if(tries == 3){ window.location = 'http://www.google.com/'; }else{ check_password(tries + 1); } } } check_password(1); </code></pre> <p>To make sure someone can't get the password right away you could use some hashing algorithm. And if you put <code>display:none</code> on all important elements you could make it only show the contents when "logged in"</p>
<p>It <em>is</em> possible to create a modal dialog box using Javascript. There are reasonable tutorials on doing so <a href="http://luke.breuer.com/tutorial/javascript-modal-dialog.aspx" rel="nofollow noreferrer">here</a> and <a href="http://www.eggheadcafe.com/articles/javascript_modal_dialog.asp" rel="nofollow noreferrer">link text</a> and a list of pre-existing libraries that cover modal dialogs <a href="http://www.designlabelblog.com/2009/03/20-ways-to-create-javascript-modal.html" rel="nofollow noreferrer">here</a>.</p> <p>Using something like this for <em>authentication</em> is a violation of all that is holy. Please point out to whoever is requiring this how trivial it is to subvert this scheme.</p>
<p>When you say ASP I assume you mean pre .NET. If so then I think a small change to the VB/HTML in the page would be better. Of course this is only an example and not a very secure one at that - but still it is a little better than a plain JS solution.</p> <p>Example - thenameofthepage.asp</p> <pre><code>&lt;% needAuthentication = True If Request.Form.Count &gt; 0 Then If Request.Form("username") &lt;&gt; "jon" Or Request.Form("password") &lt;&gt; "secret" Then ' Redirect to another URI Response.Redirect("/") Response.End End If needAuthentication = False End If %&gt; &lt;html&gt; &lt;body&gt; &lt;% If needAuthentication Then %&gt; &lt;form method="post" action="thenameofthepage.asp"&gt; &lt;div&gt;Username: &lt;input type="text" name="username" /&gt;&lt;/div&gt; &lt;div&gt;Password: &lt;input type="text" name="password" /&gt;&lt;/div&gt; &lt;div&gt;&lt;input type="submit" value="Submit" /&gt;&lt;/div&gt; &lt;/form&gt; &lt;% Else %&gt; &lt;p&gt;Page content here&lt;/p&gt; &lt;% End If %&gt; &lt;/body&gt; &lt;/html&gt; </code></pre>
<p>Of course this is a dumb idea.</p> <p>But have you thought about adding an extra thin layer of security.. i.e. instead of popping up the JavaScript modal (or in addition to), can you redirect to the password + '.asp'?</p> <p>Example, the next page is called <code>something.asp</code>. So you can make the password <code>something</code> and then do a</p> <pre><code>window.location = userInput + '.asp'; </code></pre> <p>It is <em>slightly</em> more obfuscated.</p>