javascript syntax problem
<p>I have this in the head of my document:</p> <pre><code>&lt;script type="text/javascript"&gt; var myString= location.href; var mySplit = myString.split("#"); var x = mySplit[1]; if (x == 'page1_div1') { document.getElementById('div1').className = 'theNewClass'; } &lt;/script&gt; </code></pre> <p>What is my error? Thanks, Linda</p>
<p>If you have that code in the <code>head</code> of your document as you say, the problem is that <code>document.getElementById</code> is not able to find your <code>"div1"</code> element, because when it is executed, the <code>body</code> of your document hasn't been evaluated, try to use the <code>window.onload</code> event:</p> <pre><code>window.onload = function () { var x = location.hash.substring(1); if (x == 'page1_div1') { document.getElementById('div1').className = 'theNewClass'; } }; </code></pre> <p>Note that I also simplified your code a little bit, you wanted to extract the <code>hash</code> part of the current url.</p>
<p>You can get the hash more easily through <code>location.hash</code> and since you will likely have several divs, it's easier to switch on them. Example:</p> <pre><code>&lt;script type="text/javascript"&gt; var myHash = location.hash || 'NO-HASH'; switch (myHash) { case 'NO-HASH': // Original page - no hash. document.getElementById('div1').className = 'theOldClass'; document.getElementById('div2').className = 'theOldClass'; break; case '#page1_div1': document.getElementById('div1').className = 'theNewClass'; document.getElementById('div2').className = 'theOldClass'; break; case '#page1_div2': document.getElementById('div1').className = 'theOldClass'; document.getElementById('div2').className = 'theNewClass'; break; } &lt;/script&gt; </code></pre> <p>However, if this is related to your history tracking question, you'll want to run this code in a polling timer.</p>