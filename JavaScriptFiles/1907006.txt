replace input with javascript
<p>Hello everybody I'm trying to replace the 'text' input type to 'password' . And it works with following code :</p> <pre><code>function replaceT(obj){ var newO=document.createElement('input'); newO.setAttribute('type','password'); newO.setAttribute('name',obj.getAttribute('name')); obj.parentNode.replaceChild(newO,obj); newO.focus(); } </code></pre> <p>But I want to add class of my previous input to the new input and I tried something like this :</p> <pre><code>function replaceT(obj){ var newO=document.createElement('input'); newO.setAttribute('type','password'); newO.setAttribute('className' obj.getAttribute('class')); newO.setAttribute('name',obj.getAttribute('name')); obj.parentNode.replaceChild(newO,obj); newO.focus(); } </code></pre> <p>What am I doing wrong, or if that is not possible, how to set the new class manually .. Thank you</p>
<pre><code>newO.setAttribute('className' obj.getAttribute('class')); </code></pre> <p>You are using 'className' for setting the attribute, but 'class' for getting it. Both must be 'className'.</p>
<p>This should work across all browsers:</p> <pre><code>newO.className = obj.className; </code></pre> <p>I'm not sure whether you should use <code>className</code> or <code>class</code> in <code>setAttribute</code>, but whatever it is, it is definitely the same as in <code>getAttribute</code>, so this is definitely wrong:</p> <pre><code>newO.setAttribute('className' obj.getAttribute('class')); </code></pre>
<p>Sorry for going in the other direction, but why do you replace the element instead of just changing its type in the first place? Than you won't need to worry about adding the same className to the new element. </p> <p>Just being curious.</p>