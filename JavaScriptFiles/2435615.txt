Returning currently displayed index of an array Javascript
<p>I have a simple array with x number of items. I am displaying them individually via a link click... I want to update a number that say 1 of 10. when the next one is displayed i want it to display 2 of 10 etc... </p> <p>I have looked all around and my brain is fried right now... I know its simple I just cant get it out.</p> <pre><code>&lt;!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd"&gt; &lt;html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en"&gt; &lt;head&gt; &lt;meta http-equiv="Content-Type" content="text/html; charset=utf-8"/&gt; &lt;title&gt;Page Title&lt;/title&gt; &lt;link rel="stylesheet" href="style.css" type="text/css" media="screen" charset="utf-8"/&gt; &lt;script type="text/javascript"&gt; var quotations = new Array() quotations[0]= "abcd" quotations[1]= "efgh" quotations[2]= "ijkl" quotations[3]= "mnop" quotations[4]= "qrst" quotations[5]= "uvwx" quotations[6]= "yzab" numQuotes = quotations.length; curQuote = 1; function move( xflip ) { curQuote = curQuote + xflip; if (curQuote &gt; numQuotes) { curQuote = 1 ; } if (curQuote == 0) { curQuote = numQuotes ; } document.getElementById('quotation').innerHTML=quotations[curQuote - 1]; } var curPage = curQuote &lt;/script&gt; &lt;/head&gt; &lt;body&gt; &lt;div id="quotation"&gt; &lt;script type="text/javascript"&gt;document.write(quotations[0]);&lt;/script&gt; &lt;/div&gt; &lt;div&gt; &lt;p&gt;&lt;a href="javascript();" onclick="move(-1)"&gt;GO back&lt;/a&gt; &lt;script type="text/javascript"&gt;document.write(curPage + " of " + numQuotes)&lt;/script&gt; &lt;a href="javascript();" onclick="move(1)"&gt;GO FORTH&lt;/a&gt;&lt;/p&gt; &lt;/div&gt; &lt;/body&gt; &lt;/html&gt; </code></pre> <p>Edit: curQuote is not updating dynamically... it stays at '1' when next is clicked.</p>
<p>You're making a lot of beginner mistakes in your JavaScript but it seems as if <code>curQuote</code> has the value you want, no?</p> <p>Tips:<br/> You can declare an array as such: <code>var array = [1,2,3,4,5,6,7];</code><br/> Terminate statements with a semi-colon.<br/> Use <code>var</code> keyword for local variables.<br/> Don't put braces around one line if statements bodies.<br/> Use indentation properly to make the code readable.</p>
<p>Try this var curPage = quotations[curQuote];</p>
<p>In your code, <code>curQuote</code> is already the value you want. I rewrote everything to clean it up and show some better logic/syntax. Note that ideally you would be attaching the click handlers via DOM methods and not using inline handlers, but for simplicity I've left it that way here.</p> <p>Working version viewable here: <a href="http://jsbin.com/irihu3/2" rel="nofollow noreferrer">http://jsbin.com/irihu3/2</a></p> <pre><code>&lt;html&gt; &lt;head&gt; &lt;title&gt;Quotations&lt;/title&gt; &lt;script type="text/javascript" charset="utf-8"&gt; var quotations = ["hi", "how", "are", "you", "today", "good", "sir"], lastIndex = quotations.length - 1, currentIndex = 0; function move(xflip) { currentIndex = currentIndex + xflip; if (currentIndex &gt; lastIndex) { currentIndex = 0; } else if (currentIndex &lt; 0) { currentIndex = lastIndex; } document.getElementById('quotation').innerHTML = quotations[currentIndex] + " (Quote #" + (currentIndex + 1) + ")"; return false; } &lt;/script&gt; &lt;/head&gt; &lt;body&gt; &lt;div id="quotation"&gt;hi (Quote #1)&lt;/div&gt; &lt;a onclick="move(-1);"&gt;Prev&lt;/a&gt; &lt;a onclick="move(1)"&gt;Next&lt;/a&gt; &lt;/body&gt; &lt;/html&gt; </code></pre> <p>Some things to note:</p> <ul> <li>Always declare variables with the <code>var</code> keyword or you create global variables.</li> <li>You can combine multiple variable declarations into one statement by separating them with commas. It's good practice to stick to one <code>var</code> statement and to put it at the top of your code/function.</li> <li>All you really need to keep track of here is the current index of the array, not the quote itself. It's also not important how long the array is, just what the last index is. As such, in my code I am using <code>currentIndex</code> and <code>lastIndex</code> instead of <code>curQuote</code> and <code>numQuotes</code>.</li> <li>Using <code>return false;</code> at the end of your function will suppress the default action when clicking on a hyperlink (not following the link). This is what you want in this case, because you're using a hyperlink to trigger behavior on the page and not actually navigating to another page.</li> </ul>