Activate the event handler of an HTML element created with MooTool's extended element
<p>In browsing a JavaScript file, I see the following line:</p> <pre><code>this.close = new Element('a', {id:'close-btn', href: 'javascript:void(0);', 'class': this.typeprefix + '-deletebutton', events: {click: this.remove.bind(this)}}).inject(this.bit); </code></pre> <p>I'm guessing that new Element() is a MooTools extended element. I can't seem to programmatically fire the MooTool's click event.</p> <p>I tried</p> <pre><code>document.getElementById('close-btn').onclick.apply(document.getElementById('close-btn')); </code></pre> <p>but nothing happened. Each of the following lines below gave me an undefined:</p> <pre><code>alert(document.getElementById('close-btn').click); alert(document.getElementById('close-btn').onclick); alert(document.getElementById('close-btn').events); alert(document.getElementById('close-btn').['events']); </code></pre> <p>Anyone have any ideas on how to programmatically fire the anchor's click event?</p>
<pre><code>var evObj = document.createEvent('MouseEvents'); evObj.initMouseEvent( 'click', true, true, window, 1, 0, 0, 0, 0, false, false, true, false, 0, null ); document.getElementById('close-btn').dispatchEvent(evObj); </code></pre> <p><a href="https://developer.mozilla.org/en/DOM/event.initMouseEvent" rel="nofollow noreferrer">https://developer.mozilla.org/en/DOM/event.initMouseEvent</a></p> <p>For IE you may try document.getElementById('close-btn').click(); or document.getElementById('close-btn').fireEvent("onclick");</p>