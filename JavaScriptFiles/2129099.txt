click-event doesn't fire if blur changes layout
<p>I have a form with blur-events bound to the required fields. Then there is a "Cancel" Button which simply calls an URL (button is an image with click-event).</p> <p>When leaving one of the required fields a warning is written to the page saying that field xy is required. -> this causes a layout shift, meaning all the fields and the buttons are moved down a little bit because of the text inserted above.</p> <p>The tricky thing is this: when the focus is in an empty but required field and you click the cancel button, the required-warning is written to the screen but the click-event on the cancel button doesn't fire. I think this is due to the layout shift. The mouse cursor doesn't hover over the button anymore, because the button scrolled down.</p> <p>Has anyone a good idea how i could solve this?</p>
<p>You could attempt to display the warning before the change/blur events by polling a <code>setInterval</code> function, so that by the time you get to the ‘Cancel’ button the reflow has already occurred.</p> <p>Or, you could catch <code>onmousedown</code> on the button instead of <code>onclick</code> as it will occur before blur. (Makes the button behave not-quite-as-expected though.)</p> <p>But I'd probably simply try to make the warning not cause a reflow when it appears if possible, by leaving a blank space otherwise.</p>