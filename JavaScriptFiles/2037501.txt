JavaScript Add Class When Link is Clicked
<p>I have these links:</p> <pre><code>&lt;a class="active" href="#section1"&gt;Link 1&lt;/a&gt; &lt;a href="#section2"&gt;Link 2&lt;/a&gt; </code></pre> <p>When a link 2 is clicked I would like it to receive the active class and remove the class from link 1 itself so it would effectively become:</p> <pre><code>&lt;a href="#section1"&gt;Link 1&lt;/a&gt; &lt;a class="active" href="#section2"&gt;Link 2&lt;/a&gt; </code></pre> <p>This should work both ways. Ie. whatever link is clicked gets the class and removes it from the other.</p> <p>How can this be done with JavaScript/Prototype?</p>
<p>Try this:</p> <pre><code>// initialization var links = document.links; for (var i=0; i&lt;links.length; ++i) { links[i].onclick = function() { setActive(links, this); }; } function setActive(links, activeLink) { for (var i=0; i&lt;links.length; ++i) { var currentLink = links[i]; if (currentLink === activeLink) { currentLink.className += " active"; } else { currentLink.className = currentLink.className.split(/\s+/).map(function(val) { return val === "active" ? "" : val; }).join(" "); } } } </code></pre>
<p>If it were jQuery, I would do it like</p> <pre><code> $(document).ready( function(){ $("a").click(function(){ $("a").toggleClass("active"); }); } ) </code></pre>
<p>You could write a little helper function with <a href="http://www.prototypejs.org/" rel="nofollow noreferrer">prototype</a> support that removes the class from all <code>active</code> elements and adds it to the one that was clicked on:</p> <pre><code>function active(e) { $$('.active').each(function(i) { i.removeClassName('active'); }); e.addClassName('active'); }; </code></pre> <p>You can than call this function from your <code>onclick</code> events:</p> <pre><code>&lt;a href="#sectiona" onclick="active(this)"&gt;a&lt;/a&gt; &lt;a href="#sectionb" onclick="active(this)"&gt;b&lt;/a&gt; &lt;a href="#sectionc" onclick="active(this)"&gt;c&lt;/a&gt; </code></pre>