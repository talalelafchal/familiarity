Accessing preloaded images from parent script too use in child script. How?
<p>I'm trying to update an image in a parent window with clickable links in a child window. I've preloaded the images in the parent window with one javascript file. "scriptss.js" My problem is I need to access the preloaded images of the parent window with the childscript "scriptremote.js" Thanks again for all the JS Help! The JS (scriptss.js)</p> <pre><code>var newWindow = null; window.onload = init; var i = 0; image_object = new Image(); myImages = new Array(); // declare array myImages[0]="images/img1.jpg" // load array myImages[1]="images/img2.jpg" myImages[2]="images/img3.jpg" myImages[3]="images/img4.jpg" myImages[4]="images/img5.jpg" myImages[5]="images/img6.jpg" </code></pre> <p>Here's the HTML for parent window:</p> <pre><code>&lt;img src="" width="200px" height="200px" id="myimage" name="myimage" /&gt;&lt;/img&gt; </code></pre> <p>Here's the JS for child window:</p> <pre><code>window.onload = init; function init() { } function first_image() { window.parent.image_object.src = myImages[3]; //Problem happens here I think document.getElementById("myimage")window.parent.src = window.parent.image_object.src; } </code></pre> <p>The HTML Child Window</p> <pre><code>&lt;h1&gt;My Remote&lt;/h1&gt; &lt;a href="#" id="first" onclick="first_image()" &gt;First Image&lt;/a&gt; &lt;/br&gt; </code></pre>
<pre><code>window.parent.image_object.src = myImages[3]; </code></pre> <p>looks like it should be</p> <pre><code>window.parent.image_object.src = window.parent.myImages[3]; </code></pre> <p>Since both <code>image_object</code> and <code>myImages</code> are defined in the same JS file. The line after that one doesn't look right either:</p> <pre><code>document.getElementById("myimage")window.parent.src = window.parent.image_object.src; </code></pre>
<p>In your parent window you are not actually pre-loading your images. To preload you should do something like this</p> <pre><code>myImages = new Array(); // declare array myImages[0] = new Image() myImages[0].src = "images/img1.jpg" //etc... </code></pre> <p>Now you have an array of Image objects.</p> <p>From your child window (I'm assuming an iframe?) you can reference those objects and assign the src attribute to your image in the parents DOM like this</p> <pre><code>window.parent.document.getElementById('myImage').src = window.parent.myImages[n].src; // where n is the index of the image you want to display </code></pre> <p>If your child window is a popup then replace <code>parent</code> with <code>opener</code> Also you don't need a closing tag for <code>&lt;img /&gt;</code>, it's self closing</p>