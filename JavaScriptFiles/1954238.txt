loop through javascript collection, output custom text
<p>I have a collection that looks like:</p> <pre><code>var stuff = new Array(); stuff["col1"] = new Array( "key", "value", "key2", value2" ); </code></pre> <p>And other one that looks like:</p> <pre><code>var fun = { "key": "value", "key2": "value2" } </code></pre> <p>I need to loop through each one, and output something like:</p> <pre><code>INSERT Table1 (c1, c2) VALUES (key, value) </code></pre> <p>Where the values 'key' and 'value' are coming from the javascript arrays.</p> <p>(btw, are they both arrays or?)</p>
<p>First off, you can't actually do array["string"]. Arrays can only have numbered indexes. Objects can have string indexes. So your code should look like this:</p> <pre><code>var stuff = new Array(); stuff[0] = new Array( "key", "value", "key2", value2" ); </code></pre> <p>To loop thorugh each element in the array (or object), you can use for each:</p> <pre><code>for each(var row in stuff){ document.write("INSERT INTO Tatble1 (c1, c2) VALUES ("+row[0]+", "+row[1]+")"); } </code></pre> <p>No, they are not both arrays. The first on is an array, the other one is an object. For example:</p> <pre><code>fun["key"];//=="value"; </code></pre>
<p>Actually <code>stuff["col1"]</code> creates an object and stores an array with <code>col1</code> as the key. The code is fine.</p> <p>This loops through both the array and the object:</p> <pre><code>&lt;script&gt; var stuff = new Array(); stuff["col1"] = new Array( "key", "value", "key2", "value2" ); var fun = {"key": "value", "key2": "value2"}; var fun2 = {} for (var i in stuff["col1"]) { if (i % 2 == 0) { key = stuff["col1"][i]; value = stuff["col1"][i+1] fun2[key] = value; }; } for (var k in fun) { document.write("INSERT Table1 (c1, c2) VALUES ('" + k + "', '" + fun[k] + "') &lt;br/&gt;"); } for (var k in fun2) { document.write("INSERT Table1 (c1, c2) VALUES ('" + k + "', '" + fun2[k] + "') &lt;br/&gt;"); } &lt;/script&gt; </code></pre>