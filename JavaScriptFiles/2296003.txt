How to avoid javascript &quot;rel&quot; is null error? please have a look a on code provided
<p>I get this javascript error message </p> <pre><code>Error: a.getAttribute("rel") is null </code></pre> <p>on these lines of code </p> <pre><code> var i, a; for(i=0; (a = document.getElementsByTagName("link")[i]); i++) { if(a.getAttribute("rel").indexOf("style") != -1 &amp;&amp; a.getAttribute("title") &amp;&amp; !a.disabled) return a.getAttribute("title"); } return null; </code></pre> <p>any ideas how do I sort it out?</p> <p>Thanks.</p>
<p>Before using <code>a.getAttribute("rel")</code> like you are doing :</p> <pre><code>if(a.getAttribute("rel").indexOf("style") != -1 &amp;&amp; a.getAttribute("title") &amp;&amp; !a.disabled) { return a.getAttribute("title"); } </code></pre> <p>You should test if it's not null <em>(or not "falsy")</em> :</p> <pre><code>if(a.getAttribute("rel") &amp;&amp; a.getAttribute("rel").indexOf("style") != -1 &amp;&amp; a.getAttribute("title") &amp;&amp; !a.disabled) { return a.getAttribute("title"); } </code></pre> <p>With the first portion of condition I added at the beginning of the <code>if</code> expression, the second <em>(and the ones after)</em> portion of the condition will be evaluated only if <code>a.getAttribute("rel")</code> is <em>truthy</em> -- i.e. the won't be evaluated when <code>a.getAttribute("rel")</code> is <code>null</code>.</p>
<p>Check that <code>rel</code> is defined before you try to treat it as a string.</p> <pre><code>var rel = a.getAttribute("rel") ; if(rel &amp;&amp; rel.indexOf("style") != -1 &amp;&amp; a.getAttribute("title") &amp;&amp; !a.disabled) { return a.getAttribute("title"); } </code></pre> <p>Since you only care about it if it has 'style' in it, we don't need to be explicit about checking that it is defined, and can just test that it is truthy.</p>
<p>Your loop is hitting an <code>a</code> that doesn't have <code>rel</code> specified (i'm guessing this would apply to most of them).</p> <pre><code>if(!a.getAttribute('rel')) continue; if(a.getAttribute("rel").indexOf("style") != -1 &amp;&amp; a.getAttribute("title") &amp;&amp; !a.disabled) return a.getAttribute("title") </code></pre>