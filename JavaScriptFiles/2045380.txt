What to do when there are different input arrays in JavaScript?
<p>I'm learning JavaScript right now, quite a task being new to both the syntax and DOM manipulation. </p> <p>Right now I'm not really using jQuery(or any other library). I've used it before but not interested at the moment since I want to get the hang of it then move to a library. I'm looking for plain JavaScript examples that do not involve libraries. </p> <pre><code>&lt;form name="carritoDeCompras" action=""&gt; &lt;table width="100%" border="0"&gt; &lt;tr&gt; &lt;td width="17%"&gt;Nombre de Articulo &lt;/td&gt; &lt;td width="22%"&gt;Precio&lt;/td&gt; &lt;td width="51%"&gt; Cantidades&lt;/td&gt; &lt;/tr&gt; &lt;tr&gt; &lt;td&gt;Desktop&lt;/td&gt; &lt;td&gt;&lt;input name="price[]" type="text" disabled="disabled" value="1900.00" id="1 "/&gt;&lt;/td&gt; &lt;td&gt;&lt;input name="cantidad[]" type="text" value="4" id="1 cantidad" /&gt;&lt;/td&gt; &lt;/tr&gt; &lt;tr&gt; &lt;td&gt;Monitor&lt;/td&gt; &lt;td&gt;&lt;input name="price[]" type="text" disabled="disabled" value="322.00" id="2" /&gt;&lt;/td&gt; &lt;td&gt;&lt;input name="cantidad[]" type="text" value="2" id="2 cantidad" /&gt;&lt;/td&gt; &lt;/tr&gt; &lt;tr&gt; &lt;td&gt;Disco Duro&lt;/td&gt; &lt;td&gt;&lt;input name="price[]" type="text" disabled="disabled" value="244.33" id="3"/&gt;&lt;/td&gt; &lt;td&gt;&lt;input name="cantidad[]" type="text" value="10" id="3 cantidad" /&gt;&lt;/td&gt; &lt;/tr&gt; &lt;tr&gt; &lt;td&gt;Mouse&lt;/td&gt; &lt;td&gt;&lt;input name="price[]" type="text" disabled="disabled" value="100.21" id="4"/&gt;&lt;/td&gt; &lt;td&gt;&lt;input name="cantidad[]" type="text" value="100" id="4 cantidad" /&gt;&lt;/td&gt; &lt;/tr&gt; &lt;/table&gt; &lt;/form&gt; </code></pre> <p>My goal is to separate both price and quantity (cantidad) and sum them with an "update price" button. It has left me in doubt on how to grab those "price[]" "cantidad[]" inputs and keep them separated, so I can create a loop and well do the math.</p> <p>Sorry for the spanish/english mix, gets in the way,</p>
<p>You'll want to use <code>document.getElementsByName</code></p> <pre><code>var prices = document.getElementsByName("price[]"); var quantities = document.getElementsByName("cantidad[]"); </code></pre> <p>Documentation for <a href="http://msdn.microsoft.com/en-us/library/ms536438%28VS.85%29.aspx" rel="nofollow noreferrer">IE</a> and <a href="https://developer.mozilla.org/En/DOM/Document.getElementsByName" rel="nofollow noreferrer">MDC</a> (Firefox).</p> <p>And in case you need help with the iteration:</p> <pre><code>var totalPrice = 0, totalQuantity = 0, i; i = prices.length; while ( i-- ) { totalPrice += +prices[i] || 0; } i = quantities.length; while ( i-- ) { totalQuantity += +quantities[i] || 0; } </code></pre> <p>The <code>+</code> in <code>+prices[i]</code> casts the value to an integer. The <code>|| 0</code> is to make sure that only numbers are returned. If <code>prices[i]</code> is a string like "asdf", <code>+"asdf"</code> evaluate to <code>NaN</code> which means that <code>totalPrice += NaN</code> would also be <code>NaN</code>. However, <code>NaN || 0</code> evaluates to <code>0</code>, so you can avoid this problem.</p>
<p>You can use a method named <code>getElementsByName()</code>. Example:</p> <pre><code>var inputs = document.getElementsByName("cantidad[]"); var total = 0; for (var i = 0; i &lt; inputs.length; i++) { total += inputs[i].value - 0; // the - 0 is there to make sure the value is converted to a number } </code></pre> <p>The <code>total</code> variable now contains the total amount.</p> <p><a href="http://www.w3schools.com/jsref/met_doc_getelementsbyname.asp" rel="nofollow noreferrer">Documentation on <code>getElementsByName()</code> at w3schools</a>.</p>