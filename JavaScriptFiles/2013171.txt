problem while handling text area with javascript
<p>the script is not working: please find the reason n remedy?</p> <pre><code>function validate() { if(document.complain.complain.value == '' || document.complain.complain_subject.value == ''){ alert("Hey! you can't left a field blank!"); return false; } else if(document.complain.complain.length &gt;100) { alert("Sorry!post the complain within 100 characters"); return false; } else{ return true; } } </code></pre> <p>the form is:</p> <pre><code>&lt;form name="complain" method="POST" action="complains.jsp" onsubmit="return validate();"&gt; &lt;table&gt; &lt;tr&gt; &lt;td&gt;&lt;input type="text" name="complain_subject" value="Complain Subject here" maxlength="30"&gt;&lt;/td&gt; &lt;/tr&gt; &lt;tr&gt; &lt;td&gt;&lt;textarea rows="6" name="complain" cols="73" value="Complain body here" maxlength="100"&gt;&lt;/textarea&gt;&lt;/td&gt; &lt;/tr&gt; &lt;tr&gt; &lt;td&gt;&lt;input type="submit" value="complain" name="operation"&gt;&lt;input type="reset" value="Reset" name="B2"&gt;&lt;/td&gt; &lt;/tr&gt; &lt;/table&gt; &lt;/form&gt; </code></pre>
<p>Try checking the length of the value rather than the length of the element.</p>
<p>Check for</p> <pre><code>document.complain.complain.value.length </code></pre> <p>or</p> <pre><code>document.getElementById ( "complain" ).value.length </code></pre> <p>Also I don't think there is a <a href="http://msdn.microsoft.com/en-us/library/ms534157%28VS.85%29.aspx" rel="nofollow noreferrer">maxlength</a> attribute to textareas.</p>
<p>This line:</p> <pre><code>else if(document.complain.complain.length &gt;100) { </code></pre> <p>is wrong.</p> <p>It should read:</p> <pre><code>else if(document.complain.complain.value.length &gt;100) { </code></pre> <p>Also, as a general principle, I would advise to use local variables to make the code more readable. In addition, I would recommend to do the same thing in the same way, so if you have to compare for maximum length, then use the length property also to check for the minimum length. Finally, a function like this can get very hard to follow because you have multiple exit points. I'd suggest to do something like:</p> <pre><code>function validate() { var form = document.complain, complaintMinLength = 1, complaintMaxLength = 100 complaintSubjectMinLength = 1, complaintLength = form.complain.value.length, complaintSubjectLength = form.complain_subject.value.length, valid, msg ; if (complaintLength &lt; complaintMinLength || complaintSubjectLength &lt; complaintSubjectMinLength) { valid = false; msg = "Hey! you can't leave a field blank!"; } else if (complaintLength &gt; complaintMaxLength) { valid = false; msg = "Sorry! Your message exceeds the maxumum length of " + complaintMaxLength + " characters."; } else { valid = true; } if (!valid){ alert(msg); } return valid; } </code></pre>