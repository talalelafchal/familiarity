JavaScript Form validation in IE
<p>Hi all I am working on a contact or phone book application. So currently I am working on searching for records. Now I have this form with certain elements/fields being required or mandatory while others are optional. </p> <p>So I wrote a very simple javascript function to check if those required fields are missing or not. It works greate on firefox and chrome however not in IE. </p> <p>It seems that the if clause is failing in my js in IE because wheather i enter the required fields or don't enter the required fields i get the alert message telling me to enter the rquired fields. Mind you this doesn't happen in firefox only IE. So I'll put some relevant code bits here for you to have a look hoping you can help me out here:</p> <p>head</p> <p>some css code </p> <p>...</p> <pre><code>&lt;script type="text/javascript"&gt; function disp_confirm() { if (document.contractor_phonebook_form.Service.value == "" || document.....etc.) { javascript:alert('Please enter all necessary fields!'); return false; } else { return true; } } &lt;/script&gt; end of head beginning of body &lt;form action='&lt;?php $PHP_SELF; ?&gt;' method='post' name="contractor_phonebook_form" target="_self" onSbumit="return disp_confirm()"&gt; </code></pre> <p>some of the form elements are autofilled from a database query using mysql and php to fill the form elements. while others are simple drop down menus. </p> <pre><code> &lt;select name="Service"&gt; ... etc.. </code></pre> <p>hopefully you have an idea of what i have here and why does IE always give me the alert message please fill in the required fields wheahter I ENTER OR DON'T ENTER any form fields..</p> <p>thank you in advance again..</p>
<p>You should be calling <code>alert</code> like a normal function, without writing <code>javascript:</code> first.</p> <p>However, your problem is that IE implements the <code>value</code> property for <code>select</code> elements differently.</p> <p>You need to check whether any of the options' <code>selected</code> property is <code>true</code>.</p> <p>This is easiest to do using <a href="http://jquery.com" rel="nofollow noreferrer">jQuery</a>, like this:</p> <pre><code>if ($('#service').val() === "" || $('#somethingElse').val() === "") { alert("Please enter all necessary fields."); return false; } else return true; </code></pre>
<p>There is a nice <a href="http://docs.jquery.com/Plugins/Validation" rel="nofollow noreferrer">jQuery cross browser solution</a> and provides validation for email addresses, dates, other common functions. You can define a common div where your errors can be displayed.</p> <p>I've used this with Asp.net and had little trouble adapting it to my needs. There are quite a few users here at SO that have used this solution.</p>
<p>You dont need to put <code>javascript:</code> before your <code>alert();</code> function.</p>
<p>OKAY I found the answer to my problem... Most browsers would detect the value of the option fields automatically meaning what I originally had was this:</p> <pre><code> &lt;select name ="Service"&gt; &lt;option&gt;NOCC&lt;/option&gt; &lt;option&gt;HVAC&lt;/option&gt; ....etc. &lt;/select&gt; </code></pre> <p>however IE was always getting null values since I didn't explicitly specify the value attribute to the element tag. So all I did was change my code from that on top to the following:</p> <pre><code> &lt;select name="Service"&gt; &lt;option value="NOCC"&gt;NOCC&lt;/option&gt; &lt;option value="HVAC"&gt;HVAC&lt;/option&gt; ....etc.. &lt;/select&gt; </code></pre> <p>and now works fine in IE. Strange enough most browsers are able to detect the value attribute by looking at the option tag display however IE requires that you specifically define the value attribute otherwise will look at it as blank or null. and that's why my if clause was failing in IE because i didn't specify the value attribute and hence it was always blank even when I did choose a value from the drop down menu it still saw it as blank.</p> <p>thank you all for your help I definately benefited by learning something new from your posts like JQuery. </p> <p>cheers</p>