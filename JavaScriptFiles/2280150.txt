How do I pass a form name into a if else if else loop?
<pre><code>function ship_stuff() { ship_me = document.getElementById("shipMethod").value; alert(ship_me); if("ship_me" == "priority2" ) { document.getElementById("shippingChg").value = 3.20; } else if(ship_me == "priority3") { document.getElementById("shippingChg").value = 4.30 ; } else if(ship_me == "priority4") { document.getElementById("shippingChg").value = 5.40 ; } else if(ship_me == "overnight") { document.getElementById("shippingChg").value = 15.75 ; } else if(ship_me == "UPS") { document.getElementById("shippingChg").value = 15.00 ; } else (ship_me == "free") { document.getElementById("shippingChg").value = 0.00 ; } </code></pre> <p>The HTML portion of the code:</p> <pre><code>&lt;tr&gt; &lt;th colspan="4" class="label"&gt;Shipping Method: &lt;select name="shipMethod" id="shipMethod" size="1"&gt; &lt;option value=""&gt;Choose a shipping method&lt;/option&gt; &lt;option value="priority2"&gt;Priority mail $3.20 (4 items or less)&lt;/option&gt; &lt;option value="priority3"&gt;Priority mail $4.30 (6 items or less)&lt;/option&gt; &lt;option value="priority4"&gt;Priority mail $5.40 (8 items or less)&lt;/option&gt; &lt;option value="overnight"&gt;Express $15.75 (4 items or less only)&lt;/option&gt; &lt;option value="UPS"&gt;UPS - 2 day $15.00 (9 - 49 items)&lt;/option&gt; &lt;option value="free"&gt;Free shipping (50+ items only)&lt;/option&gt; &lt;/select&gt; &lt;/th&gt; &lt;td&gt;&lt;input name="shippingChg" id="shippingChg" type="text" size="10" maxlength="60" value="" /&gt;&lt;/td&gt; &lt;/tr&gt; &lt;tr&gt; </code></pre> <p>My javascript loop is failing when I try and compare my variable to a string. It wont put the option value in to compare as a string. Any ideas how I can fix this? </p> <p>Thanks for the help!</p>
<p>This is suspicious:</p> <pre><code>if("ship_me" == "priority2" ) </code></pre> <p>Don't you mean:</p> <pre><code>if(ship_me == "priority2" ) </code></pre> <p>You may also want to declare ship_me as a var:</p> <pre><code>var ship_me = document.getElementById("shipMethod").value; </code></pre> <p>Explicit casting to a string can be done like so:</p> <pre><code>ship_me = String(ship_me); </code></pre>
<pre><code>ship_me = document.getElementById("shipMethod").options[document.getElementById("shipMethod").selectedIndex]; </code></pre> <p>Thats the correct way to get the selected option.</p>
<p>You're missing an <code>if</code> in the final else clause. If you want it to always run, remove the conditional in parentheses.</p> <p>Also, try a mapping instead of the if/else chain:</p> <pre><code>var shippingCharges = { "priority2" : 3.20, "priority3": 4.30, "priority4" : 5.40, "overnight": 15.75, "UPS": 15.00, "free": 0.00 }; document.getElementById("shippingChg").value = shippingCharges[ship_me]; </code></pre>
<p>Hey Matt, do yourself a favor and use this code instead:</p> <pre><code>var shipping_costs = { 'priority2': 3.2, 'priority3': 4.3, 'priority4': 5.4, 'overnight': 15.75, 'UPS': 15.0, 'free': 0.0 }; var method = document.getElementById('shipMethod').value; document.getElementById("shippingChg").value = shipping_costs[method] || 0.0; </code></pre> <p>That's all there is to it. Keep in mind though that I mapped the descriptive option <code>&lt;option value=""&gt;Choose a shipping method&lt;/option&gt;</code> (the user didn't select anything) to the free shipping method.</p>