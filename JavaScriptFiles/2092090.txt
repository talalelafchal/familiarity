Page re-load/refresh after JavaScript alert - dont want it do!
<p>My JavaScript function is working but for some reason after the alert is displayed inside my IF statement the page re-loads/refresh and I do not want it to. Why is this and how can I change my function so that it will not do this?</p> <p>My function</p> <pre><code>function valSubmit(){ varName = document.form1.txtName.value; varSurname = document.form1.txtSurname.value; varEmail = document.form1.txtEmail.value; varOrg = document.form1.txtOrg.value; if (varName == "" || varSurname == "" || varEmail == "" || varOrg == "" ) { alert("Please fill in all mandatory fields"); } else { document.body.style.cursor = 'wait'; document.form1.btnSubmit.style.cursor = 'wait'; document.form1.action = "http://now.eloqua.com/e/f2.aspx" document.form1.submit(); return true; } } </code></pre> <p></p> <p>p.s I am using ASP.NET 3.5</p>
<p>you have to add <code>return false;</code> to stop the default action from taking place from the form submit</p>
<p>I guess you should add <code>return false;</code> after your <code>alert</code>, because the form goes on submitting.</p>
<p>Here is your complete function with the return false statement added.</p> <p>Additionally, when you call valSubmit, it should look like this:</p> <p>... onsubmit="return valSubmit();"...</p> <p>Note, you need to specify return here also.</p> <p>Here is the function:</p> <pre><code>function valSubmit(){ varName = document.form1.txtName.value; varSurname = document.form1.txtSurname.value; varEmail = document.form1.txtEmail.value; varOrg = document.form1.txtOrg.value; if (varName == "" || varSurname == "" || varEmail == "" || varOrg == "" ) { alert("Please fill in all mandatory fields"); return false; } else { document.body.style.cursor = 'wait'; document.form1.btnSubmit.style.cursor = 'wait'; document.form1.action = "http://now.eloqua.com/e/f2.aspx" document.form1.submit(); return true; } } </code></pre>
<p>Just ad return false after alert. Like:</p> <pre><code>alert("Please fill in all mandatory fields"); return false; </code></pre>