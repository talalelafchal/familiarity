How to ask confirmation when closing a window?
<p>I want to pop up a message asking for confirmation if the user wants to leave the current page, exactly like stackoverflow does it when you are typing a question.</p> <p>Could someone help me on this, by giving me a script or redirecting me to an answer (on this site or elsewhere) ?</p> <p>Thanks</p>
<p>You could use the <code>onbeforeunload</code> event.</p> <pre><code>window.onbeforeunload = function() { return 'Are you sure that you want to leave this page?'; }; </code></pre>
<p>You need to handle the window's <a href="https://developer.mozilla.org/en/DOM/window.onbeforeunload" rel="nofollow noreferrer"><code>onbeforeunload</code> </a> event and return a confirmation message as a string.</p> <h1><code>onunload</code> will <em>not</em> work here. <a href="http://jsbin.com/obizu3" rel="nofollow noreferrer">Demo</a></h1>
<p>Doesn't this work?</p> <pre><code>&lt;body onunload="return confirm('really quit?');"&gt; </code></pre> <p>Also for framesets by the way...</p>
<p>window.onbeforeunload Seems to work for IE, but something like</p> <pre><code>window.onunload = function() { if (confirm('Save changes?')) document.forms['form1'].submit(); }; </code></pre> <p>Seems to work for all browsers.</p>
<p>You will have to store all the values of your fields in some variables &amp; check them whenever use changes the page url or clicks on some link, to trap the page change event use page unload event.</p> <p>Page unload event link/ sample <a href="http://help.dottoro.com/ljflhicd.php" rel="nofollow noreferrer">http://help.dottoro.com/ljflhicd.php</a>.</p>