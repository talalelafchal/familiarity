How do I select an item out of a JavaScript array when I only know a value for one of the item's properties?
<p>I have the following JavaScript object:</p> <pre><code>{ "DPI": "66.8213457076566", "width": "563.341067", "editable": "True", "pricecat": "6", "numpages": "2", "height": "400", "page": [{ "filename": "999_9_1.jpg", "line": [{ "test": "test 1", lineid: 22 }, { "test": "test 2", lineid: 22 }, { "test": "test 3", lineid: 22 }, { "test": "test 4", lineid: 22 }, { "test": "blank", lineid: 22 }] }, { "filename": "999_9_2.jpg", "line": [] }] } </code></pre> <p>I can do most things with lines like <code>measurements.page[0].line[0].lineid;</code></p> <p>But what I am really stuck with is when I want to edit a specific line but I only have the <code>lineid</code> value available (for example <code>22</code>) and not the line number in the array:</p> <pre><code>measurements.page[0].line[WHAT DO I PUT HERE].test = "new changed value"; </code></pre>
<p>You need to loop through the array using a <code>for</code> loop until you find the item you're looking for.</p>
<p>You can create a function to do this:</p> <pre><code>function getLinesByLineID( lines, id ) { var results = []; for( var i = 0, j = lines.length; i &lt; j; i++ ) { if( lines[ i ].lineid === id ) { results.push( lines[ i ] ); } } return ( results.length &gt; 0 ) ? results : false; } </code></pre> <p>You can then call it like this: <code>var lines = getLinesByID( json.page[0].line, 22 )</code>;</p>
<p>you have to search</p> <pre><code>function find_in_array(arr, name, value) { for (var i = 0, len = arr.length; i&lt;len; i++) { if (name in arr[i] &amp;&amp; arr[i][name] == value) return i; }; return false; } var id = find_in_array(measurements.page[0].line, 'lineid', 22); </code></pre>