Changing document.domain to completely other domain
<p>I'm trying to prove that changing document.domain can be used only for cross scripting on the same upper level domain. For example if i will try to change document.domain to "google.com" on page which is located on www.test.com I will get a security exception in FF. Does anybody know where to locate an official proof of that?</p>
<p>Check out : <a href="https://developer.mozilla.org/En/Same_origin_policy_for_JavaScript" rel="nofollow noreferrer">developer.mozilla.org/same-origin-policy</a></p> <p>Here is an excerpt from the site:</p> <blockquote> <p>There is one exception to the same origin rule. A script can set the value of document.domain to a suffix of the current domain. If it does so, the shorter domain is used for subsequent origin checks. For example, assume a script in the document at <a href="http://store.company.com/dir/other.html" rel="nofollow noreferrer">http://store.company.com/dir/other.html</a> executes the following statement:</p> <p>document.domain = "company.com";</p> <p>After that statement executes, the page would pass the origin check with <a href="http://company.com/dir/page.html" rel="nofollow noreferrer">http://company.com/dir/page.html</a>. However, by the same reasoning, <strong>company.com could not set document.domain to othercompany.com.</strong></p> </blockquote>