How to check if object literal is not in page?
<p>I'm trying to check for if my object literal is not in my page. </p> <pre><code>var today = { okay : true } </code></pre> <p>If this snippet is not in my page I want to check for null or undefined but it kills silently...</p> <pre><code> if (today.okay == null) if (today.okay == undefined) </code></pre> <p>What to do? </p>
<p>The reason it fails (it shouldn't be failing <em>silently</em>, it should be throwing an exception) is that you're trying to retrieve a value from a symbol (<code>today</code>) that may not be defined.</p> <p>Try this:</p> <pre><code>if (typeof today == 'object' &amp;&amp; today.okay) { // It's there } else { // It's not there } </code></pre> <p>Alternately, of course, you can just handle the exception:</p> <pre><code>try { if (today.okay) { // 'today' is defined and 'okay' is truthy } else { // 'today' is defined, but 'okay' is not truthy } } catch (e) { // 'today' is undefined } </code></pre> <p>My impression is that most JavaScript engines are very fast when it comes to throwing exceptions (this is not true of all environments), but if you anticipate this condition being not unusual (not <em>exceptional</em>), then I would handle it with inline logic, not an exception. Exceptions are for <em>exceptional</em> conditions.</p>
<p>Assuming you require the "okay" to be boolean, the expression you're looking for is:</p> <pre><code>('object' == typeof today &amp;&amp; today.okay === true)​​​ </code></pre>