JAVASCRIPT: subtracting Time and getting its number of minutes
<p>For Example:</p> <pre><code>StartTime = '00:10'; EndTIme = '01:20'; </code></pre> <p>These variables are string</p> <p>Question: How can I Subtract them and returning the span time in minutes?</p> <p>Hope you can help</p>
<pre><code>var startTime = "0:10"; var endTime = "1:20"; var s = startTime.split(':'); var e = endTime.split(':'); var end = new Date(0, 0, 0, parseInt(e[1], 10), parseInt(e[0], 10), 0); var start = new Date(0, 0, 0, parseInt(s[1], 10), parseInt(s[0], 10), 0); var elapsedMs = end-start; var elapsedMinutes = elapsedMs / 1000 / 60; </code></pre>
<p>If you're going to be doing a lot of date/time manipulation, it's worth checking out <a href="http://www.datejs.com/" rel="nofollow noreferrer">date.js</a>.</p> <p>However, if you're just trying to solve this one problem, here's an algorithm off the top of my head.</p> <p>(1)Parse start/end values to get hours and minutes, (2)Convert hours to minutes, (3)Subtract</p> <pre><code>function DifferenceInMinutes(start, end) { var totalMinutes = function(value) { var match = (/(\d{1,2}):(\d{1,2})/g).exec(value); return (Number(match[1]) * 60) + Number(match[2]); } return totalMinutes(end) - totalMinutes(start); } </code></pre>
<p><a href="http://api.dojotoolkit.org/jsdoc/1.3.2/dojo.date.difference" rel="nofollow noreferrer"><code>dojo.date.difference</code></a> is built for the task - just ask for a "minute" interval.</p> <blockquote> <p>Get the difference in a specific unit of time (e.g., number of months, weeks, days, etc.) between two dates, rounded to the nearest integer.</p> <p>Usage:</p> </blockquote> <pre><code>var foo: Number (integer)=dojo.date.difference(date1: Date, date2: Date?, interval: String?); </code></pre>
<p>Make a function to parse a string like that into minutes:</p> <pre><code>function parseTime(s) { var c = s.split(':'); return parseInt(c[0]) * 60 + parseInt(c[1]); } </code></pre> <p>Now you can parse the strings and just subtract:</p> <pre><code>var minutes = parseTime(EndTIme) - parseTime(StartTime); </code></pre>