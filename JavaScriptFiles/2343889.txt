Set option value with getElementsByName()
<p>Having this fieldset:</p> <pre><code>&lt;fieldset&gt; &lt;legend&gt;[*death]&lt;/legend&gt; &lt;select name=death style="width: 120px"&gt; &lt;option value=Dead&gt;[*died] &lt;option value=NotDead&gt;[*alive] &lt;option value="" selected&gt;- &lt;/select&gt; &lt;/fieldset&gt; </code></pre> <p>i want to set the <code>[2].value</code> to <code>"-"</code>. </p> <p>i have tried without any success:</p> <pre><code>document.getElementsByName('death')[2].checked = 'true'; document.getElementsByName('death')[2].value = '-'; </code></pre> <p>Same kind of code works fine for radio boxes, checked boxes or other inputs in the form. How to do it with the option select (which is not an input)? </p> <p>Thanks</p> <p>[EDIT] of course, appropriate fieldset is:</p> <pre><code>&lt;fieldset&gt; &lt;legend&gt;[*death]&lt;/legend&gt; &lt;select name="death" style="width: 120px"&gt; &lt;option value="Dead"&gt;[*died]&lt;/option&gt; &lt;option value="NotDead"&gt;[*alive]&lt;/option&gt; &lt;option value="" selected&gt;-&lt;/option&gt; &lt;/select&gt; &lt;/fieldset&gt; </code></pre> <p>thanks. </p>
<p>You need to manipulate the <code>selected</code> property of your select object, try</p> <p><code>document.getElementsByName('death')[0].selectedIndex = 1;</code></p> <p>In english, this reads "set the selected option to the second option in the first element in the document with name 'death'".</p> <p>Fixing your HTML might make the results of your javascript more predictable. Close your tags, quote your attribute values, as follows:</p> <pre><code>&lt;fieldset&gt; &lt;legend&gt;[*death]&lt;/legend&gt; &lt;select name="death" style="width: 120px"&gt; &lt;option value="Dead"&gt;[*died]&lt;/option&gt; &lt;option value="NotDead"&gt;[*alive]&lt;/option&gt; &lt;option value="" selected&gt;-&lt;/option&gt; &lt;/select&gt; &lt;/fieldset&gt; </code></pre>
<p>It's a little bit unclear what you're asking. Are you simply asking to make the option at index 2 selected?</p> <pre><code>document.getElementsByName('death')[0].selectedIndex = 2; </code></pre> <p>Or, are you asking to change the value of option at index 2?</p> <pre><code>var d = document.getElementsByName('death')[0]; d.options[2].value = '-'; </code></pre>
<p><code>document.getElementsByName('death')[2]</code> returns the third element named <code>death</code> - but you only have one element with that name. Instead, you want the first element named <code>death</code> (i.e. the one at index 0), and then you want its third option: <code>document.getElementsByName('death')[0].options[2].value = ...</code></p>
<p>you can do this using jQuery... it's easy...</p> <pre><code>j("#death").val(2) </code></pre>
<p>Here's an alert example of how to access your specific option values with <strong>getElementsByName</strong></p> <pre><code>alert(document.getElementsByName('death')[0].options[0].value); // will return Dead alert(document.getElementsByName('death')[0].options[1].value); // will return NotDead </code></pre>