async or sync ? when we set the src property of the Image object?
<pre><code>var img=new Image(); img.src='xxxxx'; </code></pre> <p>Will the browser wait for the image to load then execute the next code line? </p>
<p>That action is asynchronous; a lot of image 'pre-loading' code relies on that feature.</p> <p>EDIT: To give a little bit more useful information as well. If you're wanting to have certain actions synchronously wait for images to load via javascript's image object, you can use the onload event, like so:</p> <pre><code>var img = new Image(); img.onload = function () { /* onLoad code here */ }; img.src = 'xxxxxx'; </code></pre>
<blockquote> <p>var img=new Image();</p> </blockquote> <p>This is the old way of creating images, which has been deprecated. Prefer <code>document.createElement('IMG')</code> or create one through strings and innerHTML.</p> <p>Now, images are <a href="http://www.google.com/url?sa=t&amp;source=web&amp;ct=res&amp;cd=1&amp;ved=0CAYQFjAA&amp;url=http%3A%2F%2Freference.sitepoint.com%2Fcss%2Freplacedelements&amp;ei=IVTQS_mNGsP7lweF_YjoDw&amp;usg=AFQjCNG0KDO_kTJR-PP6QuAthY-DIM1Ylg" rel="nofollow noreferrer">replaced elements</a>, which means they load whenever they arrive, but space is reserved for them in the layout flow if their dimensions are specified. (If not, an icon-sized space is reserved and the screen is redrawn when the image arrives with its dimensions in the header; this can be a disconcerting user experience, so you are encouraged to have image dimensions ready while the page is being rendered the first time.)</p>
<p>Agree with @dereleased image pre-loading is done asynchronously; just thought I'd add that there are a number of ways to use this technique on the Image() object in javascript, like using arrays or event handlers.</p> <p><a href="https://web.archive.org/web/1/http://articles.techrepublic%2ecom%2ecom/5100-10878_11-5214317.html" rel="nofollow noreferrer">https://web.archive.org/web/1/http://articles.techrepublic%2ecom%2ecom/5100-10878_11-5214317.html</a></p>
<p>Changing src is asynchronous.</p> <p>The code</p> <p><code>image.src = "http://newimage-url";</code></p> <p>will return immediately and the browser will load new image in another thread. Before it's fully loaded, all attribute of that <code>&lt;img&gt;</code> tag won't be correct, such as width or height.</p> <p>So <code>$(image).width()</code> may not return the new image's width.</p> <p>As @Dereleased pointed out, you can implement a 'on load' method, which code will be executed only after the image has finished loading. jQuery's <code>load()</code> can fulfill this easily.</p>