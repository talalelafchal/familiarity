JavaScript to enable &quot;submit&quot; button (doesn't work)
<p>I need the button "submit" to be disabled unless JavaScript is on.</p> <p>I tried:</p> <p>1.</p> <pre><code>&lt;input onLoad="this.disabled=false" id="post-comment" type="submit" value="Post Your Comment" disabled="disabled"/&gt; </code></pre> <p>2.</p> <pre><code>&lt;input onLoad="this.removeAttribute('disabled');" id="post-comment" type="submit" value="Post Your Comment" disabled="disabled"/&gt; </code></pre> <p>3.</p> <pre><code>&lt;input onLoad="document.getElementById('post-comment').removeAttribute('disabled');" id="post-comment" type="submit" value="Post Your Comment" disabled="disabled"/&gt; </code></pre> <p>Doesn't work. I'm new to JavaScript, but can't find answer on the net.</p>
<p>You can force the submit button to call a javascript function that actually does the submit.</p>
<p>The onload parameter to the submit element is a Javascript event handler. Therefore, if the user does not have Javascript turned on, this event will not fire.</p> <p>I suggest the following:</p> <p>Instead of having a submit button in the page, have an image which is of a greyed out button. Then, do something like this:</p> <pre><code>&lt;img onLoad="enableSubmit()" .../&gt; </code></pre> <p>The onLoad event handler will only fire if Javascript is enabled. In your enableSubmit() function (defined elsewhere), you can replace the img tag with an input type="submit".</p>
<p>The problem is that input elements don't have an "onload" event. <a href="http://www.w3.org/TR/html401/interact/forms.html#h-17.4" rel="nofollow noreferrer">The spec</a> shows the available events as:</p> <pre><code> onfocus %Script; #IMPLIED -- the element got the focus -- onblur %Script; #IMPLIED -- the element lost the focus -- onselect %Script; #IMPLIED -- some text was selected -- onchange %Script; #IMPLIED -- the element value was changed -- onclick %Script; #IMPLIED -- a pointer button was clicked -- ondblclick %Script; #IMPLIED -- a pointer button was double clicked-- onmousedown %Script; #IMPLIED -- a pointer button was pressed down -- onmouseup %Script; #IMPLIED -- a pointer button was released -- onmouseover %Script; #IMPLIED -- a pointer was moved onto -- onmousemove %Script; #IMPLIED -- a pointer was moved within -- onmouseout %Script; #IMPLIED -- a pointer was moved away -- onkeypress %Script; #IMPLIED -- a key was pressed and released -- onkeydown %Script; #IMPLIED -- a key was pressed down -- onkeyup %Script; #IMPLIED -- a key was released -- </code></pre> <p>Since it doesn't appear as though any of those will help you, you're probably best off to add the event to the onload of the body element (or through a more robust means, like jQuery's document ready function). Here's the quick hack way to do it:</p> <pre><code>&lt;body onload="document.getElementById('post-comment').disabled=false"&gt; </code></pre>
<p>How about:</p> <pre><code>&lt;script&gt; function enableInput(){ document.getElementById('post-content').disabled=false; } &lt;/script&gt; &lt;body onload="enableInput();"&gt; ... &lt;input id="post-comment" type="submit" value="Post Your Comment" disabled="true"/&gt; </code></pre> <p>This will load the input button disabled by default and execute the javascript to enable it on load of the web page (which of course will only happen with javascript enabled.</p>
<p>Based on your sample code</p> <pre><code>&lt;input id="post-comment" type="submit" value="Post Your Comment" disabled="disabled" /&gt; </code></pre> <p>then on javascript</p> <pre><code>&lt;script type="text/javascript"&gt; window.onload = function() { document.getElementById('post-comment').disabled=false; } //OR using JQuery $(document).ready(function() { document.getElementById('post-comment').disabled=false; }); &lt;/script&gt; //That's it really. </code></pre> <p>Hope this helps.</p>
<p>You want this:</p> <pre><code>&lt;input id="post-comment" type="submit" value="Post Your Comment" disabled="disabled"/&gt; &lt;script type="text/javascript"&gt; document.getElementById("post-comment").disabled = false; &lt;/script&gt; </code></pre> <p>To everyone else: Why are you waiting for <code>onload</code>?</p>
<p>By "unless javascript is on", do you mean that a form's submit should be disabled unless JS is supported on that browser?</p> <p>If yes, you should make the submit button disabled by default. Write your JS code to enable the submit button in comment block (&lt;!-- --&gt;). Also use the &lt;noscript&gt; tag to inform the client that functionality is not available until JS is made enabled on the client browser.</p>