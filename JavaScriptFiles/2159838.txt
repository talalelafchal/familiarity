Javascript is not working - help
<pre><code>&lt;!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"&gt; &lt;html xmlns="http://www.w3.org/1999/xhtml"&gt; &lt;head&gt; &lt;title&gt;Form Validation and Dynamic Forms&lt;/title&gt; &lt;script type="text/javascript"&gt; window.onload = function() { document.getElementById('shipping1').onclick = calcShipping; document.getElementById('shipping2').onclick = calcShipping; document.getElementById('shipping3').onclick = calcShipping; document.getElementById('Text1').onblur = recalculate; document.getElementById('Text2').onblur = recalculate; document.getElementById('Text3').onblur = recalculate; } function calcShipping() { document.getElementById('shippingTbx').value = parseFloat(this.value).toFixed(2); recalculate(); } function recalculate() { var prod1, prod2, prod3; var prod1$ = 1.5; var prod2$ = 2.25; var prod3$ = 3.45; var merchandise$ = 0; prod1 = parseInt(document.getElementById('Text1').value); prod2 = parseInt(document.getElementById('Text2').value); prod3 = parseInt(document.getElementById('Text3').value); if (!isNaN(prod1)) { merchandise$ += (prod1 * prod1$) } if (!isNaN(prod2)) { merchandise$ += (prod2 * prod2$) } if (!isNaN(prod3)) { merchandise$ += (prod3 * prod3$) } document.getElementById('merchTbx').value = parseFloat(merchandise$).toFixed(2); var shipping$ = parseFloat(document.getElementById('shippingTbx').value); var total$ = merchandise$; if (!isNaN(shipping$)) total$ += shipping$; document.getElementById('totalTbx').value = parseFloat(total$).toFixed(2); } &lt;/script&gt; &lt;style type="text/css"&gt; body{ background: #F4F0F4 url(topleft.jpg) no-repeat top left; padding-right: 20px; padding-bottom: 50px; font: 0:8em Verdana, sans-serif;} .row{width:98%; overflow:auto;} div.header {width:20%; text-align:left;} div.field { width:75%; text-align:left;} .style1 {width: 367px} #Text1 { width: 58px; } #Text2 { width: 58px; } #Text3 { width: 58px; } &lt;/style&gt; &lt;/head&gt; &lt;body &gt; &lt;h2 style = "text-align:center;"&gt;Form Validation and Dynamic Forms&lt;/h2&gt; &lt;table border="10" width="600" align="center" bgcolor="#DEB887"&gt; &lt;tr&gt; &lt;td class="style1"&gt; &lt;form action= "thankupage.html"&gt; &lt;fieldset&gt; &lt;legend&gt;Product Information:&lt;/legend&gt; &lt;input type="checkbox" name="Product1" id="Checkbox1" value="yes" tabindex="1" /&gt; Product 1 @ 1.50/unit &lt;input id="Text1" type="text" /&gt;&lt;br /&gt; &lt;input type="checkbox" name="Product2" id="Checkbox2" value="yes" tabindex="2" /&gt; Product 2 @ 2.25/unit &lt;input id="Text2" type="text" /&gt;&lt;br /&gt; &lt;input type="checkbox" name="Product3" id="Checkbox3" value="yes" tabindex="3" /&gt; Product 3 @ 3.45.unit &lt;input id="Text3" type="text" /&gt;&lt;br /&gt; &lt;/fieldset&gt; &lt;br /&gt; &lt;div align="left" style="width: 569px"&gt; &lt;fieldset id="Fieldset2" style="position: relative"&gt; &lt;legend&gt; Billing Address &lt;/legend&gt; &lt;div class="row"&gt; &lt;div class="header"&gt;Last Name:&lt;/div&gt; &lt;div class="field"&gt;&lt;input type="text" name="lname" tabindex="1" /&gt;&lt;/div&gt; &lt;/div&gt; &lt;div class="row"&gt; &lt;div class="header"&gt;First Name:&lt;/div&gt; &lt;div class="field"&gt;&lt;input type="text" name="lname" tabindex="1" /&gt;&lt;/div&gt; &lt;/div&gt; &lt;div class="row"&gt; &lt;div class="header"&gt;Address:&lt;/div&gt; &lt;div class="field"&gt;&lt;input type="text" name="address" tabindex="3" /&gt;&lt;/div&gt; &lt;/div&gt; &lt;div class="row"&gt; &lt;div class="header"&gt;City:&lt;/div&gt; &lt;div class="field"&gt;&lt;input type="text" name="address" tabindex="3" /&gt;&lt;/div&gt; &lt;/div&gt; &lt;div class="row"&gt; &lt;div class="header"&gt;State:&lt;/div&gt; &lt;select name="State" id="Select1"&gt; &lt;option value="-1"&gt;&lt;/option&gt; &lt;option value="73|0"&gt;Alabama&lt;/option&gt; &lt;option value="16|1"&gt;Alaska&lt;/option&gt; &lt;option value="70|0"&gt;Arizona&lt;/option&gt; &lt;option value="75|0"&gt;Arkansas&lt;/option&gt; &lt;option value="71|0"&gt;California&lt;/option&gt; &lt;option value="72|0"&gt;Colorado&lt;/option&gt; &lt;option value="67|0"&gt;Connecticut&lt;/option&gt; &lt;option value="69|0"&gt;Delaware&lt;/option&gt; &lt;option value="68|0"&gt;District of Columbia&lt;/option&gt; &lt;option value="65|0"&gt;Florida&lt;/option&gt; &lt;option value="66|0"&gt;Georgia&lt;/option&gt; &lt;option value="62|1"&gt;Hawaii&lt;/option&gt; &lt;option value="63|0"&gt;Idaho&lt;/option&gt; &lt;option value="58|0"&gt;Illinois&lt;/option&gt; &lt;option value="59|0"&gt;Indiana&lt;/option&gt; &lt;option value="60|0"&gt;Iowa&lt;/option&gt; &lt;option value="55|0"&gt;Kansas&lt;/option&gt; &lt;option value="56|0"&gt;Kentucky&lt;/option&gt; &lt;option value="57|0"&gt;Louisiana&lt;/option&gt; &lt;option value="52|0"&gt;Maine&lt;/option&gt; &lt;option value="50|0"&gt;Maryland&lt;/option&gt; &lt;option value="51|0"&gt;Massachusetts&lt;/option&gt; &lt;option value="47|0"&gt;Michigan&lt;/option&gt; &lt;option value="48|0"&gt;Minnesota&lt;/option&gt; &lt;option value="49|0"&gt;Mississippi&lt;/option&gt; &lt;option value="44|0"&gt;Missouri&lt;/option&gt; &lt;option value="45|0"&gt;Montana&lt;/option&gt; &lt;option value="46|0"&gt;Nebraska&lt;/option&gt; &lt;option value="41|0"&gt;Nevada&lt;/option&gt; &lt;option value="42|0"&gt;New Hampshire&lt;/option&gt; &lt;option value="43|0"&gt;New Jersey&lt;/option&gt; &lt;option value="38|0"&gt;New Mexico&lt;/option&gt; &lt;option value="39|0"&gt;New York&lt;/option&gt; &lt;option value="40|0"&gt;North Carolina&lt;/option&gt; &lt;option value="35|0"&gt;North Dakota&lt;/option&gt; &lt;option value="36|0"&gt;Ohio&lt;/option&gt; &lt;option value="37|0"&gt;Oklahoma&lt;/option&gt; &lt;option value="32|0"&gt;Oregon&lt;/option&gt; &lt;option value="34|0"&gt;Pennsylvania&lt;/option&gt; &lt;option value="30|0"&gt;Rhode Island&lt;/option&gt; &lt;option value="31|0"&gt;South Carolina&lt;/option&gt; &lt;option value="26|0"&gt;South Dakota&lt;/option&gt; &lt;option value="27|0"&gt;Tennessee&lt;/option&gt; &lt;option value="28|0"&gt;Texas&lt;/option&gt; &lt;option value="23|0"&gt;Utah&lt;/option&gt; &lt;option value="24|0"&gt;Vermont&lt;/option&gt; &lt;option value="25|0"&gt;Virginia&lt;/option&gt; &lt;option value="21|0"&gt;Washington&lt;/option&gt; &lt;option value="22|0"&gt;West Virginia&lt;/option&gt; &lt;option value="17|0"&gt;Wisconsin&lt;/option&gt; &lt;option value="18|0"&gt;Wyoming&lt;/option&gt; &lt;option value="-1"&gt;------------------------------------&lt;/option&gt; &lt;option value="19|2"&gt;Armed Forces Americas&lt;/option&gt; &lt;option value="14|2"&gt;Armed Forces Europe&lt;/option&gt; &lt;option value="15|2"&gt;Armed Forces Pacific&lt;/option&gt; &lt;option value="-1"&gt;------------------------------------&lt;/option&gt; &lt;option value="74|4"&gt;American Samoa&lt;/option&gt; &lt;option value="61|4"&gt;Guam&lt;/option&gt; &lt;option value="53|4"&gt;Marianas Islands&lt;/option&gt; &lt;option value="54|4"&gt;Marshall Islands&lt;/option&gt; &lt;option value="64|4"&gt;Micronesia&lt;/option&gt; &lt;option value="33|4"&gt;Palau&lt;/option&gt; &lt;option value="29|4"&gt;Puerto Rico&lt;/option&gt; &lt;option value="20|4"&gt;US Virgin Islands&lt;/option&gt; &lt;option value="-1"&gt;------------------------------------&lt;/option&gt; &lt;option value="11|3"&gt;Alberta&lt;/option&gt; &lt;option value="12|3"&gt;British Columbia&lt;/option&gt; &lt;option value="13|3"&gt;Manitoba&lt;/option&gt; &lt;option value="8|3"&gt;New Brunswick&lt;/option&gt; &lt;option value="9|3"&gt;Newfoundland&lt;/option&gt; &lt;option value="5|3"&gt;Northwest Territories&lt;/option&gt; &lt;option value="10|3"&gt;Nova Scotia&lt;/option&gt; &lt;option value="6|3"&gt;Nunavut&lt;/option&gt; &lt;option value="7|3"&gt;Ontario&lt;/option&gt; &lt;option value="2|3"&gt;Prince Edward Island&lt;/option&gt; &lt;option value="3|3"&gt;Quebec&lt;/option&gt; &lt;option value="4|3"&gt;Saskatchewan&lt;/option&gt; &lt;option value="1|3"&gt;Yukon&lt;/option&gt; &lt;/select&gt; &lt;/div&gt; &lt;div class="row"&gt; &lt;div class="header"&gt;Zip:&lt;/div&gt; &lt;div class="field"&gt;&lt;input type="text" name="address" tabindex="3" /&gt;&lt;/div&gt; &lt;/div&gt; &lt;div class="row"&gt; &lt;div class="header"&gt;Phone Number:&lt;/div&gt; &lt;div class="field"&gt;&lt;input type="text" name="pnumber" /&gt;&lt;/div&gt; &lt;/div&gt; &lt;div class="row"&gt; &lt;div class="header"&gt;email:&lt;/div&gt; &lt;div class="field"&gt;&lt;input type="text" name="address" tabindex="3" style="width: 297px" /&gt;&lt;/div&gt; &lt;/div&gt; &lt;/fieldset&gt; &lt;/div&gt; &lt;br /&gt; &lt;fieldset&gt; &lt;legend&gt; Billing Method &lt;/legend&gt; &lt;input type="radio" onclick="javascript:setTimeout('__doPostBack(\'ctl00$mainContentPlaceHolder$shipMethodSelector$shipMethods$3\',\'\')', 0)" value="3.50" name="Saturday" id="Radio1"/&gt; &lt;label for="ctl00_mainContentPlaceHolder_shipMethodSelector_shipMethods_3"&gt;Saturday Delivery ($3.50)&lt;/label&gt; &lt;br /&gt; &lt;input type="radio" onclick="javascript:setTimeout('__doPostBack(\'ctl00$mainContentPlaceHolder$shipMethodSelector$shipMethods$3\',\'\')', 0)" value="5.00" name="Days" id="Radio2"/&gt; &lt;label for="ctl00_mainContentPlaceHolder_shipMethodSelector_shipMethods_3"&gt;2-3 days Delivery ($5.00)&lt;/label&gt; &lt;br /&gt; &lt;input type="radio" onclick="javascript:setTimeout('__doPostBack(\'ctl00$mainContentPlaceHolder$shipMethodSelector$shipMethods$3\',\'\')', 0)" value="7.50" name="Overnight" id="Radio3"/&gt; Overnight&lt;label for="ctl00_mainContentPlaceHolder_shipMethodSelector_shipMethods_3"&gt; Delivery ($7.50)&lt;/label&gt; &lt;/fieldset&gt; &lt;br /&gt; &lt;fieldset&gt; &lt;legend&gt;Order Summary&lt;/legend&gt; &lt;b&gt; Merchandise: &lt;/b&gt;: &lt;input id="Text4" type="text" /&gt;&lt;br /&gt; Shipping charges: &lt;input id="Text5" type="text" /&gt;&lt;br /&gt; Sales Tax: &lt;input id="Text6" type="text" /&gt;&lt;br /&gt; &lt;b&gt; Order Total: &lt;/b&gt;:&amp;nbsp; &lt;input id="Text7" type="text" /&gt;&lt;/fieldset&gt; &lt;br /&gt; &lt;fieldset&gt; &lt;legend&gt;Pay with Credit Card&lt;/legend&gt; &lt;b&gt; Card Type: &lt;/b&gt; &lt;select class="coField7 coFieldError" id="ctl00_mainContentPlaceHolder_creditCardPaymentSelector_currentCreditCard_creditCardList1" name="ctl00$mainContentPlaceHolder$creditCardPaymentSelector$currentCreditCard$creditCardList1"&gt; &lt;option value="0"&gt;Select Card&lt;/option&gt; &lt;option value="3"&gt;Visa&lt;/option&gt; &lt;option value="4"&gt;Master Card&lt;/option&gt; &lt;option value="5"&gt;Discover&lt;/option&gt; &lt;option value="7"&gt;American Express&lt;/option&gt; &lt;/select&gt; &lt;br /&gt; &lt;b&gt; Card Number: &lt;/b&gt;: &lt;input type="text" size="10" /&gt; &lt;/fieldset&gt; &lt;input type="submit" value="Submit" /&gt; &lt;br /&gt; &lt;/form&gt; &lt;/td&gt; &lt;/tr&gt; &lt;/table&gt; &lt;/body&gt; &lt;/html&gt; </code></pre>
<p>Try moving your method call away from your window.onload.</p> <pre><code>window.onload = MyFunction; function MyFunction() { document.getElementById('shipping1').onclick = calcShipping; document.getElementById('shipping2').onclick = calcShipping; document.getElementById('shipping3').onclick = calcShipping; document.getElementById('Text1').onblur = recalculate; document.getElementById('Text2').onblur = recalculate; document.getElementById('Text3').onblur = recalculate; } </code></pre>
<p>Short answer: you don't appear to have any element in the document named "shipping1". </p> <p>Longer answer: The error you're getting is indicating that something on the line </p> <p><code>document.getElementById('shipping1').onclick = calcShipping;</code></p> <p>is failing. It can't be <code>document</code> since you're not in a <code>using</code> block and it would be very strange if document could be null. The next object being accessed is whatever is returned by getElementById() for the onclick slot. Since there doesn't appear to be any element with that name in the dcument, it's a pretty good guess that that's causing the problem.</p>
<p>Fix your Radio buttons for shipping. You're calling them 'shipping1,2,3' in javascript, but in your html they have the wrong ID's. Also remove their postback event.</p> <pre><code> &lt;input type="radio" value="3.50" name="Saturday" id="Shipping1"/&gt; &lt;label for="Shipping1"&gt;Saturday Delivery ($3.50)&lt;/label&gt; &lt;br /&gt; &lt;input type="radio" value="5.00" name="Days" id="Shipping2"/&gt; &lt;label for="Shipping2"&gt;2-3 days Delivery ($5.00)&lt;/label&gt; &lt;br /&gt; &lt;input type="radio" value="7.50" name="Overnight" id="Shipping3"/&gt; Overnight&lt;label for="Shipping3"&gt; Delivery ($7.50)&lt;/label&gt; </code></pre> <p>Cheers, ~ck </p>
<pre><code>document.getElementById('shipping1') </code></pre> <p>Above code is "null", means there is no control with the name "shipping1".</p> <pre><code>document.getElementById('Text1').onblur </code></pre> <p>This also throws "null" exception as there is no control with the name "shippingTbx" in the html you gave.</p> <pre><code>function calcShipping() { // Below code is null document.getElementById('shippingTbx').value = parseFloat(this.value).toFixed(2); recalculate(); } </code></pre> <p>Please make sure you've all the controls and get the element only for the controls available in the html.</p>