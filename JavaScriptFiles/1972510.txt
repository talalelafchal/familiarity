Advanced JavaScript split
<p>I have to split this string here in JavaScript:</p> <pre><code> hl=windows xp \"windows xp\" </code></pre> <p>to three words.</p> <p>I used:</p> <pre><code> keywords = keywords.split(/ /); </code></pre> <p>But then i got 4 words: </p> <pre><code>windows xp \"windows xp\" </code></pre> <p>How could i split this string to just 3 words?</p> <p>EDIT: and how do i remove the \".</p>
<pre><code>function split(s, on) { var words = []; var word = ""; var instring = false; for (var i = 0; i &lt; s.length; i++) { var c = s.charAt(i); if (c == on &amp;&amp; !instring) { words.push(word); word = ""; } else { if (c != '"') word += c; } if (c == '"') instring = !instring; } if (word != '') words.push(word); //dangling word problem solved return words; } </code></pre> <p>and a usage example that fits the OP's example</p> <pre><code>var hl = "windows xp \"windows xp\""; split(hl, " "); // returns ["windows","xp","windows xp"] </code></pre>
<pre><code>hl="windows xp \"windows xp\"" var results = hl.split(/ /); for(var s in results) { try { while (results[s].search("\"") &gt; -1) { results.splice(s, 1); } } catch(e) {} } var quoted = hl.match(/"[^"]*"/g); //matches quoted strings for(var s in quoted) { results.push(quoted[s]); } //results = ["windows", "xp", ""windows xp""] </code></pre> <p>edit, a one liner:</p> <pre><code>var results = hl.match(/\w+|"[^"]*"/g).map(function(s) { return s.replace(/^"+|"+$/g, "") }); </code></pre>
<p>Hereâ€™s a simple one:</p> <pre><code>keywords = keywords.match(/"[^"]*"|\w+/g).map(function(val) { if (val.charAt(0) == '"' &amp;&amp; val.charAt(val.lenngth-1) == '"') { val = val.substr(1, val.length-2); } return val; }); </code></pre>