Accessing Perl Array in JavaScript
<p>I have an array of unknown size in perl generated by some other perl module. Now, precisely I want to find if a value passed to a jquery function exists in the perl array or not.</p> <p>Is there a way I can do an <b>element by element</b> comparison of the input value against each value in perl array?</p> <p>I looked around and looks like I can access perl array in jquery by providing the index but we don't know the size of the array. So I don't know when to stop.</p> <p>My mason code looks something similar to:</p> <pre><code>&lt;%perl&gt; my @testArray = [call to some other perl module to get the values] &lt;/%perl&gt; &lt;script type="text/javascript"&gt; function checkIfValExistsInTestArray(val) { // Code to test if "val" exists in "@testArray". Returns boolean true/false. } &lt;/script&gt; </code></pre>
<p>To check for existence, you'd want a hash. A simple way of transmitting the data would be to encode it using <a href="https://metacpan.org/pod/JSON" rel="nofollow"><code>JSON</code></a>.</p> <pre><code>% use JSON qw( ); &lt;script type="text/javascript"&gt; var testArray = &lt;% JSON-&gt;new()-&gt;encode({ map { $_ =&gt; 1 } get_values() }) %&gt;; function checkIfValExistsInTestArray(val) { return testArray[val]; } &lt;/script&gt; </code></pre> <p>For example, if <code>get_values()</code> returned <code>apple</code> and <code>orange</code>, you'd get</p> <pre><code>&lt;script type="text/javascript"&gt; var testArray = {"apple":1,"orange":1}; function checkIfValExistsInTestArray(val) { return testArray[val]; } &lt;/script&gt; </code></pre> <p>I don't know Mason, so there could be errors, but you get the idea.</p>