Perl regular expression to capture contents
<p>Below is the script i used to capture the secs</p> <pre><code>use strict; use warnings; my $n='Created posting 187294181 (sny/sny_AF8F46748A50416A9F1FF2BD7) in 0.261 secs'; my $m='Created posting 187294183'; if($n=~/Created\s+(resume|posting)\s+(\d+).*?([\d\.]*)/i) { print "$1 $2 $3\n"; } </code></pre> <p>Iam getting $3 as blank.Can anyone help me what mistake i have done in the regex to capture secs.Both the $m and $n should match the regex.</p> <p>Output:</p> <pre><code>posting 187294181 </code></pre>
<p>Use this regex:</p> <pre><code>(resume|posting) (\d+)(?:.*?in ([\d.]+) secs)? </code></pre> <p>In <a href="http://regex101.com/r/fQ1iD5/4" rel="nofollow">the demo</a>, inspect the capture Groups in the right pane.</p> <p>In your Perl code:</p> <pre><code>if ($subject =~ m/(resume|posting) (\d+)(?:.*?in ([\d.]+) secs)?/i) { # We matched! print "$1 $2"; # Is Group 3 set? if (defined $3) { print "$3"; } print "\n"; } </code></pre> <p><strong>Explanation</strong></p> <ul> <li><code>(resume|posting)</code> captures <code>resume</code> or <code>posting</code> to Group 1.</li> <li><code>(\d+)</code> captures the digits to Group 2.</li> <li><code>(?:</code> opens our optional non-capture group</li> <li><code>.*?</code> lazily matches chars up to ....</li> <li>the literal <code>in</code>, then</li> <li><code>([\d.]+)</code>we capture the time to Group 3</li> <li>match literal chars <code>secs</code></li> <li><code>)?</code> closes the non-capture group and makes it optional</li> </ul>