Match every character except for a particular string in perl
<p>I want to match every character except for when encounter a particular string and then stop there.</p> <p>Here is an code-based explanation:</p> <pre><code>#!/usr/bin/perl $string="111s111ab1s"; #-- greedy match $string =~ /^(.*)s/; print "$1\n"; # prints 111s11111 #-- ungreedy match $string =~ /HOW TO/; print "$1\n"; # prints 111 </code></pre> <p>Make a simple example of yours --if you need a better one.</p>
<p>I would search for anything not an s, like this ... </p> <pre><code>$string =~ /^([^s]*)s/; </code></pre>
<pre><code>#-- ungreedy match if ( $string =~ /^(.*?)s/s ) { print "$1\n"; # prints 111 } </code></pre> <p>The /s flag is necessary if your string contains newlines; without it, <code>.</code> doesn't match a newline. It's always a good idea to check whether your regex matched; if you don't, <code>$1</code> may be left over from some other successful regex match.</p>
<p>The easiest solution is to add a question mark (<code>?</code>) after the <code>*</code> quantifier. What this means is look for any character (<em>except a linebreak</em>) and find (<code>0</code> or more of them) until you get to an <code>s</code>. Once you specify the question mark, you're stating (<strong>don't be greedy..</strong> as soon as you find an <code>s</code>... stop, you're finished.)</p> <pre><code>use strict; use warnings; my $string = "111s111ab1s"; print $1 if $string =~ /^(.*)s/; # 111s111ab1 print $1 if $string =~ /^(.*?)s/; # 111 </code></pre>
<p>As <a href="http://www.regular-expressions.info/repeat.html" rel="nofollow">regular-expressions.info documentation</a> says, you can use operator laziness:</p> <blockquote> <p>Laziness Instead of Greediness</p> <p>Lazy quantifiers are sometimes also called "ungreedy" or "reluctant". You can do that by putting a question mark behind the plus in the regex. You can do the same with the star, the curly braces and the question mark itself.</p> </blockquote> <p>So, your <strong>greedy</strong> star operator in your regex is:</p> <pre><code>$string =~ /^(.*)s/; </code></pre> <p>While <strong>ungreedy</strong> or lazy would be:</p> <pre><code>$string =~ /^(.*?)s/; </code></pre>