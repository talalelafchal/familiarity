drop down list values not showing
<p>This is a very weird issue I'm facing on my webpage. I currently have a drop down list populated with data from a database using perl and javascript but the drop down list is not displaying the values I'm receiving from the database.</p> <p>The code I currently have is as follows:</p> <pre><code>my $dataX = ${ConnectToDatabase($main::edsUGCar, $main::databaseEnv)}; $resultSet = $dataX-&gt;Execute("select vendor from dex_vendor_info group by vendor"); my @list_of_vendors; while(!$resultSet-&gt;EOF) { push @list_of_vendors, $resultSet-&gt;Fields("vendor")-&gt;Value; $resultSet-&gt;MoveNext; } $list_of_vendors_json = encode_json(\@list_of_vendors); print &lt;&lt;ONE; &lt;html&gt; &lt;body&gt; &lt;h4&gt; Test Vendor Array Javascript &lt;/h4&gt; &lt;p id="demo"&lt;/p&gt; &lt;form id="myForm"&gt; &lt;select id="selectNumber"&gt; &lt;option&gt;Choose a Vendor&lt;/option&gt; &lt;script type="text/javascript" language="JavaScript"&gt; var list_of_vendors = $list_of_vendors_json; var select = document.getElementById("selectNumber"); for(var i = 0; i &lt; list_of_vendors.length; i++) { var opt = list_of_vendors[i]; var el = document.createElement("option"); el.text = opt; el.value = opt; select.appendChild(el); }â€‹ &lt;/script&gt; &lt;/select&gt; &lt;/form&gt; &lt;/body&gt; &lt;/html&gt; ONE </code></pre> <p>The HTML source for the output when I'm inspecting the dropdown list element shows:</p> <pre><code>&lt;SELECT id=selectNumber&gt; &lt;OPTION selected&gt;Choose a Vendor&lt;/OPTION&gt; &lt;SCRIPT language=JavaScript type=text/javascript&gt; var list_of_vendors = ["3D Systems","3DSystems","3M"]; var select = document.getElementById("selectNumber"); for(var i = 0; i &lt; list_of_vendors.length; i++) { var opt = list_of_vendors[i]; var el = document.createElement("option"); el.text = opt; el.value = opt ; select.appendChild(el); } &lt;/SCRIPT&gt; &lt;OPTION value="3D Systems"&gt;&lt;/OPTION&gt; # Info Missing here after the `&gt;` &lt;OPTION value="3DSystems"&gt;&lt;/OPTION&gt; &lt;OPTION value="3M&gt;&lt;/OPTION&gt; &lt;/SELECT&gt; </code></pre>
<p>Have you tried moving the script out of the select tag? The DTD (HTML 4) states that select tags have the following structure: </p> <pre><code>&lt;!ELEMENT SELECT - - (OPTGROUP|OPTION)+ -- option selector --&gt; </code></pre> <p>Which basically means you can not omit the opening or closing <code>&lt;select&gt;</code> tag and <em>a <code>&lt;select&gt;</code> tag can only contain <code>&lt;optgroup&gt;</code> or <code>&lt;option&gt;</code> tags</em>, nothing else (no <code>&lt;script&gt;</code>)</p>
<p>In the section:</p> <pre><code>&lt;script type="text/javascript"&gt; var list_of_vendors = $list_of_vendors_json; var select = document.getElementById("selectNumber"); for(var i = 0; i &lt; list_of_vendors.length; i++) { var opt = list_of_vendors[i]; var el = document.createElement("OPTION"); </code></pre> <p><code>el.appendChild(document.createTextNode(opt));</code> &lt;--This line of code was missing!</p> <pre><code> el.text = opt el.value = opt select.appendChild(el); } &lt;/script&gt; </code></pre> <p>Thanks CannibalGorilla for the suggestions...Appreciate it.</p>