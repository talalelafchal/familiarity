mech post gives internal server error
<p>I have following curl command which works. </p> <p>curl -X POST -H "Content-Type: application/json" -H "username:" -H "password:" --data '{"serviceName":"FIND_CHNGE", "keyValues":{"taskId": "CHNGE17110462","site":"test"}}' <a href="http://traceqa.vip.qa.ebay.com/arsys/rest/service/findTicket" rel="nofollow">http://traceqa.vip.qa.ebay.com/arsys/rest/service/findTicket</a></p> <p>However when I convert to mech getting internal server error, unable to post. </p> <pre><code>#!/usr/bin/env perl use warnings; use strict; use URI::Escape; use lib './lib'; use Utils::PipeJSON; use Data::Dumper; use IO::CaptureOutput qw/capture_exec/; use JSON; use WWW::Mechanize; my %output; my $mech = WWW::Mechanize-&gt;new(keep_alive=&gt;1); $mech-&gt;ssl_opts(verify_hostname =&gt; 0) my $resp; my $issueurl = "http://traceqa.vip.qa.ebay.com/arsys/rest/service/findTicket"; my $json1 = '{"serviceName:"FIND_CHNGE","keyValues":{"taskId":"CHNGE17110462","site":"test"}}'; print STDERR "$json1"; $mech-&gt;add_header( 'username' =&gt; '&lt;username&gt;' ); $mech-&gt;add_header( 'password' =&gt; '&lt;password&gt;' ); $mech-&gt;add_header( 'Content-Type' =&gt; 'application/json' ); eval { $resp = $mech-&gt;post($issueurl, Content=&gt;$json1, "Content-type" =&gt; 'application/json'); }; </code></pre> <p>Please help to see what could be the problem? </p>