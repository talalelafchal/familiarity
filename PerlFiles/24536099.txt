Automatically put working week
<p>Right now i am working on a weekly basis gathering the data and put the week and month manually. For example: The working week for today this week is June 23 thru June 29. and the month is June 2014.</p> <p>I want to gather the YTD data and based on the date put the Week and Month automatically </p> <p><em>For example:</em></p> <h3>Referral Request Date Week Month</h3> <p>1/3/2014 0:00 December 30 thru January 05, 2014 January 2014<br> 1/3/2014 11:10 December 30 thru January 05, 2014 January 2014<br> 12/31/2013 0:00 December 30 thru January 05, 2014 December 2013<br> 6/18/2014 0:00 June 16 thru June 22, 2014 June 2014<br> 6/20/2014 9:51 June 16 thru June 22, 2014 June 2014<br> 4/28/2014 16:34 April 28 thru May 04, 2014 April 2014<br> 5/1/2014 15:22 April 28 thru May 04, 2014 May 2014 </p> <p>The working week will begin each monday and finished on Sunday.</p> <p>It can be do automatically?? The file have thousand of lines...</p>
<p>Here you are:</p> <pre><code>#!/usr/bin/perl use strict; use warnings; use feature 'say'; use DateTime; use DateTime::Format::Strptime; my @datetimes = ( '1/3/2014 0:00', '1/3/2014 11:10', '12/31/2013 0:00', '6/18/2014 0:00', '6/20/2014 9:51', '4/28/2014 16:34', '5/1/2014 15:22', ); for my $datetime_str (@datetimes) { my $strp = 'DateTime::Format::Strptime'-&gt;new( pattern =&gt; '%m/%d/%Y %H:%M' ); my $dt = $strp-&gt;parse_datetime($datetime_str); my $month_year_strp = 'DateTime::Format::Strptime'-&gt;new( pattern =&gt; '%B %Y' ); my $month_year = $month_year_strp-&gt;format_datetime($dt); my $desired_dow = 1; # Monday $dt-&gt;subtract(days =&gt; ($dt-&gt;day_of_week - $desired_dow) % 7); my $month_day_strp = 'DateTime::Format::Strptime'-&gt;new( pattern =&gt; '%B %d' ); my $monday = $month_day_strp-&gt;format_datetime($dt); $dt-&gt;add(days =&gt; 6); my $sunday = $month_day_strp-&gt;format_datetime($dt); say "$datetime_str, $monday thru $sunday, $month_year"; } </code></pre> <p>Next time help someone else (in case this is what you're after -- I am not sure if I got your question). :-) I used the link posted by @scragar in comments.</p>