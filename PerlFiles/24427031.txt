Write to multiple output files using input file line numbers
<p>Yes I know maybe the title is not very clear. If you have suggestions about changing it, please tell me.</p> <p>This is my problem: I have one file (we call it File_1) where there are several lines, each one is a sentence.</p> <p>For ex: File_1 content:</p> <pre><code>*Line 1*: I'm very happy today. *Line 2*: We're going to the cinema. *Line 3*: I'll write on stackoverflow today! </code></pre> <p>And so on..</p> <p>My question is, how can I create several files from the content of each line? So for ex. file_1 will be splitted into:</p> <pre><code>*Line_1_content.txt* : I'm very happy today. *Line_2_content.txt* : We're going to the cinema. </code></pre> <p>And so on...</p> <p>I don't know how to do, really. I've never faced this kind of problem. I will appreciate your help.</p>
<pre><code>use strict; use warnings; use autodie; while ( &lt;&gt; ) { open my $fh, '&gt;', "${.}.txt"; print $fh $_; } </code></pre> <p><code>$.</code> corresponds to the number of the current line.</p> <p>You call this program like this: <code>perl prog.pl your_file</code></p>
<p>If I understand correctly the question something line:</p> <pre><code>use strict; use warnings; use autodie; open(my $fh, '&lt;', 'example.txt'); while (my $line = &lt;$fh&gt;) { open(my $line_fh, '&gt;', "line_${.}_file.txt"); print $line_fh $line; close($line_fh); } close($fh); </code></pre> <p>Should do what you want.</p> <p>(Although doing this maybe doesn't make a lot of sense like the comments point out)</p>
<p>You don't even need a program :-)</p> <pre><code>perl -ne 'open my $fh, "&gt;", "Line_${.}_content.txt"; print $fh $_"' your_file_here </code></pre> <p>Or, perhaps,</p> <pre><code>perl -pe 'open my $fh, "&gt;", "Line_${.}_content.txt"; select $fh' your_file_here </code></pre>