Perl - Regex and matching variables
<p>Good morning guys,</p> <p>I have the following code:</p> <pre><code>$line =~ s/gene_id "([A-Za-z0-9:\-._]*_[oO])([_.])[0-9]*";/gene_id "$1$21";/g; </code></pre> <p>And I have problems with $1 and $2. I want the output to be <code>$1$21</code>, in other words, <code>$1</code> and <code>$2</code> and <code>1</code>, all together. However, Perl sees <code>$21</code> instead of <code>$2</code> and <code>1</code>. How would I avoid this problem?</p> <p>Thanks. </p>
<p>Use braces around your variable identifier to isolate it from surrounding text, <code>${2}</code></p> <pre><code>$line =~ s/gene_id "([A-Za-z0-9:\-._]*_[oO])([_.])[0-9]*";/gene_id "$1${2}1";/g; </code></pre> <p>Also, since you're keeping all other text the same, you could just use <code>\K</code> to only modify what comes after it. Not to mention utilizing <code>\w</code> to reduce your first character class:</p> <pre><code>$line =~ s/gene_id "[\w:\-.]*_[oO][_.]\K[0-9]*";/1";/g; </code></pre>