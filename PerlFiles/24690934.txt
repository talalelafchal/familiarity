Email a text file as an attachment in perl with/without using Perl Modules
<p>I have a text file in my remote Linux machine. I want to email this file. Is there any simple way to write a code. Can we achieve this without using Perl Modules. Please suggest a simple code to do this. </p> <pre><code> use MIME::Lite; $to = 'abcd@gmail.com'; $cc = 'efgh@mail.com'; $from = 'webmaster@yourdomain.com'; $subject = 'Test Email'; $message = 'This is test email sent by Perl Script'; $msg = MIME::Lite-&gt;new( From =&gt; $from, To =&gt; $to, Cc =&gt; $cc, Subject =&gt; $subject, Type =&gt; 'multipart/mixed' ); $msg-&gt;attach(Type =&gt; 'text', Data =&gt; $message ); $msg-&gt;attach(Type =&gt; 'image/gif', Path =&gt; '/tmp/logo.gif', Filename =&gt; 'logo.gif', Disposition =&gt; 'attachment' ); $msg-&gt;send; </code></pre> <p>Here the attachment is there for gif file .Is "From" Mandatory ??? But how do i add a text file . I was not able to find a solution without using Perl modules </p>
<p>Does it have to be perl? Otherwise a really simple way is to use Mutt, which is pre-installed on many Linux distributions.</p> <p><code>$ mutt -s "Subject" -c "copy@mail.com" -a /tmp/attachedfile.txt "recipient@mail.com" &lt; body.txt</code></p> <p>If it's part of a larger perl script, you can still make a system call to execute mutt from within the script.</p> <p><code>system("/usr/bin/mutt [...]") or die("Sending email failed: $?");</code></p>
<p>Many of the modules require that you have a Mail Transfer Agent on your machine, like sendmail. But I didn't have one, so I use <a href="http://search.cpan.org/~jenda/Mail-Sender-0.8.22/Sender.pm" rel="nofollow">Mail::Sender</a>. It has decent documentation, AUTH, supports attachments, and reports error messages. </p> <p>Just make sure to set things like content-type correctly, and encoding. I am sending XLS files so the encoding was 'base64'. </p> <p>Of course you also need an SMTP server account. </p>