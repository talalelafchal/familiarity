grep: can't open /Data.cfg
<p>I am writing a Perl script to login to a remote machine from my local machine . The script logs into server and tries to grep data from a file Data.cfg.</p> <pre><code> my $exp= new Expect(); $command="ssh -l $LOGIN1 flx$First"; $exp-&gt;spawn("$command"); $exp-&gt;expect (5, [ qr/\[$First\]-&gt;/i =&gt; sub { my $exp = shift; } ], [qr/timeout/i=&gt; sub { $exp-&gt;soft_close(); print"Unable to login .\n"; } ]); sleep 2; $dat=`grep -i num /Data.cfg | cut -d ":" -f 2`; </code></pre> <p>If the above command is done manually after login to remote machine it is working . However if i execute it from script i m getting an error "grep: can't open /Data.cfg". I think it is trying to grep from local machine. Please suggest on how to achieve the solution.</p>
<p>since the file is on the remote host, you will want to try to either transfer the file locally and then grep, or grep it remotely. i would grep remotely:</p> <pre><code>$dat=`ssh -l $LOGIN1 'grep -i num /Data.cfg | cut -d ":" -f 2'`; </code></pre>