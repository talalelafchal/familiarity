how to search value of variable in array using perl
<p>I have following result in array @bgp_status </p> <pre><code>Neighbor V AS MsgRcvd MsgSent TblVer InQ OutQ Up/Down State/PfxRcd ::100:1:1:2 4 100 6 6 21 0 0 00:00:15 10 ::200:1:1:2 4 200 6 6 21 0 0 00:00:10 10 </code></pre> <p>Now i want to know what is the value of State/pfxRcd ?? that is 10 here. I want to extract value of state for both ::100:1:1:2 and ::200:1:1:2 neighbours. </p> <p>Any suggestions will be appreciated. Thank you in advance </p>
<p>Assuming you mean each row is an entry in the array, then code like this will work:</p> <pre><code>my @bgp_status = ("Neighbor V AS MsgRcvd MsgSent TblVer InQ OutQ Up/Down State/PfxRcd", "::100:1:1:2 4 100 6 6 21 0 0 00:00:15 10", "::200:1:1:2 4 200 6 6 21 0 0 00:00:10 10"); my @states = (); for my $line (@bgp_status) { if ($line =~ /^::\d/) { # Check if it's an IP row $line =~ /(\d+$)/; # Assuming last # in row is state my $state = $1; push(@states, $state); } } print @states; </code></pre> <p>You can refactor this to be shorter, or more robust, or use some sort of data structure to also save the IP:State association. I like to leave that as an exercise to the reader. </p>