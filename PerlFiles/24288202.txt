Comparing two hash values perl
<p>I am working on perl after a break. if I am not clear please ask . </p> <p>I have a hash of hash. </p> <pre><code>REST123=&gt;{'test' =&gt; 'A', 'test1'=&gt; 'B', 'test2'=&gt; 'C' 'test3'=&gt; 'D' } REST425=&gt;{'test' =&gt; 'A', 'test1'=&gt; 'C', 'test2'=&gt; 'C' 'test3'=&gt; 'B' } REST234=&gt;{'test' =&gt; 'A', 'test1'=&gt; 'B', 'test2'=&gt; 'C' 'test3'=&gt; 'D' } </code></pre> <p>I would like to compare the ABCD among all the REST* .The REsult should be something like this. </p> <pre><code>REST123 REST425 4 1(mismatch) REST123 REST234 4 0 (mismatch) </code></pre> <p>I tried copying hash on another but that doesn't work. Any easy way of accessing them to compare would be really appreciated </p> <p>Thanks </p>
<p>I had to guess a bit, but my crystal ball told me you need the following code.</p> <pre><code>#!/usr/bin/perl use warnings; use strict; my %hash = ( REST123 =&gt; { test =&gt; 'A', test1 =&gt; 'B', test2 =&gt; 'C', test3 =&gt; 'D', }, REST425 =&gt; { test =&gt; 'A', test1 =&gt; 'C', test2 =&gt; 'C', test3 =&gt; 'B', }, REST234 =&gt; { test =&gt; 'A', test1 =&gt; 'B', test2 =&gt; 'C', test9 =&gt; 'D', }, ); for my $k1 (keys %hash) { for my $k2 (grep $k1 gt $_, keys %hash) { my %h; $h{$_} ++ for map keys %{ $hash{$_} }, $k1, $k2; my @same = grep $h{$_} == 2, keys %h; print join ' ', $k1, $k2, scalar @same, scalar grep $hash{$k1}{$_} ne $hash{$k2}{$_}, @same; print "\n"; } } </code></pre> <p>Note that it returns 2 mismatches, not 1, as <code>'B' ne 'C'</code> (test1) and <code>'D' ne 'B'</code> (test3).</p>