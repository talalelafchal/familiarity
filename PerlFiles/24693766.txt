How to add perl-mode.el to .emacs?
<p>If I do <code>M-x load-file RET /root/.elisp/perl-mode.el RET</code> then this <a href="http://bzr.savannah.gnu.org/lh/emacs/trunk/annotate/head:/lisp/progmodes/perl-mode.el" rel="nofollow">perl-mode.el</a> get loaded correctly.</p> <p>If I in <code>.emacs</code> add any of these, it doesn't work</p> <pre><code>(load "/root/.elisp/perl-mode.el") (load-file "/root/.elisp/perl-mode.el") </code></pre> <p>I am using emacs 24.1.1.</p> <p>The error I get is</p> <pre><code>File mode specification error: (void-function setq-local) </code></pre> <p><strong>Question</strong></p> <p>What is the correct way to load <code>perl-mode.el</code> from <code>.emacs</code>?</p>
<p>The macro <code>setq-local</code> was introduced in Emacs 24.3, so this version of <code>perl-mode</code> is too new for the Emacs you're currently running (24.1).</p> <p>You could upgrade Emacs, or you could just put the definition of <code>setq-local</code> into your <code>.emacs</code> (from <a href="http://bzr.savannah.gnu.org/lh/emacs/trunk/annotate/head:/lisp/subr.el" rel="nofollow">here</a>):</p> <pre class="lang-lisp prettyprint-override"><code>(defmacro setq-local (var val) "Set variable VAR to value VAL in current buffer." ;; Can't use backquote here, it's too early in the bootstrap. (list 'set (list 'make-local-variable (list 'quote var)) val)) </code></pre>