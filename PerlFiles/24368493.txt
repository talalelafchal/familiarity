Replace missing value with cell above in either Perl or MySQL?
<p>I'm importing a csv file of contacts and where one parent has many children it leaves the duplicated values blank. I need to make sure that they are populated when they reach the database however.</p> <p>Is there a way that I can implement the following when I'm importing a .csv file into Perl and then exporting into MySQL?</p> <p>if (value is null)</p> <p>value = value above.</p> <p>Thanks!</p>
<p>Not with an import statement afaik. You could, however, make use of triggers (<a href="http://dev.mysql.com/doc/refman/5.0/en/triggers.html" rel="nofollow">http://dev.mysql.com/doc/refman/5.0/en/triggers.html</a>). Keep in mind though, that this will seriously impact the performance of the import statement.</p> <p>Also: if they are duplicate values you should have a critical look at your database model or your setup overall.</p>
<p>Why don't you place the individual values you read from the CSV file into an array (e.g. @FIELD_DATA). Then when you encounter an empty field while iterating over a row (e.g. for column 4) you can write </p> <p>unless (length($CSV_FIELD[4])) { $CSV_FIELD[4] = $FIELD_DATA[4] } </p>