Unable to copy multiple files to a directory using Perl script
<p>One wierd behaviour I am observing -- in a perl script , I checked wether a directory exists or not, if it exists - it copies a file to that directory, if it doesnt -then the directory is created followed by the file copy </p> <p>When I go and check the file manually, the file is present . but when I run the same script again to copy another file using the same process as above, I see that the previous files arent present. For a confirmation , I performed a directory read in the script , it said that dir is empty. </p> <p>Can anyone please help me in understanding </p> <p>Please find below a code :</p> <pre><code>if (-d "/home/foo") { print "the directory is already created \n"; $i=0; opendir(DIR, "/home/foo") or die "Cant open /home/foo: $!\n"; @list = readdir(DIR); foreach $line(@list) { unless ($line =~ /^[.][.]?\z/) { $i++; } } if ($i != 0) { print "There is Stuff in here!"; } else { print "This Dir is Empty!"; } closedir(DIR); } else { &amp;runcond("mkdir /home/foo"); } `cp $file /home/foo`; #Copying a file $file in the directory </code></pre>
<pre><code>`cp $file /home/foo`; </code></pre> <p>You haven't defined <code>$file</code></p>