Not able to print value using reference inside function in perl
<p>Why am i not being able to print the value using reference when its inside function?</p> <pre><code>sub fun { $ref = @_; print "\n Inside the function $ref-&gt;[1] \n"; } my @arr=(2,3,4); fun (\@arr); my $ref2 = \@arr; print "\n$ref2-&gt;[1]\n"; </code></pre> <p><strong>Output i get is :</strong></p> <pre><code>Inside the function 3 </code></pre>
<p>It is your assignment that is wrong:</p> <pre><code>$ref = @_; </code></pre> <p>Because in scalar context, an array returns its size, not its elements. Scalar context is imposed when you have a scalar value on the left hand side. You should do:</p> <pre><code>my ($ref) = @_; </code></pre> <p>Or</p> <pre><code>my $ref = shift; # shifts first argument from @_ </code></pre> <p>You also need to change <code>$ref-&gt;[1]</code> to <code>$ref-&gt;[0]</code>, or you will refer to the wrong element. Perl arrays start at index 0.</p> <p>What you should have done is to use </p> <pre><code>use strict; use warnings; </code></pre> <p>Which would have given you the error:</p> <pre><code>Can't use string ("1") as an ARRAY ref while "strict refs" in use at line ... </code></pre> <p>Which is what happens. You assign the size <code>1</code> to <code>$ref</code>, and then try to use it as an array ref: <code>$ref-&gt;[1]</code></p>