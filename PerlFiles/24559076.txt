Perl set locale to POSIX but show C?
<p>Using <code>POSIX</code> module, I can get current locale value in <code>perl</code>:</p> <pre><code>$ LC_ALL=vi_VN.utf8 perl -MPOSIX=setlocale,locale_h,LC_ALL -le 'print setlocale(LC_ALL)' LC_CTYPE=vi_VN.utf8;LC_NUMERIC=C;LC_TIME=vi_VN.utf8;LC_COLLATE=vi_VN.utf8; LC_MONETARY=vi_VN.utf8;LC_MESSAGES=vi_VN.utf8;LC_PAPER=vi_VN.utf8;LC_NAME=vi_VN.utf8; LC_ADDRESS=vi_VN.utf8;LC_TELEPHONE=vi_VN.utf8;LC_MEASUREMENT=vi_VN.utf8; LC_IDENTIFICATION=vi_VN.utf8 </code></pre> <p>But if I set locale to <code>POSIX</code>, <code>perl</code> print <code>C</code> instead of <code>POSIX</code>:</p> <pre><code>$ LC_ALL=POSIX perl -MPOSIX=setlocale,locale_h,LC_ALL -le 'print setlocale(LC_ALL)' C </code></pre> <p>Is this default behavior of <code>perl</code> or I have made some mistakes?</p>
<p>The <code>POSIX</code> locale is an alias for the <code>C</code> locale. Presumably on your system, <code>setlocale(..., "POSIX")</code> sets the locale to <code>C</code>, and you get that name back instead of the one you passed in.</p>