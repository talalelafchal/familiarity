How to use Linux command tools to remove numbers on the begin and end of a string?
<p>Suppose that I have the following file:</p> <pre><code>!@#$@##!#!!@# !@#--@#%# 12asd test 12349490 123end Start12 M1dle Sup3rASF Secret FS123Num MyStuff VeryVeryLongWord WowThisIs123! !myStuff:) 2014Kces @88Random Word Tab AnyWordhere:P </code></pre> <p>And I want to filter it in a way that all words with numbers on the end or on the begin are not displayed. For example, I want this output:</p> <pre><code>!@#$@##!#!!@# !@#--@#%# test M1dle Sup3rASF Secret FS123Num MyStuff VeryVeryLongWord WowThisIs123! !myStuff:) @88Random Word Tab AnyWordhere:P </code></pre> <p>And how to apply a similar filter to also remove the ones that begin or end followed by an special char such as !, ?, @, etc?</p> <p>For example, generating this output:</p> <pre><code>!@#$@##!#!!@# !@#--@#%# test M1dle Sup3rASF Secret FS123Num MyStuff VeryVeryLongWord !myStuff:) Word Tab AnyWordhere:P </code></pre> <p>On the last example, both @88Random and WowThisIs123! were removed too. But the ones with numbers on the middle remains, such as Sup3rASF and M1dle.</p> <p>I would love if someone could help me with a filter using Linux tools for both cases, but please, keep in mind it should be word independent, since my file is big and the strings above are just examples.</p> <p>Thanks so much.</p>
<blockquote> <p>And I want to filter it in a way that all words with numbers on the end or on the begin are not displayed<br> How to apply a similar filter to also remove the ones that begin or end followed by an special char such as !, ?, @, etc?</p> </blockquote> <p>You can use <code>egrep</code>:</p> <pre><code>egrep -v '^[0-9!?@]|[0-9!?@]$' file </code></pre>
<p>Here is an option using <code>perl</code>: </p> <pre><code>perl -ne 'print unless /^\d|\d$/' file # removes numbers !@#$@##!#!!@# !@#--@#%# test M1dle Sup3rASF Secret FS123Num MyStuff VeryVeryLongWord WowThisIs123! !myStuff:) @88Random Word Tab AnyWordhere:P </code></pre> <p><strong>or</strong></p> <pre><code>perl -ne 'print unless /^[\d!?@]|[\d!?@]$/' file # removes numbers and some spl chars test M1dle Sup3rASF Secret FS123Num MyStuff VeryVeryLongWord Word Tab AnyWordhere:P </code></pre> <p>Though as <a href="http://stackoverflow.com/a/24535047/970195">anubhava</a> suggested <code>egrep</code> should suffice.</p>
<p>For the first level of filter, you can use the following simple regex:</p> <pre><code>perl -ne 'print if ! /^\d|\d$/' file </code></pre> <p>For the second type of filter, you just need to add <code>[:punct:]*</code> to each end.</p> <pre><code>perl -ne 'print if ! /^[:punct:]*\d|\d[:punct:]*$/' file </code></pre> <p>Note how the punctuation character class is separate from the digit. That's because you specifically want to filter out lines with digits, not just ones that begin and end with punctuation.</p> <p><strong>Switches</strong>: </p> <ul> <li><code>-n</code>: Creates a <code>while(&lt;&gt;){..}</code> loop for each line in your input file. </li> <li><code>-e</code>: Tells <code>perl</code> to execute the code on command line. </li> </ul>