Processing array of hashrefs correctly
<p>I have an list of maps in my code. </p> <pre><code>my @codeList; push (@codeList, \%map1, \%map2, \%map3); </code></pre> <p>when I am trying to access it via looping over List index it is not giving me proper map. what am I missing. </p> <pre><code>my $Count = @codeList; for (my $index =0; $index &lt; $Count; $index++) { my %map = $codeList[$index]; } </code></pre>
<p>Your code works fine. i think its your loop ( which you did'nt show us). You can loop through this by dereferencing the hashref (<code>%{ $hashref }</code>):</p> <pre><code>use strict; use warnings; use feature 'say'; my %map1 = (test1 =&gt; 'ab'); my %map2 = (test2 =&gt; 'ab'); my %map3 = (test2 =&gt; 'ab'); my @codeList; push (@codeList, \%map1, \%map2, \%map3); for my $hashref (@codeList) { for my $key (keys %{$hashref}) { say $key . q{ } . $hashref-&gt;{$key}; } } </code></pre> <p>EDIT Output:</p> <pre><code>test1 ab test2 ab test2 ab </code></pre>
<p>Instead of</p> <pre><code>my %map = $dbColsList[$dbCount]; </code></pre> <p>you have to use reference as <code>@codeList</code> was populated with them => <code>\%map1</code></p> <pre><code>my $map = $dbColsList[$dbCount]; </code></pre> <p>and later use it like <code>$map-&gt;{key}</code> as this is <a href="http://perldoc.perl.org/perldsc.html#ARRAYS-OF-HASHES" rel="nofollow"><code>array of hashes</code></a> or hashref structure.</p> <p>Check <a href="http://perldoc.perl.org/perlreftut.html" rel="nofollow">perldoc</a> for details.</p> <p>Alternatively you can dereference hashref and do a shallow copy (changes to <code>%map</code> keys/values won't reflect on <code>\%map1</code>, etc.)</p> <pre><code>my %map = %{ $dbColsList[$dbCount] }; </code></pre>