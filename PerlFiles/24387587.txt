Pause Perl script until an outside program is finished
<p>I code in C# so I don't know much about perl, but I would like to run the code below and have the perl script wait until myprogram.exe is finished before continuing in the script. After a little research I found that the system function in perl should wait for the process to finish before continuing </p> <pre><code> my $cmd = '\\\serverpath\Shared\myprogram.exe '; my $result = system("start /LOW $cmd pram1"); my $cmd2 = '\\\serverpath\Shared\openPDF.pdf '; my $result2 = system("start /LOW $cmd2 "); </code></pre> <p>Then after no luck with the system function, I thought the problem was that myprogram (wrote in c#) doesn't return a value so I changed it to something like whats below, but the perl script still continues right after it calls myprogram.exe</p> <pre><code> static int Main(string[] args) { try { Run_Main(); return 0; } catch (Exception) { sendEmail(); return 1; } } </code></pre>
<p>@Luk6e discovered <code>start</code> was running the command in the background causing <code>system</code> to not wait. Launch the command without <code>start</code>:</p> <pre><code>my $cmd = '\\\serverpath\Shared\myprogram.exe '; my $result = system("$cmd pram1"); my $cmd2 = '\\\serverpath\Shared\openPDF.pdf '; my $result2 = system("$cmd2 "); </code></pre> <p>or pass the <a href="http://support.microsoft.com/kb/126410" rel="nofollow"><code>/wait</code></a> flag:</p> <pre><code>my $cmd = '\\\serverpath\Shared\myprogram.exe '; my $result = system("start /wait /LOW $cmd pram1"); my $cmd2 = '\\\serverpath\Shared\openPDF.pdf '; my $result2 = system("start /wait /LOW $cmd2 "); </code></pre> <blockquote> <p>/w[ait] Does not return until the other program exits. </p> </blockquote>