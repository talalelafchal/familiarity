Perl: Removing element with special character from an array
<p>I am able to remove elements from an array when it's a device name or an ip address but when there ie special character in element name below command is not working.</p> <p>Kindly advice as I have tried 2-3 ways and all are not working ...</p> <p>For example if key value is network or ip 100.100.100.100 below logic is working fine but when key name is net-switch or router-net it's not removing.</p> <pre><code>option1 @array = eval { grep { $_ != $Key } @array1; }; Option2 @array = eval{ grep { $_-&gt;[0] ne "$Key" } @array1; }; 2014/06/29 11:14:56 $VAR1 = [ '100.2.2.3-0-2', '100.4.7.1-0-2', '100.2.120.2-0-2', '100.1.2.29-3-2', 'network-0-2', 'switch-1-1', 'network-0-2', 'router45', ]; </code></pre> <p>Thanks,</p>
<pre><code>use warnings; use strict; my @array = ( '100.2.2.3-0-2', '100.4.7.1-0-2', '100.2.120.2-0-2', '100.1.2.29-3-2', 'network-0-2', 'switch-1-1', 'network-0-2', 'router45', ); # my $key = '100.2.2.3-0-2'; # Either of these will work my $key = 'network-0-2'; my @keep; foreach (@array){ push @keep, $_ unless $_ eq $key; } print Dumper \@keep; </code></pre> <hr> <pre><code>100.2.2.3-0-2 100.4.7.1-0-2 100.2.120.2-0-2 100.1.2.29-3-2 switch-1-1 router45 </code></pre>
<p><code>!=</code> is numeric <code>not equal</code> operator, but since you want to test string inequality use <code>ne</code> operator</p> <pre><code>my @array = grep { $_ ne $Key } @array1; </code></pre>