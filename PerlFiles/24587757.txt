Perl: How to post specific data to a particular URL and save the response in a text file, in a web scraping context?
<p>I would like to post the below data to a particular URL:</p> <pre><code>choice yes high high low low name BDNL </code></pre> <p>To this URL:</p> <pre><code>https://www.example.com </code></pre> <p>I would then like to save the response whether HTML or plain text in a text file?</p> <p>I have experience with Perl and would prefer to use it for the purpose of this task.</p>
<p>You could use <a href="https://metacpan.org/pod/LWP%3a%3aUserAgent" rel="nofollow">LWP::UserAgent</a></p> <pre><code>#!/usr/bin/perl use strict; use warnings; use LWP::UserAgent; use CGI; my $url = 'http://www.example.com/'; my $ua = LWP::UserAgent-&gt;new(); my $response = $ua-&gt;post( $url, { choice =&gt; "yes", high =&gt; "high", low =&gt; "low", name =&gt; "BDNL" } ); my $content = $response-&gt;decoded_content(); my $cgi = CGI-&gt;new(); open my $fh, "&gt;", "response.txt" or die "$!"; print $fh $cgi-&gt;header() . $content; close $fh; </code></pre>