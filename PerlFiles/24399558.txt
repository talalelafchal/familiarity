FTP upload with full permission (CHMOD 777)
<p>I want to create a directory and upload file in a remote server through PERL FTP function. Everything works fine except I can't upload them with CHMOD 777. Is it something that I can change by command, or it will be determined by the user access level?</p> <pre><code>#!/usr/bin/perl -w use Net::FTP; my $ftp=Net::FTP-&gt;new($server); $ftp-&gt;login($user, $password); $ftp-&gt;binary(); $ftp-&gt;mkdir($outputdir); $chmod = "chmod 777 $outputdir"; $ftp-&gt;cmd($chmod); $ftp-&gt;cwd($outputdir); $ftp-&gt;put($file); my $chmod = "chmod 777 $file"; $ftp-&gt;cmd($chmod); $ftp-&gt;quit; </code></pre>
<p>It would be helpful to get the response of the server to your chmod command, e.g. use <code>$ftp-&gt;code</code> and <code>$ftp-&gt;message</code> or simply enable debugging. Here you would probably see that the server does not understand your command. </p> <p>The reason might be, that you use <code>$ftp-&gt;cmd</code> to execute this command. But, <code>cmd</code> is used to send an FTP command, and chmod is no FTP command. To execute any command on the site of the server you should instead use <code>site</code>, e.g. <code>$ftp-&gt;site("chmod ....")</code>. And even here you should check the results, because the server is not required to honor your request and to execute any commands you want.</p> <p>In summary: always check error messages. Apart from that: please <code>use strict</code> on any perl scripts.</p>