How to fetch a word following other word in perl
<p>Suppose I have a file with content </p> <pre><code>SQL&gt; SELECT 'conn '||u.name ||'/abcd123'||chr(10) ||'create '||DECODE(U.NAME,'PUBLIC','public ')||'database link ' || L.NAME|| ' connect to ' || L.USERID || ' identified by values '''|| 2 L.PASSWORDX||''' using ''' || L.host || ''''||';' FROM system.xpr_link$ L, system.xpr_user$ U WHERE L.OWNER# = U.USER# and u.name not in ('APPS','SYS','SYSTEM') order by l.OWNER#; conn GESADM/abcd123 create database link ODSPUSH.CISCO.COM connect to XXDM identified by values '056D98F3367CAC4478383FFB673E4D22329E172F2B25778BE3' using 'TS3ODS'; conn GESADM/abcd123 create database link TS3CFN.CISCO.COM connect to GESADM identified by values '05A0E92F39E91BA002F98DE9A46FC72B31572483E12D3AAB67' using 'TS3CFN'; create database link SYNSTG.CISCO.COM connect to SYN_CLNTSRV identified by values '066C10B37E3A3D0A3AA96B9FDE063585B662E3921F3C3F5A3E224BD4394A7BD659DAD174ABDE36594E7F3B466D6B0DCF78F13D75BA3B47090D295 8F8604E637462A2A41F74458E0C0EB649EE9A537AD2AE109A20B2DA09E5F9A28D666B8980651B79C0E76BBD6CBBCD169645970FDD615291C8557DBC79F527BF32E14A845025' using 'SYNSTG'; </code></pre> <p>How to get the word following the word "values" using regex in Perl.</p>
<p>Every place in your sample string where "<code>values</code>" occurs, the word preceding it (<em>as your post requested before it was edited</em>) is "<code>by</code>", so I don't know how useful it can be to capture each word that is followed by "<code>values</code>". </p> <p>Nevertheless, that's what you seem to be asking for (<em>before the edit reversed the meaning</em>), and here's one way to do it:</p> <pre><code>while( $string =~ m/\b(\p{Alpha}+)\b\s*values/g ) { print "$1\n"; } </code></pre> <p>...will produce the following output:</p> <pre><code>by by by by </code></pre> <p>If, on the other hand, you intended to say something like "the quoted numeric value following the word 'values'" (<em>which is similar to what your edited post is now requesting</em>), this will work:</p> <pre><code>while( $string =~ m/values\s*'([^']+)'/g ) { print "$1\n"; } </code></pre> <p>...which produces...</p> <pre><code>056D98F3367CAC4478383FFB673E4D22329E172F2B25778BE3 05A0E92F39E91BA002F98DE9A46FC72B31572483E12D3AAB67 066C10B37E3A3D0A3AA96B9FDE063585B662E3921F3C3F5A3E224BD4394A7BD659DAD174ABDE36594E7F3B466D6B0DCF78F13D75BA3B47090D295 8F8604E637462A2A41F74458E0C0EB649EE9A537AD2AE109A20B2DA09E5F9A28D666B8980651B79C0E76BBD6CBBCD169645970FDD615291C8557DBC79F527BF32E14A845025 </code></pre>
<p>I'm understanding that you are trying to extract strings from a text file? Do I have that right?</p> <p>If you're talking about the string after the word <code>values</code>:</p> <pre><code>while ($subject =~ m/values '\K[^']*/g) { # matched text = $&amp; } </code></pre> <p>See <a href="http://regex101.com/r/vS1xD1" rel="nofollow">demo</a>.</p> <p>If you're talking about the string after <code>using</code>: </p> <pre><code>while ($subject =~ m/values '[^']*' using '\K[^']*/g) { # matched text = $&amp; } </code></pre> <p>See <a href="http://regex101.com/r/cN9mH9" rel="nofollow">demo</a>.</p> <p>Let me know which one you want, and I'll add an explanation.</p>