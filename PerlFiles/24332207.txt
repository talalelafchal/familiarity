Cannot git clone with system call in perl
<p>I'm trying to call a git log command in perl through system an output it to a file, but I it keeps saying "not a git repository". My code is below. Any suggestions?</p> <p>The perl snippet:</p> <pre><code>Readonly my $CLONE_COMMAND =&gt; 'git_clone.bat'; Readonly my $GIT_LOG_COMMAND =&gt; 'git_log_pretty'; system("$GIT_LOG_COMMAND &gt; $GIT_REPO_XML_FILE"); </code></pre> <p>git_clone.bat: (the repo url is passed in as %1, the name of the repo as %2)</p> <pre><code>@echo off cd "c:\MyGit" git clone "%1" cd "c:\MyGit\%2" </code></pre> <p>git_log_pretty.bat:</p> <pre><code>git log --pretty="format:&lt;author&gt;%an&lt;/author&gt;%n&lt;date&gt;%ai&lt;/date&gt;%n&lt;msg&gt;don't care&lt;/msg&gt;%n" --name-only </code></pre>
<p>Busch, do you know what Perl's current working directory is?</p> <p>You can try:</p> <pre><code>use Cwd; $dir = getcwd(); print $dir; </code></pre> <p>Make sure it's running from within your repository when you are asking for the 'git log', and try 'chdir' into there within the script if it isn't.</p>