Replace a text in perl
<p>I am trying to find a particular string in file and want to replace that string with another string. Then i want to replace this string in the file also. I am using following code:</p> <pre><code> open(FILEB,"+&lt;File B (2).txt"); $hostNameA="Any string\n"; foreach $lineB(FILEB) { seek(FILEB,-length($lineB),1); $lineB=~s/$hostNameB/$hostNameA/; print FILEB $lineB; } </code></pre> <p>Basically, my query is how to replace hostNameB ith hostNameA in FileB....</p>
<p>Write file with same handle will destroy original file.</p> <pre><code>open IN, '&lt;', 'path_to_file' or die $! open OUT, '&gt;', 'path_to_replaced_file' or die $!; while (my $line = &lt;IN&gt;) { $line =~ s/something/tosomething/g; print OUT $line; } close OUT; close IN; # if you wish, backup old file, and rename new file </code></pre>
<p>How about this <code>$ perl -pi.bak -e 's/hostNameB/hostNameA/g' "File B (2).txt"</code></p> <p>read the file from "File B (2).txt" and then edit it with regex 's/hostNameB/hostNamea/g' And back up the original file.</p>
<p>If you are working on linux, there is no need to even open a file and no need to create backup file. Following script should work -</p> <pre><code>#!/usr/bin/perl #Commandline my $command = "sed -i 's/FOO/BAR/g' /mydir/myfile.txt"; #Execute Command `$command`; </code></pre> <p>Above script will replace all occurrences of string 'FOO' with 'BAR' in myfile.txt</p>