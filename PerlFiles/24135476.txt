How to recieve the output of a command in Net::Telnet perl
<p>Here is my code</p> <pre><code>use Net::Telnet (); $remote = new Net::Telnet (Timeout =&gt; 30, Prompt =&gt; '/&gt;/'); $remote-&gt;open("router1"); print $remote-&gt;cmd("sh hard\n"); print $remote-&gt;cmd("sh hard\n"); print $remote-&gt;cmd("sh hard\n"); print $remote-&gt;cmd("sh hard\n"); print $remote-&gt;waitfor('/mr-ferx2&gt;/'); $remote-&gt;close(); </code></pre> <p>I am trying to log into the router and give the "sh hard" command. I consistently get this error. "command timed-out at telnetter.pl line 9"</p> <p>and if I try this instead "sh ver" command on second line</p> <pre><code>use Net::Telnet (); $remote = new Net::Telnet (Timeout =&gt; 30, Prompt =&gt; '/&gt;$/'); $remote-&gt;open("router1"); print $remote-&gt;cmd("sh hard\n"); print $remote-&gt;cmd("sh hard\n"); print $remote-&gt;cmd("sh hard\n"); print $remote-&gt;cmd("sh hard\n"); print $remote-&gt;waitfor('/mr-ferx2&gt;/'); $remote-&gt;close(); </code></pre> <p>it prints the output for "sh ver" command then pattern match timed out error in the line before the last line.</p> <p>this is my prompt router1></p> <p>what sequence do I have to follow to execute the command and make the script wait to grab all the output. </p>