Can't write to the file
<p>Why can't I write output to the input file?</p> <p>It prints it well, but isn't writing to the file.</p> <pre><code>my $i; my $regex = $ARGV[0]; for (@ARGV[1 .. $#ARGV]){ open (my $fh, "&lt;", "$_") or die ("Can't open the file[$_] "); $i++; foreach (&lt;$fh&gt;){ open (my $file, '&gt;&gt;', '/results.txt') or die ("Can't open the file "); #input file for (&lt;$file&gt;){ print "Given regexp: $regex\nfile$i:\n line $.: $1\n" if $_ =~ /\b($regex)\b/; } } } </code></pre>
<p>It's unclear whether your problem has been solved.</p> <p>My best guess is that you want your program to search for the regex passed as the first parameter in the files named in the following paramaters, appending the results to <code>results.txt</code>.</p> <p>If that is right, then this is closer to what you need</p> <pre><code>use strict; use warnings; use autodie; my $i; my $regex = shift; open my $out, '&gt;&gt;', 'results.txt'; for my $filename (@ARGV) { open my $fh, '&lt;', $filename; ++$i; while (&lt;$fh&gt;) { next unless /\b($regex)\b/; print $out "Given regexp: $regex\n"; print $out "file$i:\n"; print $out "line $.: $1\n"; last; } } </code></pre>