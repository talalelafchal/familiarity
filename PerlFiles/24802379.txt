How can I dynamically refer to user-specific directories?
<p>I'm trying to run a code that opens user directories on different servers. Right now, it's hard-coded like this: </p> <pre><code>my $existingdir= '/home/nelly/Desktop'; </code></pre> <p>Is there any way that I can dynamically define this directory without hard-coding it, so that it works for whoever is the current user?</p>
<p>If you want to get a Unix user's home path you can use the <code>$ENV</code> hash.</p> <pre><code>my $existingdir = "$ENV{HOME}/Desktop;" </code></pre>
<p><a href="https://metacpan.org/pod/File::HomeDir" rel="nofollow">File::HomeDir</a> is a cross platform module that can be used to get user-specific paths on the current machine.</p> <pre><code>use File::HomeDir; # Modern Interface (Current User) $home = File::HomeDir-&gt;my_home; $desktop = File::HomeDir-&gt;my_desktop; $docs = File::HomeDir-&gt;my_documents; $music = File::HomeDir-&gt;my_music; $pics = File::HomeDir-&gt;my_pictures; $videos = File::HomeDir-&gt;my_videos; $data = File::HomeDir-&gt;my_data; $dist = File::HomeDir-&gt;my_dist_data('File-HomeDir'); $dist = File::HomeDir-&gt;my_dist_config('File-HomeDir'); # Modern Interface (Other Users) $home = File::HomeDir-&gt;users_home('foo'); $desktop = File::HomeDir-&gt;users_desktop('foo'); $docs = File::HomeDir-&gt;users_documents('foo'); $music = File::HomeDir-&gt;users_music('foo'); $pics = File::HomeDir-&gt;users_pictures('foo'); $video = File::HomeDir-&gt;users_videos('foo'); $data = File::HomeDir-&gt;users_data('foo'); </code></pre>
<p>Yes, you can remove the hard-coded. Store directory path in config.txt file in app or software directory.</p> <p>And you can re-write that file if directory is changed.</p> <p>If you know ini file, then its better. You can store other options in ini file too.</p> <p>I use ini to store user data, like startup minimize, skin settings, user info, etc.</p>
<p>Sounds like you are asking how to locate the current user's desktop, which you can do as follows:</p> <pre><code>my $desktop = "$ENV{HOMEDRIVE}\\$ENV{HOMEPATH}\\Desktop"; </code></pre>
<p>The %ENV hash is a built in variable that holds environment settings like your home directory, $ENV{HOME}. Use the Data::Dumper module to see what ENV holds in your script.</p> <pre><code>use Data::Dumper; print Dumper( %ENV ); </code></pre>