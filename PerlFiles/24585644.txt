References in perl: Error in perl code
<p>Here is my code:</p> <pre><code> #!/usr/bin/perl -w my $name = "mark"; my $nameRef = \$name; print "${$nameRef}\n"; print "$nameRef\n"; my $ref = $nameRef + 1; $$ref = "antony"; print "$ref\n"; print "$$ref\n"; </code></pre> <p>But when I run the code I get the following error:</p> <pre><code>mark SCALAR(0x9556cf8) Modification of a read-only value attempted at ./stringPerl.pl line 7. </code></pre> <p>How to remove the above error?</p>
<p>The line that causes the error is:</p> <pre><code>$$ref = "antony"; </code></pre> <p>That tries to asign the value "antony" to the referenced variable by $ref, but the line:</p> <pre><code>my $ref = $nameRef + 1; </code></pre> <p>It's not a valid reference. Try to replace simply by:</p> <pre><code>my $ref = $nameRef; </code></pre> <p>So <code>$ref</code> is the same as <code>$nameRef</code>, which is a reference to <code>$name</code>.</p> <p>If you want to change a value in an array via a reference, you may write this:</p> <pre><code>my @names = ("mark"); my $nameRef = \@names; $nameRef-&gt;[1] = "antony"; print "$names[1]\n"; print "$nameRef-&gt;[1]\n"; </code></pre>
<p>Perl string references are not C string pointers. You cannot take a reference and increment it to point somewhere else.</p> <p>When you do <code>my $ref = $nameRef + 1;</code>, it actually takes the <code>SCALAR(0x9556cf8)</code> string and adds 1, making it a string, not a reference.</p> <p>Not sure what you are trying to do exactly.</p>