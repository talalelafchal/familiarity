Perl Net Telnet to run a command in background and proceed
<pre><code>my $host = "some ip"; print "telnet into $host"; my $telnet = new Net::Telnet(); $telnet-&gt;open(Timeout=&gt;10, Errmode=&gt;'die', Host =&gt; $host ); $telnet-&gt;waitfor ( "/login:/" ); $telnet-&gt;print("user1\n"); $telnet-&gt;waitfor ( "/password:/" ); $telnet-&gt;print("passwd1\n"); $telnet-&gt;cmd("telnet &lt;different ip&gt; &lt;port number&gt; | tee /tmp/log"); print "look at /tmp/log later, proceeding further..."; </code></pre> <p>This code creates the /tmp/log file and adds the messages from "telnet " to file /tmp/log, but its timing out in few seconds, I want it to run <em>cmd("telnet | tee /tmp/log");</em> and proceed further without waiting for a prompt or timeout, so the /tmp/log will keep collecting all the messages printed for me to look at it later.</p>
<p>Net::Telnet only connects you to a remote shell. Executing commands in the background is a feature of the shell, so it does not need to be a feature of Net::Telnet. E.g. you should be able to run a command in the background like <code>some-command &gt;/tmp/foo &amp;</code> or a chain of commands with <code>( some | more | commands ) &gt; /tmp/bar &amp;</code>. The syntax how you do this depends on the shell you connect to with Net::Telnet.</p>