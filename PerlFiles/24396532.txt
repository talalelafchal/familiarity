How can I use perl/awk/sed to search for all occurrences of text wrapped in quotes within a file and then delete them?
<p>How can I use perl, awk, or sed to search for all occurrences of text wrapped in quotes within a file, and print the result of deleting those occurrences from the file? I do not want to actually alter the file, but simply print the result of altering the file like sed does. </p> <p>For example, say the file contains the following :</p> <pre><code>data|more data|"not important"|"more unimportant stuff" </code></pre> <p>I need it to print out:</p> <pre><code>data|more data|| </code></pre> <p>But I want to leave the file intact. I tried using sed but I could not get it to accept regexs.</p> <p>I have tried something like this:</p> <pre><code>sed -e 's/\&lt;["]+[^"]*["]+\&gt;//g' file.txt </code></pre> <p>but it does nothing and prints the original file. Any Thoughts?</p>
<p>You seem to have a few extra characters in your <code>sed</code> command.</p> <pre><code>sed -e 's/"[^"]*"//g' file.txt </code></pre> <p>Input:</p> <pre><code>"quoted text is here" but not quoted there never more "hello world" foo bar data|more data|"not important"|"more unimportant stuff" </code></pre> <p>Output:</p> <pre><code> but not quoted there never more foo bar data|more data|| </code></pre>
<pre><code>echo 'data|more data|"not important"|"more unimportant stuff"' | sed -E 's/"[^"]*"//g' </code></pre> <p>You don't need to declare a character class (brackets) for only one character...</p>
<p>Using a perl one-liner:</p> <pre><code>perl -pe 's/".*?"//g' file </code></pre> <h3>Explanation:</h3> <p><strong>Switches</strong>: </p> <ul> <li><code>-p</code>: Creates a <code>while(&lt;&gt;){...; print}</code> loop for each line in your input file. </li> <li><code>-e</code>: Tells <code>perl</code> to execute the code on command line. </li> </ul>
<pre><code>my $cnt=qq(data|more data|"not important"|"more unimportant stuff"); my @arr = $cnt =~ m{(?:^|\|)([^"][^\|]*[^"])(?=\||$)}ig; print "@arr"; </code></pre> <p>This code might help you..</p>