For loop to match desired record value in array
<p>I want to print those record has which has 5 pipe delimiter and first name matches to CHINA. I have tried below method but no output.</p> <pre><code>my @country_records = ( 'CHINA|hk|UK|pak|ind|arg', 'HK|UK|Pak|ARG|Nep', 'Lon|WC|Chile|SA', 'CHINA|hk|UK|pak|arg|ind', 'CHINA|AFg|UK|pak|arg', ); for my $item (@county_records) { my $value = q( awk -F '|' -v string=CHINA 'NF == 5 &amp;&amp; $item == string' ); my $record = system($value); print $item; } </code></pre>
<p>No need to invoke awk for this:</p> <pre><code>my @items = split /\|/, $item, -1; if ((@items == 6) &amp;&amp; ($items[0] eq 'CHINA')) { print $item; } </code></pre> <p><code>split</code> on the <code>|</code> character then check it gives 6 items and the first one is <code>CHINA</code>.</p>
<p>Not AWK, using Perl regex match:</p> <pre><code>my @counrty_records = ( 'CHINA|hk|UK|pak|ind|arg' , 'HK|UK|Pak|ARG|Nep' , 'Lon|WC|Chile|SA' , 'CHINA|hk|UK|pak|arg|ind' , 'CHINA|AFg|UK|pak|arg' ); foreach ( @counrty_records ) { print $_ . '&lt;br&gt;' if $_ =~ /^CHINA(\|[^\|]*){5}$/; } </code></pre> <p>Loop through array of pipe delimited records, print those records starting with "CHINA" (case sensitive), and followed by 5 pipe delimiters, each delimiter followed by 0 or more non-pipe characters.</p> <p>If you prefer to match CHINA case insensitive, then add the "i" modifier:</p> <pre><code>/^CHINA(\|[^\|]*){5}$/i </code></pre>