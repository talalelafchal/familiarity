Getting SOAP::Lite to omit types in queries
<p>I'm trying to get a Perl script using SOAP::Lite to talk to a web service.</p> <p>I have a WSDL for the service, but some fields have their type defined as a complexType / simpleType without a name specified.</p> <p>The server validates the typing information that I send with the request, failing it due to the incorrect type being given.</p> <p>How can I overcome this problem? It seems that the server is happy if I omit the typing information in a manual request, but I'm struggling to get SOAP::Lite to not emit a type (If I don't specify one, it guesses one). Another option would be to supply the type that the server expects, but I haven't been able to figure out what that is. (Supplying raw XML would work as well, but it feels dirty...)</p> <p>WSDL for such a field:</p> <pre><code> &lt;xs:element name="Description"&gt; &lt;xs:annotation&gt; &lt;xs:documentation&gt;Free text field&lt;/xs:documentation&gt; &lt;/xs:annotation&gt; &lt;xs:simpleType&gt; &lt;xs:restriction base="xs:string"&gt; &lt;xs:maxLength value="4000"/&gt; &lt;/xs:restriction&gt; &lt;/xs:simpleType&gt; &lt;/xs:element&gt; </code></pre> <p>I have tried to tag it as <code>xs:string</code>, but that is not accepted either.</p>
<p>From <a href="http://search.cpan.org/~byrne/SOAP-Lite/lib/SOAP/Lite.pm" rel="nofollow">documentation</a></p> <blockquote> <p>autotype()</p> <p>Shortcut for serializer->autotype(). This lets you specify whether the serializer will try to make autotyping for you or not. Default setting is true.</p> </blockquote> <p>So turn this off.</p>