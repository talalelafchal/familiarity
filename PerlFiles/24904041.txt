How to store output of a command run remotely in an array in perl
<p>I know this kind of question has been asked before, but I think I may have got lost trying to understand the examples provided in the responses. So I am asking it here again.</p> <p>I have to collect list of files(absolute filenames only) from a particular folder on a remote machine. </p> <p>On my Linux machine:</p> <p><code>opendir</code> - works locally. I want it to work remotely.</p> <p><code>use Net::FTP</code> - works but FTP disabled.</p> <p><code>use Net::SFTP</code> - could work but this Net::SFTP not installed. </p> <p>I want some way to get this info considering that I have to make use of either sftp or ssh.</p> <pre><code>my $cmd = "ssh user\@host 'find x/y/z -type f'"; my @expectedOutputHere = system($cmd); </code></pre> <p>But <code>$expectedOutputHere</code> doesn't contain the list of files(as output). Once I have the output I am planning to use File::Basename::basename to get absolute names. But how do I first collect the output in an array?</p>
<pre><code>my @expectedOutputHere = `$cmd`; </code></pre> <p>The <a href="http://perldoc.perl.org/perlop.html" rel="nofollow">manual</a> says: <code>The collected standard output of the command is returned</code>, <code>In list context, returns a list of lines</code>.</p> <p>For <code>system()</code>, the manual specifies: <code>The return value is the exit status of the program</code>.</p>
<p>Try this:</p> <pre><code>my $cmd = "ssh user\@host 'find x/y/z -type f'"; my @expectedOutputHere = `$cmd`; chomp(@expectedOutputHere); print Dumper @expectedOutputHere; </code></pre>