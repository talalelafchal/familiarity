perl cgi how to store/send data entered by user in dynamic table
<p>After reading few threads from this forum , i was able to create a CGI page , with dynamic table in it. Now i need to capture the information entered in the table and store it in backend ( I am planning to store into db ). </p> <p>Can someone please show me how do it . I heard that it can be done using jquery and AJAX. But i am new to web technology and stuck not knowing how to proceed with them.</p> <p><strong>NOTE</strong>: as I mentioned its a dynamic table. User add/delete rows as many as he wants. I need to capture all those data. </p> <p>This is what i have tried so far</p> <p><strong>Perl CGI script</strong></p> <pre><code>#!C:\Program Files\Perl\bin\perl use strict; use warnings; use CGI qw{ :standard }; use CGI::Carp qw{ fatalsToBrowser }; print_page_header(); print_html_head_section(); ################# ## Subroutines ## ################# sub print_page_header { print "Content-type: text/html\n\n"; } sub print_html_head_section { print "&lt;head&gt;\n"; print "&lt;title&gt;sample test page&lt;/title&gt;\n"; print "&lt;script src='http://ajax.googleapis.com/ajax/libs/jquery/1.10.2/jquery.min.js' type='text/javascript'&gt;&lt;/script&gt;\n"; print "&lt;script src='../js/mastertable_rowcontrol.js' type='text/javascript'&gt;&lt;/script&gt;\n"; #print qq{ # &lt;script&gt; # function myFunction() { # var table=document.getElementById("master_table"); # for (var i=1;i&lt;table.rows.length;i++) { # alert(table.rows.[i].cells[0].innerHTML); # } # } # &lt;/script&gt; # }; print "&lt;/head&gt;\n"; } print qq{ &lt;table id="master_table" border="0"&gt; &lt;tr&gt; &lt;th&gt;COL1&lt;/th&gt; &lt;th&gt;COL2&lt;/th&gt; &lt;th&gt;COL3&lt;/th&gt; &lt;th&gt;COL4&lt;/th&gt; &lt;td&gt;&amp;nbsp;&lt;/td&gt; &lt;/tr&gt; &lt;tr&gt; &lt;td&gt; &lt;input type="text" name="col1" class="col1"/&gt; &lt;/td&gt; &lt;td&gt; &lt;input type="text" name="col2" class="col2"/&gt; &lt;/td&gt; &lt;td&gt; &lt;input type="text" name="col3" class="col3"/&gt; &lt;/td&gt; &lt;td&gt; &lt;input type="text" name="col4" class="col4"/&gt; &lt;/td&gt; &lt;td&gt; &lt;input type="button" name="addRow" class="add" value='Add'/&gt; &lt;/td&gt; &lt;td&gt; &lt;input type="button" name="removeRow" class="removeRow" value='Delete'/&gt; &lt;/td&gt; &lt;/tr&gt; &lt;tr&gt; &lt;td colspan="4" align="center"&gt; &lt;input type="button" name="submit_data" class="submit" value="Submit" onclick="myFunction()"/&gt; &lt;/td&gt; &lt;/tr&gt; &lt;/table&gt; }; </code></pre> <p><strong>jquery used to create dynamic table</strong> </p> <pre><code>$(document).ready(function () { $(document).on('click','#master_table .add',function () { var row=$(this).closest('tr'); var clone = row.clone(); var tr= clone.closest('tr'); tr.find('input[type=text]').val(''); $(this).closest('tr').after(clone); var $span=$("#master_table tr"); $span.attr('id',function (index) { return 'span' + index; }); }); $(document).on('click','#master_table .removeRow',function () { if ($('#master_table .add').length &gt; 1) { $(this).closest('tr').remove(); } }); }); </code></pre>
<p>It would be easier if you built a dynamic-table using HTML, and have it submit the user-input to a Perl script for further processing or assorting, as needed. </p> <p>Just design a HTML Form that looks like a table (you can use most of the code you have already written). To submit it to the perl script, you need to do this:</p> <pre><code>&lt;form action="/somefolder/yourperlscript.pl" method="POST"&gt; &lt;!-- Your Table here --&gt; &lt;/form&gt; </code></pre> <p>You may remember, that in linux the location of your file should begin with "/somefolder/yourscript.pl" while on windows, it should be with the slash in the beginning "somefolder/yourscript.pl </p>