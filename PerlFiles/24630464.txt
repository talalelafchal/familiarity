Perl forloop continuing before print has completed
<p>I have a for loop which takes a value from the user and compares it and prints a result based on the input. However the next iteration starts its print statement before the if in the previous one has printed out the result of the interpretation of the input :</p> <pre><code>for $count (0 .. $group_count) { my $group_name = groups[$count]; my $answer = prompt "\nWould you like to add $user to group $group_name? [y/n]"; if($answer eq 'y') { print "successful"; } } </code></pre> <p>So once I hit enter after the prompt the next <code>"Would you like to add ..."</code> appears then afterwards <code>"successful"</code> is printed, is there a way to block the iterations until the prints have completed?</p>
<p>Since you do not reply, I will have to guess what your problem is. My guess is that you are seeing something like:</p> <pre><code>Would you like to add foo to group A? [y/n] $ y # nothing happens successful Would you like to add bar to group B? [y/n] </code></pre> <p>This is because <code>print</code> uses buffering when printing. When you print something that does not contain a newline <code>\n</code> it is simply added to the buffer, but not printed right away. So, if you want to see it printed, just add a newline:</p> <pre><code>print "Successful\n"; </code></pre> <p>Technically, you could also tamper with the stdout buffer via <a href="http://perldoc.perl.org/perlvar.html#%24%7C" rel="nofollow"><code>$|</code></a>, but I think that is overkill in this context.</p>