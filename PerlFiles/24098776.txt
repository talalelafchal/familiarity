How to replace characters in a file utf8 in perl?
<p>I have something like this (it works):</p> <pre><code>perl -C -MText::Unidecode -n -i -e'print unidecode( $_)' unicode_text.txt </code></pre> <p>and now i want to do the same in the script:</p> <pre><code>#!/usr/bin/perl -w -CSA use utf8; use Text::Unidecode; while(&lt;&gt;) { print unidecode($_); } </code></pre> <p>but it doesn't work. </p>
<p>You should have got the error message</p> <pre><code>Too late for "-CSA" option </code></pre> <p>which is what makes the program read the input file as UTF-8-encoded.</p> <p>Instead you need to put</p> <pre><code>use open qw( :std :utf8 ); </code></pre> <p>before the <code>while</code> loop, which does the same as <code>-CS</code> on the command line, i.e. to set the <code>STDIN</code>, <code>STDOUT</code> and <code>STDERR</code> handles to UTF-8 encoding</p>