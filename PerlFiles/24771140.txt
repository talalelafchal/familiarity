how to read special characters in perl?
<p>I have a file that contains the following text:</p> <pre><code> óó é ó óóó </code></pre> <p>I want to be able to read this characters and manipulate them in perl.</p> <p>In fact, I want to use statements such as s/ó/o/g; and so on.</p> <p>When I type file -i file.txt for the file which has the text above, I get that the file is "regular file". So I think this means I don't need to take special care to treat this file in perl. However, just reading the file using and spitting back what I read gives questions marks. So clearly something is missing.</p> <p>I tried 'use bytes' in the beginning of the perl script, but that didn't help.</p> <p>Any ideas how I can read this file in perl and manipulate it such as the way above?</p> <p>By the way, an xxd dump of the file, contains for example:</p> <p>c3b3c3b30ac3a90ac3b30ac3b3c3b3c3b30ac3b30ac3b3c3b3c3b30ac3b3</p> <p>if someone needs to recover the exact characters it uses.</p>
<p>What version of Perl are you using and on what platform or operating system? This should be straightforward operation if <em>you are using unicode throughout</em> (your terminal or console fonts, your <code>locale</code> settings, the file encoding, etc.)</p> <p>I copied the above text into a file I created in an Xterminal using <code>vim</code>:</p> <pre><code>~/$ file -i utf8.txt utf8.txt: text/plain; charset=utf-8 ~$/ xxd -p utf8.txttext c3b3c3b30ac3a90ac3b30ac3b3c3b3c3b30a ~/$ perl -npE 's/ó/o/g; s/é/ë/g' utf8.txt oo ë o ooo </code></pre> <p>I also used <code>xxd -r -p</code> to create a file from the dump string you included above (which was different than the one displayed in your post). The results were the same: <code>perl</code> had no issue with the accents. </p> <p>Perhaps your issue is due to the text and encoding settings of your environment. If your <code>locale</code>settings, the font you are using for your terminal, or the file's encoding are inconsistent in some way you may end up with improperly displayed text.</p> <p>The <code>perldoc</code> documentation for <a href="http://perldoc.perl.org/perlunicode.html" rel="nofollow"><code>perlunicode</code></a> and the tutorial <a href="http://perldoc.perl.org/perlunitut.html" rel="nofollow"><code>perlunitut</code></a> go into the necessary details if you want to understand things more thoroughly, but I'd recommend checking <code>LOCALE</code> settings and the like to begin.</p>