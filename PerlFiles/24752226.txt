Set start date and end date for cron script manually
<p>I have a cron script for retrieving a report through an API which is scheduled to cron everyday and it retrieves the report of the previous day activity.</p> <pre><code>my $date = time2str('%Y-%m-%d', ( time - 86400 )); my %api = ( 'example' =&gt; { 'example1' =&gt; 'example2', }, 'example3' =&gt; { 'example4' =&gt; 'example5', }, ); foreach my $example (keys %api) { my $file_name = $api{$example}{example}."&amp;date=" . $date; &amp;function( $file_name, $example, $date ); } sub function { my ($file_name, $example, $date) = @_; my $file_name = $example . $date . ".csv"; open (FH, "&gt;$file_name") || print "unable to write $!"; close(FH); } </code></pre> <p>But now I want to run the script manually from start date 15-05-2014 to end date 15-07-2014. How to do that?</p>
<p>I think you'd have to modify that <code>$date</code> variable for all the days you want to run the script:</p> <pre><code>my %api = ( 'example' =&gt; { 'example1' =&gt; 'example2', }, 'example3' =&gt; { 'example4' =&gt; 'example5', }, ); use DateTime; my $date = DateTime-&gt;new( year =&gt; 2014, month =&gt; 5, day =&gt; 15, ); while ( $date-&gt;ymd le '2015-07-15' ){ foreach my $example (keys %api) { my $file_name = $api{$example}{example}."&amp;date=" . $date; &amp;function( $file_name, $example, $date ); } $date = $date-&gt;add(days =&gt; 1); } sub function { my ($file_name, $example, $date) = @_; my $file_name = $example . $date . ".csv"; open (FH, "&gt;$file_name") || print "unable to write $!"; close(FH); } </code></pre>