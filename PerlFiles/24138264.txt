Error: 302 Moved Temporarily
<p>When I execute the code it gives the 302 Moved Temporarily Error If you find any mistake inthis code please let us .</p> <pre><code>#!C:\Perl64\bin\perl print "Content-type: text/html\n\n"; # seraph.pl - search for Codex Seraphinianus on abebooks use strict; my $out_file = "result_seraph.html"; # where to save it use LWP; my $browser = LWP::UserAgent-&gt;new; my $response = $browser-&gt;post('http://dogbert.abebooks.com/abe/BookSearch', # That's the URL that the real form submits to. [ "ph" =&gt; "2", "an" =&gt; "", "tn" =&gt; "Codex Seraphinianus", "pn" =&gt; "", "sn" =&gt; "", "gpnm" =&gt; "All Book Stores", "cty" =&gt; "All Countries", "bi" =&gt; "Any Binding", "prl" =&gt; "", "prh" =&gt; "", "sortby" =&gt; "0", "ds" =&gt; "100", "bu" =&gt; "Start Search", ] ); die "Error: ", $response-&gt;status_line, "\n" unless $response-&gt;is_success; open( OUT, "&gt;$out_file" ) || die "Can't write-open $out_file: $!"; binmode(OUT); print OUT $response-&gt;content; close(OUT); print "Bytes saved: ", -s $out_file, " in $out_file\n"; </code></pre> <p>what correction I can apply on it Please let me know </p>
<p>You are using the same code as it is from Perl &amp; LWP book: <a href="http://lwp.interglacial.com/ch05_06.htm" rel="nofollow">http://lwp.interglacial.com/ch05_06.htm</a></p> <p>Which is very old, and meanwhile the URL it refers to has moved, which is exactly what the error message says.</p> <p>To solve this you'll have to allow the redirection, use the below code</p> <pre><code>my $browser = LWP::UserAgent-&gt;new; push @{$browser-&gt;requests_redirectable}, 'POST'; </code></pre>
<p>From <a href="https://metacpan.org/pod/LWP%3a%3aUserAgent" rel="nofollow">the manual</a>:</p> <blockquote> <p><strong>$ua->requests_redirectable( \@requests )</strong></p> <p>This reads or sets the object's list of request names that <code>$ua-&gt;redirect_ok(...)</code> will allow redirection for. By default, this is <code>['GET', 'HEAD']</code>, as per RFC 2616. To change to include 'POST', consider:</p> <pre><code>push @{ $ua-&gt;requests_redirectable }, 'POST'; </code></pre> </blockquote>