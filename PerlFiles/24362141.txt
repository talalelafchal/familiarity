How to redirect output from interactive perl script to file and console?
<p>I have a complex interactive script working with version control software (clearcase). I.e. user selects the options proposed in the console. Script should be executed (with interactivity and output to the console) and the entire output of this script should be saved to a file for further processing. For example, line </p> <pre><code>perlscript | tee output.tmp </code></pre> <p>displays the first two printOut from perl script, then (probably at the time of extracting information from the version control system) execution stops (nothing happens) and nothing is written to the file. I use csh. I can not change perl script. You must do it in csh. Perhaps this can be done with an additional perl script.</p>
<p>You can use the <code>script</code> command to capture a log of the entire session.</p> <p>Just type:</p> <pre><code> script &lt;logfilename&gt; </code></pre> <p>Before running your script as normal. When you have finished type <code>exit</code> to close the log file.</p> <p>If you want to incorporate this into your script you can make a wrapper script to run it like this:</p> <pre><code>#!/bin/bash script "My_logfile" my_script </code></pre> <p>This will create the log file and run <code>my_script</code>. When the script ends the log file will be closed.</p>
<p>I think if you cannot change your script, you need a wrapper to overwrite the STDOUT to a file.</p> <pre><code>#! /usr/bin/perl my $file = "out.txt"; open STDOUT, "&gt;$file"; system("your perlscript"); </code></pre>