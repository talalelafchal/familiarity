perl can't find installed modules but CPAN can, plus I can find them. Why can't perl?
<p>I'm using macports supplied perl 5.16.3 installed in /opt/local/bin on my macbook 10.6</p> <pre><code>jason-danckss-macbook:eg Jason$ which perl /opt/local/bin/perl </code></pre> <p>I was testing the demo.pl file that came with AI:Categorizer.pm from metaCPAN. I installed AI:Categorizer via CPAN supplied with macports perl:</p> <p>tried to run it:</p> <p>original:</p> <pre><code>./demo.pl /users/Jason/Desktop/Dropbox/capstone/capstone/notes/HTML/sock Can't locate AI/Categorizer.pm in @INC (@INC contains: /sw/lib/perl5/5.10.0/darwin-thread-multi- 2level /sw/lib/perl5/5.10.0 /sw/lib/perl5/darwin-thread-multi-2level /sw/lib/perl5 /sw/lib/perl5 /darwin /Library/Perl/Updates/5.10.0 /System/Library/Perl/5.10.0/darwin-thread-multi-2level /System/Library/Perl/5.10.0 /Library/Perl/5.10.0/darwin-thread-multi-2level /Library/Perl/5.10.0 /Network/Library/Perl/5.10.0/darwin-thread-multi-2level /Network/Library/Perl/5.10.0 /Network /Library/Perl /System/Library/Perl/Extras/5.10.0/darwin-thread-multi-2level /System/Library /Perl/Extras/5.10.0 .) at ./demo.pl line 21. BEGIN failed--compilation aborted at ./demo.pl line 21. </code></pre> <p>slightly modified with: <code>use lib "/opt/local/lib/perl5/5.16.3";</code> because that's where the modules are being written when I use CPAN (I use <code>perl -MCPAN -e shell</code> IDK if that matters)</p> <pre><code>jason-danckss-macbook:eg Jason$ ./demo.pl ../HTML/sock Can't locate AI/Categorizer.pm in @INC (@INC contains: /opt/local/lib/perl5/5.16.3/darwin-thread- multi-2level /opt/local/lib/perl5/5.16.3 /sw/lib/perl5/5.10.0/darwin-thread-multi-2level /sw/lib /perl5/5.10.0 /sw/lib/perl5/darwin-thread-multi-2level /sw/lib/perl5 /sw/lib/perl5/darwin /Library/Perl/Updates/5.10.0 /System/Library/Perl/5.10.0/darwin-thread-multi-2level /System /Library/Perl/5.10.0 /Library/Perl/5.10.0/darwin-thread-multi-2level /Library/Perl/5.10.0 /Network/Library/Perl/5.10.0/darwin-thread-multi-2level /Network/Library/Perl/5.10.0 /Network /Library/Perl /System/Library/Perl/Extras/5.10.0/darwin-thread-multi-2level /System/Library /Perl/Extras/5.10.0 .) at ./demo.pl line 21. BEGIN failed--compilation aborted at ./demo.pl line 21. </code></pre> <p>check its in the right spot:</p> <pre><code>jason-danckss-macbook:eg Jason$ find /opt/local/lib/perl5 -name 'Categorizer.pm' /opt/local/lib/perl5/site_perl/5.16.3/AI/Categorizer.pm </code></pre> <p>I even tried to use diagnostic. Neither I nor perl can find diagnostic.pm. CPAN cant find it. I'm guessing it was removed in more recent perl versions?</p> <p>OK so I have both fink and macports on my computer, along with a default perl installation. the macports version perl is the first perl found in $PATH. I'm OK with it after all its its pretty recent: 5.16.3</p> <p>I don't know or think reading modules from multiple locations is a bad idea. but IDK. I'd hate to think what kind of gymnastics I might need to do to fix this.</p> <p>Has anyone encountered this before?</p>
<p>I have just had a look at the <code>AI::Categorizer</code> bundle and the included <code>demo.pl</code> file has a hardcoded shebang of <code>#!/usr/bin/perl</code> so I believe it is trying to use the system perl. </p> <p>Assuming you haven't already tried changing this line (the first line of <code>demo.pl</code>) to point at <code>/opt/local/bin/perl</code> then I suspect doing so will fix your problem. </p> <p>You might also consider setting the shebang to <code>/usr/bin/env perl</code> which should use the version of <code>perl</code> from your path. Also have a look at <a href="http://perlbrew.pl">perlbrew</a> which is probably a better way to install non-system versions of Perl.</p>