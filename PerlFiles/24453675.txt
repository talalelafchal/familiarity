Recursive delete files using perl script
<p>I would like to delete all the file in a directory using only "rmdir" in perl script. I'm trying to clean up a directory first and then trying to write file. I know i can just use rmtree (" directory path"); but i'm unable to use that for FTP server (use Net::FTP;). and rmdir looks for empty directory. i have tried "remove_tree" and "rm -rf". i do have read/write access to the server, but i'm unable to delete files.</p> <p>Perl script:</p> <pre><code>finddepth (\&amp;remove_dir, "$path"); rmdir ( "$path" ) or die ("Could not remove $path"); sub remove_dir { # for a path, this will be 0 if ( ! (stat("$File::Find::name"))[7] ) { $ftp-&gt;rmdir("$File::Find::name"); } else { $ftp-&gt;unlink("$File::Find::name"); } } </code></pre>
<pre><code>$ftp-&gt;rmdir($dir_name, 1); </code></pre> <p><a href="https://metacpan.org/pod/Net%3a%3aFTP#rmdir-DIR-RECURSE" rel="nofollow">https://metacpan.org/pod/Net::FTP#rmdir-DIR-RECURSE</a></p>