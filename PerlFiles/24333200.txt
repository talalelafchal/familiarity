search and replace a pattern in a line in perl
<p>I need a help with regular expression:</p> <p>I have a file which has a line like this:</p> <pre><code>label 9 { V { some_text ; } W { some_text;} } #12345. </code></pre> <p>now the condition is, if the line has label 9, I have to replace it with NOP (everything else on the line should remain the same) and I can't seem to figure out why</p> <p>This is what I did (only releveant portion of the code):</p> <pre><code>my $cur_line = $_; if($cur_line =~ s/label\s+9/) { $cur_line =~ s/label\s+9/NOP/; print "$cur_line"; } </code></pre> <p>Thanks!</p>
<p>Your code did not compile for me untill I changed:</p> <pre><code>if($cur_line =~ s/label\s+9/) </code></pre> <p>to:</p> <pre><code>if($cur_line =~ /label\s+9/) </code></pre> <p>Note the <code>s/</code>. Then, it performed the substitution you desire.</p> <p>You can simplify this as:</p> <pre><code>my $cur_line = $_; if ($cur_line =~ s/label\s+9/NOP/) { print $cur_line; } </code></pre>