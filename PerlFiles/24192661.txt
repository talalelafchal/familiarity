How can I populate an HTML &lt;select&gt; element with values from a database?
<p>I am trying to get values from a database and place them in a dropdown list within an HTML <code>&lt;select&gt;</code> tag.</p> <p>I'm able to get the values in a long string and display all of them within a single option but I want to put each value in a separate <code>&lt;option&gt;</code> tag. I just don't know what logic I could use to do this.</p> <p>Here's what I have so far:</p> <pre><code>#!c:\perl\bin\perl.exe use CGI; require ("data_eXchangeSubs.pm"); $query = new CGI; print $query-&gt;header(-expires=&gt;'-1d'); print $query-&gt;start_html( -title=&gt;'Dex Vendor Testing', -bgcolor=&gt;'white' ); $user = $query-&gt;param("user"); my $dataX = ${ConnectToDatabase($main::DBone, $main::dataENV)}; $resultSet = $dataX-&gt;Execute("select vendor from dex_vendor_info group by vendor"); while(!$resultSet-&gt;EOF) { $vendors .= $resultSet-&gt;Fields("vendor")-&gt;Value."\n"; $resultSet-&gt;MoveNext; } print &lt;&lt;ONE; &lt;table width=75% border=0&gt; &lt;th colspan=2 align=left&gt;&lt;strong&gt;&lt;font size=5pt color=#FF6633 face=garamond&gt;Vendor Information&lt;/strong&lt;/font&gt;&lt;hr size=4pt color=midnightblue&gt;&lt;/th&gt; &lt;tr&gt; &lt;td align=left nowrap&gt;&lt;font size=4pt face=garamond&gt;&lt;label id=lVendor for=vendor&gt;&lt;strong&gt;Company Name&lt;/strong&gt;&lt;/font&gt;&lt;/label&gt;&lt;/td&gt; &lt;td align=left nowrap&gt;&lt;font size=4pt face=garamond&gt;&lt;label id=lVendor for=vendor&gt;&lt;strong&gt;Contact's Name&lt;/strong&gt;&lt;/font&gt;&lt;/label&gt;&lt;/td&gt; &lt;/tr&gt; &lt;tr&gt; &lt;td align=left nowrap&gt;&lt;select id="vendors"&gt; &lt;option&gt;$vendors&lt;/option&gt; &lt;/td&gt; &lt;/td&gt; &lt;td align=left nowrap&gt;&lt;input type=text name="contact" id=contact value="" size=25&gt;&lt;/td&gt; &lt;/tr&gt; &lt;/table&gt; &lt;br&gt; ONE print $vendors; print $query-&gt;end_html; </code></pre>
<p>If you're using CGI, then use CGI. </p> <pre><code>print $query-&gt;popup_menu( -name =&gt; 'vendors' , -values =&gt; \@list_of_vendors , -default =&gt; $default_vendor ); </code></pre> <p>And you get <code>@list_of_vendors</code> in your row processing loop:</p> <pre><code>my @list_of_vendors; while(!$resultSet-&gt;EOF) { push @list_of_vendors, $resultSet-&gt;Fields("vendor")-&gt;Value; $resultSet-&gt;MoveNext; } </code></pre> <p>If you want labels to be a different text value from values include <code>-labels</code> tag in the call and point it to an array ref containing the text you want visible. </p>