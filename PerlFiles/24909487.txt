how to compare two range in two different files
<p>I have 2 files. 1 file contains data as ranges (1st column) and values (2nd column):</p> <pre><code>1..10 1.5 5..15 4.2 </code></pre> <p>The other file contains data as ranges: </p> <pre><code>3..14 19..23 </code></pre> <p>I want to check whether individual elements of range in data 1 lie within the range of data 2, if yes then counting the number of such individual elements from range of data 1 whose having the value greater than 2.0 (2nd column in data 1). I am not getting how to put these range so that it could solve my problem.</p>
<p>I'm not sure I understood your question correctly, but I tried:</p> <pre><code>#!/usr/bin/perl use warnings; use strict; my @lines1 = ( '1..10 1.5', '5..15 4.2', ); my @lines2 = ( '3..14', '19..23', ); my $sum = 0; for my $line1 (@lines1) { my ($range1, $value) = split ' ', $line1; next if $value &lt;= 2; my ($from1, $to1) = split /\.\./, $range1; for my $range2 (@lines2) { my ($from2, $to2) = split /\.\./, $range2; next if $to2 &lt; $from1 or $to1 &lt; $from2; my $from = $from1 &lt; $from2 ? $from2 : $from1; my $to = $to1 &lt; $to2 ? $to1 : $to2; $sum += $value * ($to - $from + 1); warn "$value from $from to $to"; } } print "$sum\n"; </code></pre> <p>The result is <a href="http://en.wikipedia.org/wiki/42_(number)" rel="nofollow">42</a>, so it must be right.</p>