How is it okay for sendmail to send emails from any domain?
<p>I just tried my hands with the <a href="https://metacpan.org/pod/Mail%3a%3aSendmail#sendmail" rel="nofollow"><code>sendmail</code></a> function as documented in <a href="https://metacpan.org/pod/Mail%3a%3aSendmail" rel="nofollow"><code>Mail::Sendmail</code></a></p> <p>I saw that I was able to send mail with a userid from any domain as long as I have an SMTP server running on localhost. How is this okay? or am I missing something?</p> <p>For instance, I was able to deliver emails with from address such as <code>&lt;myname&gt;@microsoft.com</code> and it did deliver the same way onto my gmail inbox. It did not even get into any junk folder/</p>
<p>Congrats: you've just discovered <a href="http://en.wikipedia.org/wiki/Email_spoofing">email spoofing</a>! :)</p> <p>SMTP does not perform authentication of the sort you imply that it should, e.g. verifying that someone is authorized to send mail from a certain domain -- so anyone with a machine who knows how to run <code>sendmail</code> can do this.</p> <p>Most anti-spoofing measures rely on the owner of a domain (e.g. <code>microsoft.com</code>) doing something which amounts to authenticating whether a message is really from them. For example, they may list every domain they normally send mail from; that's roughly what <a href="http://en.wikipedia.org/wiki/Sender_Policy_Framework">Sender Policy Framework</a> does.</p> <p>If the recipient's server gets a message purporting to be from microsoft.com, it can check to see if that domain lists the server that sent the message. If it doesn't, it will likely increase the probability that it's rated as spam.</p>