Perl issue - If-Statement in OTRS Module
<p>Actually I don't really know Perl, but now I need to change a snippet for OTRS.</p> <p>To explain the context shortly, it's in the Module SystemMonitoring.pm of OTRS:</p> <p>The System writes the values out of an E-Mail via regular expressions and saves in $1. There are three relevant Elements: State, Host and Service. Only in Element State I want to write the value out of $2. In case of Host and Service the informations comes from $1.</p> <p>Here is the snippet:</p> <pre><code> for my $Element (qw(State Host Service)) { next ELEMENT if $AlreadyMatched{$Element}; my $Regex = $Self-&gt;{Config}-&gt;{ $Element . 'RegExp' }; if ( $Line =~ /$Regex/ ) { # get the found element value $Self-&gt;{$Element} = $1; # remember that we found this element already $AlreadyMatched{$Element} = 1; } } </code></pre> <p>I hope somebody can help me with this issue.</p> <p>Thanks alot!</p>
<p>I'll assume that the regex is <code>\s*State:\s+(\w+)\s-&gt;\s+(\w+)</code> as mentioned by the OP.</p> <p>In that case, you can simply test for the value of $Element.</p> <p><code> if ($Element eq 'State') { print $2; } else { print $1; } </code></p> <p>or more concisely,</p> <p><code>print ($Element eq 'State') ? $2 : $1;</code></p>