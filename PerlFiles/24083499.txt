Perl deleting &quot;blank&quot; lines from a csv file
<p>I'm looking to delete blank lines in a CSV file, using Perl.</p> <p>I'm not too sure how to do this, as these lines aren't exactly "blank" (they're just a bunch of commas). </p> <p>I'd also like to save the output as a file of the same name, overwriting the original.</p> <p>How could I go about doing this?</p> <p>edit: I can't use modules or any source code due to network restrictions...</p>
<p>More of a command line hack,</p> <pre><code>perl -i -ne 'print if /[^,\r\n]/' file.csv </code></pre>
<p>If you want to put it inside a shell script you can do this ...</p> <pre><code>#!/bin/sh $(perl -i -n -e 'print $_ unless ($_ =~ /^\,+$/);' $*) </code></pre>
<p>You can do this using a simple Perl one-liner:</p> <pre><code>perl -i -ne 'print unless /^[,\s]*$/' &lt;filename&gt; </code></pre> <p>The <code>-n</code> flag assumes this loop around your program: </p> <pre><code>while(&lt;&gt;) { print unless /^[,\s]*$/; } </code></pre> <p>and the <code>-i</code> flag means inplace and modifies your input file. </p> <p>Note: If you are worried about losing your data with <code>-i</code>, you can specify <code>-i.bak</code> and perl will automatically write the original file to your <code>&lt;filename&gt;.bak</code></p>