What does this HTML::Parser() code do in Perl?
<p>I came across a Perl code using HTML Parser like below</p> <pre><code>my $p = HTML::Parser-&gt;new(text_h =&gt; [ sub {$text .= shift}, 'dtext']); </code></pre> <p>Please help me to understand this.</p>
<p>From the <a href="https://metacpan.org/pod/HTML%3a%3aParser" rel="nofollow"><strong>documentation</strong></a>:</p> <pre><code>$p = HTML::Parser-&gt;new(api_version =&gt; 3, text_h =&gt; [ sub {...}, "dtext" ]); </code></pre> <p>This creates a new parser object with a text event handler subroutine that receives the original text with general entities decoded.</p> <p>Edit: </p> <pre><code>use HTML::Parser; use LWP::Simple; my $html = get "http://perltraining.stonehenge.com"; HTML::Parser-&gt;new(text_h =&gt; [\my @accum, "text"])-&gt;parse($html); print map $_-&gt;[0], @accum; </code></pre> <p>Another</p> <pre><code>#!/usr/bin/perl -w use strict; use HTML::Parser; my $text; my $p = HTML::Parser-&gt;new(text_h =&gt; [ sub {$text .= shift}, 'dtext']); $p-&gt;parse_file('test.html'); print $text; </code></pre> <p>Which, when used on a file like this:</p> <pre><code>&lt;html&gt; &lt;head&gt; &lt;title&gt;Test&lt;/title&gt; &lt;/head&gt; &lt;body&gt; &lt;h1&gt;Test Stuff&lt;/h1&gt; &lt;p&gt;This is a test&lt;/p&gt; &lt;ul&gt; &lt;li&gt;this&lt;/li&gt; &lt;li&gt;is a&lt;/li&gt; &lt;li&gt;list&lt;/li&gt; &lt;/ul&gt; &lt;/body&gt; &lt;/html&gt; </code></pre> <p>produces the following output:</p> <pre><code>Test Test Stuff This is a test this is a list </code></pre> <p>Does that help?</p>