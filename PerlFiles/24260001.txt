How do I extract only numbers(no duplicates) from a text file and find the sum?
<p>For example I have a sentence like:</p> <p>"There are 99 cars in over 99 countries, 50 of which are defective."</p> <p>I need to find out how to get 99 + 50, so basically all the numbers without duplicates in a string and add them together.</p> <p>I am aware that I should use a regular expression to extract the numbers from the string and then split them and place a "+" sign in front of them, but everything I've tried keeps giving me the wrong numbers to work with. </p>
<p>Use <code>sum</code> from List::Util to sum the numbers. Use a hash to get a list of unique numbers.</p> <pre><code>#!/usr/bin/perl use warnings; use strict; use List::Util qw{ sum }; my $string = 'There are 99 cars in over 99 countries, 50 of which are defective.'; my %nums; undef $nums{$1} while $string =~ /([0-9]+)/g; print sum(keys %nums), "\n"; </code></pre>
<p>For integers:</p> <pre><code>use List::Util 'sum'; use List::MoreUtils 'uniq'; my $total = sum( uniq( $sentence =~ /\d+/g ) ); </code></pre>
<p>Using more OO approach, but basically wrapped <code>List::Util</code> and <code>List::MoreUtils</code> by <a href="https://metacpan.org/pod/perl5i" rel="nofollow"><code>perl5i</code></a></p> <pre><code>use perl5i::2; # strict and warnings enabled by default my $sum = [ $sentence =~ /\d+/g ]-&gt;uniq-&gt;sum; </code></pre>