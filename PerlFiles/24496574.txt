Perl retrieving value from PostgreSQL database returning undef
<p>On my User Preferences page I have a perl script:</p> <pre><code>my $prefs = USystems::UserPrefs-&gt;new($user-&gt;userid); </code></pre> <p>which calls on:</p> <pre><code>sub new { my $self = shift; my $class = ref($self) || $self; my $userid = shift; $self = bless {}, $class; $self-&gt;{dbh} = USystems::DB-&gt;new; if($userid) { $self-&gt;userid($userid); $self-&gt;__populate; } return $self; } sub __populate { my $self = shift; my $sth = $self-&gt;{dbh}-&gt;prepare("select prefid, value from user_preferences where userid=?"); $sth-&gt;execute($self-&gt;userid); while(my $href = $sth-&gt;fetchrow_hashref()) { $self-&gt;value($href-&gt;{PREFID}, $href-&gt;{VALUE}, $href-&gt;{OTHERS_POST}); } $sth-&gt;finish(); } </code></pre> <p>Which is suppose to return all of the user's current preferences from the table in the database.</p> <p>When I dump out <code>$prefs</code> I get the following:</p> <pre><code> 'USERID' =&gt; 1286, 'PREFS' =&gt; { '1' =&gt; { 'VALUE' =&gt; 4, 'OTHERS_POST' =&gt; undef } }, </code></pre> <p>The problem is my $prefs is returning <code>undef</code> for <code>OTHERS_POSTS</code> when it should be returning a "1". I expect the problem to be involved with the subs <code>new</code> and <code>__populate</code>but I'm not very experienced with Perl to be able to locate the problem.</p>
<p>You aren't selecting OTHERS_POST as a column, are you? It can't be anything other than undefined.</p>