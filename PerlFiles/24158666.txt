ANT_ Introducing delay between each target
<p>I have an ant file with multiple targets <code>(task 1 , task 2, task3..)</code> I want to implement sleep between each target execution. I did that by introducing new target of <code>sleep</code> (it is Perl file execution contains sleep Perl script). Now, I called the target as:</p> <pre><code>target name="task1" description="XX" depends="sleep" target name="task2" description="XX" depends="sleep" </code></pre> <p>When I do this, my sleep target is executed only once. It is not executing for all the targets. Please guide me to introduce sleep between each target.</p>
<p>Your <code>sleep</code> target is executed only once -- and this is the expected behaviour in Ant to avoid duplicate execution.</p> <p>You can write a <a href="http://grepcode.com/file/repo1.maven.org/maven2/org.apache.ant/ant/1.9.3/org/apache/tools/ant/BuildListener.java#BuildListener" rel="nofollow">BuildListener</a>.</p> <p>Put <code>Thread.sleep(sleepTime)</code> in <code>targetFinished</code> method.</p>
<p>The simplest way would be to execute a <a href="http://ant.apache.org/manual/Tasks/sleep.html" rel="nofollow">sleep</a> Ant task at the start of each target:</p> <pre><code>&lt;target name="targetX" description="xxx"&gt; &lt;sleep seconds="2"/&gt; ... &lt;/target&gt; </code></pre>
<p><strong>You might be <a href="http://perl.plover.com/FAQs/Buffering.html" rel="nofollow">Suffering from Buffering</a></strong>. You can set <code>$|</code> to 1 if you need unbuffered output.</p>