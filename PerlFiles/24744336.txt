Mojolicious Lite file upload
<p>I can't figure out how to upload files to the remote server in Mojolicious Lite. Here's some code, first, html form:</p> <pre><code>&lt;form method='post' action='add_photo'&gt; &lt;input type="file" name="upload" enctype="multipart/form-data"&gt; &lt;button type="submit" class="btn btn-default"&gt;Submit&lt;/button&gt; &lt;/form&gt; </code></pre> <p>and here's an add_photo testing route:</p> <pre><code>post '/add_photo' =&gt; sub { my $self = shift; my %params; my $file = $self-&gt;param('upload'); $params{filename} = $file-&gt;filename; $params{filesize} = $file-&gt;size; $params{worknamne} = $self-&gt;param('name'); $params{stone} = $self-&gt;param('stone'); $params{cat} = $self-&gt;param('cat'); $self-&gt;stash(params =&gt; \%params); $self-&gt;render('test'); }; </code></pre> <p>And here's the error message I recive:</p> <blockquote> <p>Can't locate object method "filename" via package "name_of_file.jpg" (perhaps you forgot to load "name_of_file.jpg"?) at sv line 31</p> </blockquote> <p>Thanks in advance!</p>
<p>The encoding type goes in the form tag, not the file input:</p> <pre><code>&lt;form method="post" action="add_photo" enctype="multipart/form-data"&gt; </code></pre> <p>For a detailed example, just look at: <a href="http://mojolicio.us/perldoc/Mojolicious/Lite#File_uploads" rel="nofollow">Mojolicious::Lite #File uploads</a></p> <p>Also, this question/answer has similar information: <a href="http://stackoverflow.com/questions/10152973/how-upload-file-using-mojolicious">How Upload file using Mojolicious?</a></p>