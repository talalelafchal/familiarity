Extract section of xml from result of curl command on Linux
<p>I am issuing the following command:</p> <pre><code>curl http://localhost:8082/some-url </code></pre> <p>Which returns xml that looks similar to this:</p> <pre><code>&lt;?xml version="1.0" encoding="UTF-8"?&gt;&lt;user&gt;&lt;dateCreated&gt;1&lt;/dateCreated&gt;&lt;dateLastModified&gt;1&lt;/dateLastModified&gt;&lt;id&gt;1&lt;/id&gt;&lt;disabled&gt;false&lt;/disabled&gt;&lt;firstName&gt;&lt;/firstName&gt;&lt;lastName&gt;&lt;/lastName&gt;&lt;/user&gt; </code></pre> <p>What is the easiest way to extract an xml element from the response, e.g. the element "true"?</p> <p>Note, I want the complete opening tag, content, and closing tag (and the content may also be empty.</p> <p>Thanks</p>
<p>Using <code>xml_grep</code>, which comes with <a href="https://metacpan.org/pod/XML%3a%3aTwig" rel="nofollow">XML::Twig</a>, you can do <code>curl http://localhost:8082/some-url | xml_grep --nowrap disabled</code> (I assumed you wanted the content of the <code>disabled</code> element, I don't see any <code>true</code> element in your data)</p>
<p>Would xmllint be an option for you as well?</p> <pre><code>$ curl -s http://localhost:8082/some-url | xmllint --xpath '//user/disabled' - </code></pre>
<p>Or the same with <code>xsh</code> (<a href="http://xsh.sourceforge.net/" rel="nofollow">http://xsh.sourceforge.net/</a>):</p> <pre><code>$ curl -s http://localhost:8082/some-url | xsh -q -I - -C 'ls //user/disabled/text()' </code></pre>