Reading duplicate headings following by data from a file AND writing to a different file with single unique heading and all data
<h1>my data</h1> <pre><code>shift 01 data data data shift 02 data data data shift 01 data data data shift 02 data data data </code></pre> <hr> <h1>what i am trying to do</h1> <pre><code>shift 01 data data data data data data shift 02 data data data data data data </code></pre> <p>my code:</p> <pre><code>my @data = 'FILE' ; if ($linee =~ /$Pattern/){ if (! exists $badge{$1} ) { $match[$i] = $1 ; } } foreach (@data) { do { print "$linee"; } until ($match[$i] == $data[$_] ) ; $i++ ; } </code></pre>
<p>You should use an Hash of Arrays like so ...</p> <pre><code>#!/usr/bin/perl -w use strict; my %hash; my $key; while(&lt;DATA&gt;) { # get rid of line feed char chomp; # skip empty lines next if /^$/; # detected shift change otherwise it's data to associate with the current shift if ( /^shift/ ) { $key=$_; } else { push(@{$hash{$key}},$_); } } # output our data structure for $key ( sort keys %hash ) { print "shift=&gt;$key\n"; for my $data ( @{$hash{$key}} ) { print "$data\n"; } } __DATA__ shift 01 data data data shift 02 data data data shift 01 data data data shift 02 data data data </code></pre>