Perl - Regex escaping failure
<p>Following Perl onliner fails, the regex is ok, though. Something is wrong with the esacping, but I can't finger out what. Can someone help me out? I'm on Linux/Bash.</p> <pre><code>perl -pi -e '(?&lt;=\.zip).*?(hren)|(^\")|(^\r\n|^\n)|(^New).*?(\")|(\,\s)' file </code></pre> <p>This is the error message:</p> <pre><code>Unmatched ) in regex; marked by &lt;-- HERE in m/&lt;=\.zip) &lt;-- HERE .*/ at -e line 1. </code></pre>
<p>As @mpapec pointed out, you forgot to add <code>m//</code> to make the statement into a regex. So why do you get a regex error if it isn't being treated as a regex?</p> <p>Perl thinks you're trying to use the <code>?PATTERN?</code> format for pattern matching, see <a href="http://perldoc.perl.org/perlop.html#?PATTERN?msixpodualgc" rel="nofollow">perlop</a>. It looks at:</p> <pre><code>?&lt;=\.zip).*? </code></pre> <p>Attempts to interpret the bit between <code>?..?</code> as a regex and correctly identifies the unmatched <code>)</code>.</p>