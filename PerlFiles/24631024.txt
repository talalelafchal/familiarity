Perl and hash calculation
<p>When I'm execute this command in terminal</p> <pre><code>echo -n 1 | sha256sum </code></pre> <p>then command output looks as this:</p> <blockquote> <p>6b86b273ff34fce19d6b804eff5a3f5747ada4eaa22f1d49c01e52ddb7875b4b</p> </blockquote> <p>But when I use perl script with this code:</p> <pre><code>#!/usr/bin/perl use strict; use warnings; my $text = '1'; my $hash = Digest::SHA-&gt;sha256_hex($text); print $hash; </code></pre> <p>then script output looks as this:</p> <blockquote> <p>f3a94951713ca935dcac0422747fb3e435cd8c6785c91ff5d9477e573df9ca28</p> </blockquote> <p>I think that problem is with string $text encoding when it goes to hash function. Can someone explain how I must do it correctly?</p>
<p>You can't use <code>Digest::SHA-&gt;sha256_hex(1)</code> because it's actually <code>Digest::SHA::sha256_hex("Digest::SHA", 1)</code>.</p> <p>Use</p> <pre><code> Digest::SHA::sha256_hex(1) </code></pre> <p>or</p> <pre><code> use Digest::SHA qw(sha256_hex); sha256_hex(1); </code></pre> <p>or (OOP-style)</p> <pre><code>Digest::SHA-&gt;new(256)-&gt;add(1)-&gt;hexdigest() </code></pre>