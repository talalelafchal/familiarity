Regular Expression Numeric Range Fails in Perl
<p>My script needs to find a specific linux kernel version using regular expressions - 3.13.0-24-generic.</p> <p>I tried:</p> <pre><code>'((2\.[46])|(3\.[0-99])\.\d[^\/]*?) \(.*@.*\) [#]\d+.*' </code></pre> <p>but it doesn't work. How can I match my kernel version? Why does the regex above fail to match 3.13.0-24-generic?</p> <p>Additional Info Based on Comments: <br /> I am editing a SystemImager UseYourOwnKernel.pm script. The original script checks for either a 2.4 or 2.6 kernel:</p> <pre><code>my $regex = # | kernel version + build machine # `--------------------------------------- '(2\.[46]\.\d[^\/]*?) \(.*@.*\) [#]\d+.*' . </code></pre> <p>3.0,1,2, (i.e. single digit 3.X kernels) work with:</p> <pre><code>'((2\.[46])|(3\.[012])\.\d[^\/]*?) \(.*@.*\) [#]\d+.*' </code></pre> <p>I can get it to match the 3.13 and (3.0, 3.1, 3.2, etc) kernel using:</p> <pre><code>'((2\.[46])|(3\.[012]|3\.13)\.\d[^\/]*?) \(.*@.*\) [#]\d+.*' . </code></pre> <p>I need a numeric range that will match from 3.0 to 3.99 (this should take care of all 3.X releases).</p>
<p>This code might help you:</p> <pre><code>(?:(?:[\d]|[1-9][\d])\.){2}(?:(?:[0-9]|[1-9][0-9])-){2}\w+ </code></pre>
<p>Your regex would be,</p> <pre><code>(?:[0-9]|[1-9][0-9])\.(?:[0-9]|[1-9][0-9])\.(?:[0-9]|[1-9][0-9])-(?:[0-9]|[1-9][0-9])-\w+ </code></pre> <p><a href="http://regex101.com/r/aP7bV1" rel="nofollow">DEMO</a></p> <p><strong>Explanation:</strong></p> <ul> <li><p><code>(?:[0-9]|[1-9][0-9])</code> Matches any number from 0-99.</p></li> <li><p><code>\.</code> A literal dot.</p></li> <li><p><code>-</code> A literal <code>-</code></p></li> </ul> <p><strong>OR</strong></p> <p>A much shorter one,</p> <pre><code>(?:(?:[0-9]|[1-9][0-9])\.){2}(?:(?:[0-9]|[1-9][0-9])-){2}\w+ </code></pre> <p><a href="http://regex101.com/r/yN0pW3" rel="nofollow">DEMO</a></p>