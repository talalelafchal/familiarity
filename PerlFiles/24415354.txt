File handling to delete the contents of the file / Delete the file itelf
<p>I have written a perl script which opens a file, writes content to the file and closes it.</p> <pre><code>open FILE, "&gt;file.txt" or die $!; print FILE $str; close FILE; </code></pre> <p>once the contents are written to the file i need the contents of the file to be deleted or the file itself should be deleted.Is there a way to do it.?</p> <p>I searched online and found out that the following operations can be performed.</p> <pre><code>mode operand create truncate read/write +&lt; read/write +&gt; ✓ ✓ read/append +&gt;&gt; ✓ </code></pre> <p>But i couldn't find any information related to deleting the contents of the file or deleting the file itself. ( Note : I need the file to be deleted after the contents are written to it).</p>
<p>It is better to use lexical file handles and the 3 argument form of open.</p> <p>Instead of</p> <pre><code>open FILE, "&gt;file.txt" or die $!; print FILE $str; close FILE; </code></pre> <p>use</p> <pre><code>open my $fh, "&gt;", "file.txt" or die $!; print $fh $str; close $fh; </code></pre> <p>To delete a file, you can do</p> <pre><code>unlink "file.txt" or warn "Could not delete: $!"; </code></pre> <p><a href="http://perldoc.perl.org/functions/unlink.html" rel="nofollow">http://perldoc.perl.org/functions/unlink.html</a></p>
<p>A couple of people have given you the answer. But here's how you could probably have worked it out for yourself.</p> <ul> <li>The official Perl documentation is at <a href="http://perldoc.perl.org/" rel="nofollow">http://perldoc.perl.org/</a>.</li> <li>The documentation for all of Perl's built-in functions is at <a href="http://perldoc.perl.org/perlfunc.html" rel="nofollow">http://perldoc.perl.org/perlfunc.html</a>.</li> <li>In that document, is a section entitled <a href="http://perldoc.perl.org/perlfunc.html#Perl-Functions-by-Category" rel="nofollow">Perl Functions by Category</a>.</li> <li>That section contains a list of "Functions for filehandles, files, or directories". That contains links to about twenty functions. Even if you don't recognise one that obviously deletes files (I admit that "unlink" is a slightly obscure name) you can easily clink each of those links to read more detail about each function.</li> <li>And when you get to <a href="http://perldoc.perl.org/functions/unlink.html" rel="nofollow">unlink</a> you'll see the description starts "Deletes a list of files". And one files is a (very short!) list of files.</li> </ul>