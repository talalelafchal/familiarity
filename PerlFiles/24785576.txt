Perl: XUL::GUI how to pass variable between javascript and perl
<p>Perl Expert </p> <p>I am trying to use Web::Gui to make an app for my team, but run into a roadblock where I need to pass variable between perl and javascript. </p> <p>My code takes input from a text area, does some processing by perl, and then displays the result by refreshing a via javascript. I saw from the XUL::GUI example on CPAN that perl scripts can be called by “perl()” inside javascript. However that example does not show how to pass the variable between perl and javascript. </p> <p>Could you please point my in right direction? </p> <pre><code>use Web::Gui; display ( CENTER H3( 'Pathe!' ), ( FORM ( TEXTAREA id =&gt; 'myText', rows =&gt; 10, cols =&gt; 50, readonly =&gt; 1, TEXT =&gt; 'disks' ) ( INPUT type =&gt; 'button', value =&gt; 'Search', onclick =&gt; function q{ var text = document.getElementById('myText').innerHTML; perl( "mySub( text )" ); document.getElementById('d').innerHTML = "&lt;b&gt;" + text + "&lt;b/&gt;"; } ) ), ( DIV id =&gt; 'd' ) ); sub mySub { return "$_[0]35"; } </code></pre>
<p>I solved the problem. It is just the perl q and qq function: </p> <pre><code>display ( CENTER H3( 'Pathe!' ), ( FORM ( TEXTAREA id =&gt; 'myText', rows =&gt; 10, cols =&gt; 50, readonly =&gt; 1, TEXT =&gt; 'disks' ), ( INPUT type =&gt; 'button', value =&gt; 'Search', onclick =&gt; \&amp;mySub ) ), ( DIV id =&gt; 'd' ) ); sub mySub { my $input = ID(myText)-&gt;value; $input .= "156"; gui qq{ document.getElementById('d').innerHTML = '&lt;b&gt;' + \'$input\' + '&lt;b/&gt;'; } } </code></pre>