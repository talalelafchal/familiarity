Difference between () and [] in Perl 6
<p>I am learning Perl 6, and had trouble understanding the Perl 6 one-liner below</p> <p>My Perl 6 is <code>rakudo-star: stable 2014.04 (bottled)</code></p> <p>This works fine. The array/list is sorted</p> <pre><code>[njia@mb-125:~] : perl6 -e 'say [2443,5,33, 90, -9, 2, 764].sort' -9 2 5 33 90 764 2443 </code></pre> <p>But this does not sort the array/list, if <code>[].sort</code> works why <code>@s.sort</code> does not?</p> <pre><code>[njia@mb-125:~] : perl6 -e 'my @s = [2443,5,33, 90, -9, 2, 764]; @s.sort.say' 2443 5 33 90 -9 2 764 </code></pre> <p>Change from <code>[]</code> to <code>()</code></p> <pre><code>[njia@mb-125:~] : perl6 -e 'my @s = (2443,5,33,90,-9,2,764); @s.sort.say' -9 2 5 33 90 764 2443 </code></pre> <hr> <blockquote> <p><strong>NOTE</strong> the described behavior in this question has changed in the release version of perl6. See response by <a href="http://stackoverflow.com/a/24328496/2019415">G. Cito</a> below.</p> </blockquote>
<p>For those who may be confused by this answer, the question is about <strong><em>Perl 6</em></strong>, and none of this applies to Perl 5.</p> <p>The statement</p> <pre><code>my @s = [2443, 5, 33, 90, -9, 2, 764] </code></pre> <p>creates an itemised array and assigns it to <code>@s[0]</code>, so <code>@s</code> has only a single element and sorting it is pointless.</p> <p>However you <em>can</em> say</p> <pre><code>@s[0].sort.say </code></pre> <p>which has the effect you expected</p>
<p>I'm going to go out on a limb and refer to some of CPAN's Perl6 documentation where this could be viewed as a <a href="http://search.cpan.org/~lichtkind/Perl6-Doc/lib/Perl6/Doc/Overview/Data.pod#Lists_vs._Arrays" rel="nofollow">list vs. array thing</a> - <em>i.e.</em> a <a href="http://doc.perl6.org/type/Array" rel="nofollow">sequence of values</a> versus a <a href="http://doc.perl6.org/type/Array" rel="nofollow">sequence of itemized values</a> (see <code>doc.perl6.org</code>).</p> <p>Certainly perl6 is different enough that it warrants its own tag but <strong>it is still</strong> <code>perl</code> so it's not surprising that <code>()</code> creates a list and <code>[]</code> creates an anonymous array.</p> <pre><code>&gt; say [2443, 5, 33, 90, -9, 2, 764].WHAT (Array) &gt; say (2443, 5, 33, 90, -9, 2, 764).WHAT (List) </code></pre> <p>Since this question was first asked and answered the behavior has changed:</p> <pre><code>&gt; my @s = [2443, 5, 33, 90, -9, 2, 764] &gt; @s.sort.say (-9 2 5 33 90 764 2443) </code></pre> <p>Note that the output when sorted is a <code>List</code> but otherwise <code>@s</code> is an <code>Array</code>:</p> <pre><code>&gt; @s.sort.WHAT.say (List) &gt; @s.WHAT.say (Array) </code></pre>