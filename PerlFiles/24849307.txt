Date formatting in perl
<p>I have a variable which contain value "20140720". I need to change it to following format "20/07".</p> <p>My code is shown below. </p> <pre><code>#!/usr/bin/perl use strict; use warnings; use Time::Piece; my $date = '20140720'; my $date_format = Time::Piece-&gt;strptime($date, '%d/%m'); my $new_date = $date_format-&gt;strftime('%d/%m'); print $new_date; </code></pre> <p>I get following error during execution. Error parsing time at /usr/lib/perl5/5.10.0/x86_64-linux-thread-multi/Time/Piece.pm line 470.</p>
<p>In this line — <code>Time::Piece-&gt;strptime($date, '%d/%m');</code> — you specified the format that <code>$date</code> is <strong>currently in</strong> incorrectly. The second argument describes how the string should be parsed, not the format you want it to be in (which is what the following line is for).</p> <p>Use <code>'%Y%m%d'</code> instead.</p>
<p>if you don't need further date processing, using a simple regexpr maybe simpler:</p> <pre><code>use strict; use warnings; my $date = '20140720'; my $new_date = $date; $new_date =~ s!\d{4}(\d{2})(\d{2})$!$2/$1!; print $new_date, "\n"; </code></pre>
<p>With fixed string, you should use <code>pack/unpack</code> function:</p> <pre><code>use strict; use warnings; my $date = '20140720'; my (undef, $m, $d) = unpack 'A4A2A2', $date; print "$d/$m"; </code></pre>