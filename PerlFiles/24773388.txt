Regular expression for finding special character between double quotes
<p>i have a csv file with the below format..</p> <pre><code>001,"Craig,betsy",Newyork 002,"sam.nathan",charlotte </code></pre> <p>i need to find the comma inside double quotes in the file.. kindly help me in getting the regular expression in unix or perl..</p> <p>or else to avoid the comma inside double quotes..</p> <p>i need the output file to be like this</p> <p>001|"Craig,betsy"|Newyork</p> <p>002|"sam.nathan"|charlotte.</p> <p>please help with the inputs added..</p>
<p><strong>Perl One-Liner</strong></p> <p>With your input, you can use this:</p> <pre><code>perl -ne 'while(m/"[^",]+\K,(?=[^",]*")/g){print "$&amp;\n";}' yourfile </code></pre>
<p>Here is an <code>awk</code> that will change the filed separator to <code>|</code></p> <pre><code>awk -F, '{for (i=1;i&lt;NF;i++) {c+=gsub(/\"/,"&amp;",$i);printf "%s"(c%2?FS:"|"),$i}print $NF}' t 001|"Craig,betsy"|Newyork 002|"sam.nathan"|charlotte </code></pre> <p>It divides data into group separated by <code>,</code>. Then it count how many <code>"</code> it finds in every field.<br> When number can be divide by two then use <code>|</code>, if not use <code>,</code></p> <hr> <p>If you have <code>gnu awk 4.xxx</code> you can use <code>FPAT</code></p> <pre><code>awk '{for (i=1;i&lt;NF;i++) printf "%s|",$i;print $NF}' FPAT='[^,]+|"[^"]+"' t 001|"Craig,betsy"|Newyork 002|"sam.nathan"|charlotte </code></pre> <p>How does this <code>FPAT='[^,]+|"[^"]+"'</code> work?<br> It define who a field looks like, not what is separator.<br> <code>[^,]+</code> a field is some that does not contain <code>,</code> or<br> <code>"[^"]+"</code> some start with <code>"</code> then characters not equal <code>"</code> and ends with <code>"</code>. Eks <code>"my,data"</code> or <code>"data"</code></p>