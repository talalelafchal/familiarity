Is it possible to call a function within qx?
<p>Here's a bit of Perl code that does what I want:</p> <pre><code> my $value = get_value(); my $result = qx(some-shell-command $value); sub get_value { ... return ... } </code></pre> <p>Is it possible to achieve the same effect without using <code>$value</code>? Something like</p> <pre><code>my $result = qx (some-shell-command . ' '. get_value()); </code></pre> <p>I know why the second approach doesn't work, it's just to demonstrate the idea.</p>
<pre><code>my $result = qx(some-shell-command @{[ get_value() ]}); # or dereferencing single scalar value # (last one from get_value if it returns more than one) my $result = qx(some-shell-command ${ \get_value() }); </code></pre> <p>but I would rather use your first option.</p> <p><em>Explanation:</em> perl arrays interpolate inside <code>""</code>, <code>qx()</code>, etc. </p> <p>Above is array reference <code>[]</code> holding result of function, being dereferenced by <code>@{}</code>, and interpolated inside <code>qx()</code>.</p>
<p>Backticks and <a href="http://perldoc.perl.org/functions/qx.html" rel="nofollow"><code>qx</code></a> are equivalent to the builtin <a href="http://perldoc.perl.org/functions/readpipe.html" rel="nofollow"><code>readpipe</code></a> function, so you could explicitly use that:</p> <pre><code>$result = readpipe("some-shell-command " . get_value()); </code></pre>