Cannot send email in perl
<p>For some reason I cannot send an email in perl. I checked my env path and sendmail path everything is correct. But I am not receiving the email.I am not entirely sure if I am missing something.</p> <pre><code>#!/usr/bin/perl -wT use CGI qw(:standard); use CGI::Carp qw(warningsToBrowser fatalsToBrowser); use strict; print header; print start_html("Results"); $ENV{PATH} = "/usr/sbin" ; open (MAIL, "|/usr/sbin/sendmail -oi -t") or &amp;dienice("Can't fork for sendmail: $!\n"); my $recipient = "myusername\@gmail.com"; print MAIL "To: $recipient\n"; print MAIL "From: nobody\@cgi101.com\n" ; print MAIL "Subject: Form Data\n\n"; foreach my $p (param()) { print MAIL "$p = ", param($p), "\n"; } close(MAIL); print &lt;&lt;EndHTML; &lt;h2&gt;Thank You&lt;/h2&gt; &lt;p&gt;Thank you for writing!&lt;/p&gt; &lt;p&gt;Return to our &lt;a href="index.html"&gt;home page&lt;/a&gt;.&lt;/p&gt; EndHTML print end_html; </code></pre>
<p>It's extremely hard to tell what the issue might be. I'm assuming mail works normally from the command prompt?</p> <p>That said, have you tried MIME::Lite?</p> <pre><code>use MIME::Lite; my $body = &lt;&lt;EndHTML; &lt;h2&gt;Thank You&lt;/h2&gt; &lt;p&gt;Thank you for writing!&lt;/p&gt; &lt;p&gt;Return to our &lt;a href="index.html"&gt;home page&lt;/a&gt;.&lt;/p&gt; EndHTML my $msg = MIME::Lite-&gt;new( Type =&gt; 'text/html', From =&gt; 'nobody@cgi101.com', To =&gt; 'myusername@gmail.com', Subject =&gt; 'Form Data', Data =&gt; $body ); $msg-&gt;send; </code></pre>
<p>Impossible to give much help without knowing what errors you are getting. But it's 2014 and we can probably do a little better than talking directly to sendmail to send an email.</p> <p>For email handling, you should probably be looking in the Email::* namespace on CPAN. In particular, <a href="https://metacpan.org/pod/Email%3a%3aSender" rel="nofollow">Email::Sender</a> is the recommended approach for sending email.</p>