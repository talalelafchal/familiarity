Implement Coverage Test in Jenkins
<p>I'm totally stuck here with Jenkins. I'm trying to implement a Coverage Report to see the code coverage for my perl project. To do this I'm trying to generate the reports via the build system. </p> <p>So my guess here is that i first need to prepare the build system which i do in the execute shell with the command: </p> <pre><code>/home/my_user_id/perl5/lib/perl5 Build.PL </code></pre> <p>After this command I go with:</p> <pre><code>./Build testcover </code></pre> <p>And at the end I utilize the HTML Publisher Plugin to access the HTML files.</p> <p>The problem is here that I'm not certain if this is the correct way to go. My build always crashes and in the Console Output it says:</p> <pre><code> /home/eramatt/perl5/lib/perl5: No such file or directory Build step 'Execute shell' marked build as failure </code></pre> <p>I also do not get any Icon for the coverage report at the start of the project. I get this error message in the Console Output:</p> <pre><code>ERROR: Directory '/proj/.../cover_db' exists but failed copying to '/proj/.../htmlreports/Coverage_Report'. </code></pre> <p>I have searched google for answers but none have worked for me. Trying out my luck here if there is any of you who have any hints/tips for me. As you might have noticed this is my first time using Jenkins.</p> <p>Thanks in advance</p>
<p>You can try <a href="http://search.cpan.org/~pjcj/Devel-Cover-1.15/lib/Devel/Cover.pm" rel="nofollow noreferrer">Devel::Cover</a> which installs a perl utility called <code>cover</code></p> <p>Then in your jenkins script do something like this</p> <pre><code>cover -test -report clover cover -report html #seems the file needs renaming for the cover plugin to see it mv cover_db/coverage.html cover_db/index.html </code></pre> <p>And in Jenkins use the <a href="https://wiki.jenkins-ci.org/display/JENKINS/Clover+Plugin" rel="nofollow noreferrer">Clover Plugin</a> </p> <p><img src="https://i.stack.imgur.com/5lYCo.png" alt="enter image description here"></p> <p>And the HTML report as you have been <img src="https://i.stack.imgur.com/nwLgi.png" alt="enter image description here"></p> <p>I'm not sure why your copy of perl is in your user directory but you need to make sure that it is available to the jenkins user as well as your own user</p>