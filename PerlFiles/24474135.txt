Perl: STDIN go wierd if a child process terminate during handling $SIG{CHLD} in the parent
<p>In this code, this parent process forks 5 child and then echos STDIN to STDOUT in an infinite loop. But after 2 children processes terminate at the same time, reading from STDIN always returns immediately. It looks like it turns to non-blocking, but I guess not. Please someone tell me what's wrong?!</p> <pre><code>$SIG{CHLD} = sub{print "child is dead\n"}; for my $i(1..5) { if(!fork){ $SIG{CHLD} = "DEFAULT"; sleep 5; exit(0); } } while(1){ my $line = &lt;&gt;; print "$$:". $line ."\n"; } </code></pre>