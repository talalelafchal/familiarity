perl code for counting number of words in text file
<p>I have written a code for counting number of words in a text file along with number of lines. but now I want the the output to display number of words in each file. for instance, if the input file is</p> <pre><code>hello there- 2 i am one of those-5 </code></pre> <p>my code till now is </p> <pre><code>open FILE, "&lt;editnlp.txt" or die "Cannot read $filename: $!\n"; $lines = 0; $words = 0; $letters = 0; while ( $line = &lt;FILE&gt; ) { @words = split( " ", $line ); $nwords = @words; for ( $i = 0 ; $i &lt; $nwords ; $i = $i + 1 ) { @letters = split( "", $words[$i] ); $nletters = @letters; $letters = $letters + $nletters; } $words = $words + $nwords; $lines = $lines + 1; } print "$filename contains $lines lines, $words words " . "and $letters letters.\n"; </code></pre> <p>Its working well for counting number of words in entire text file but am not able to edit it to count total number of words in each line.</p>
<p>Or use "wc" it functions similarly to the unix command by the same name. </p> <p>see <a href="http://perlmaven.com/count-words-in-text-using-perl" rel="nofollow">This</a></p>
<pre><code>#!/usr/bin/perl sub linux_style_count { $filename = shift; $lines = `wc -l &lt; $filename`; $words = `wc -w &lt; $filename`; $chars = `wc -c &lt; $filename`; print "\nFile $filename contains"; print "\nNumber of Lines = $lines"; print "Number of Words = $words"; print "Number of Chars = $chars\n"; } sub perl_style_count { $filename = shift; open(FILE, "&lt;$filename") or die "Could not open file: $!"; my ($lines, $words, $chars) = (0,0,0); while (&lt;FILE&gt;) { $lines++; $chars += length($_); $words += scalar(split(/\s+/, $_)); } print "\nFile $filename contains"; print "\nNumber of Lines = " . $lines; print "\nNumber of Words = " . $words; print "\nNumber of Chars = " . $chars . "\n"; } @files = &lt;*&gt;; foreach $file (@files) { if (-f $file) { &amp;linux_style_count($file); &amp;perl_style_count($file); } } </code></pre> <p><strong>OUTPUT</strong></p> <pre><code>[root@localhost /]# perl count.pl File mytext.txt contains Number of Lines = 9 Number of Words = 22 Number of Chars = 214 File mytext.txt contains Number of Lines = 9 Number of Words = 22 Number of Chars = 214 File hello.txt contains Number of Lines = 41 Number of Words = 127 Number of Chars = 888 File hello.txt contains Number of Lines = 41 Number of Words = 127 Number of Chars = 888 File config.ini contains Number of Lines = 32 Number of Words = 58 Number of Chars = 538 File config.ini contains Number of Lines = 32 Number of Words = 58 Number of Chars = 538 </code></pre>
<p>You may try this code. It will print number of words for each line and finally after completion of whole file it will print the total number of words and total number of lines in the file.</p> <pre><code># Counting number of words in a files open(DATA, "+&lt;file1.txt") or die "Couldn't open file file1.txt, $!"; $lines = 0; $words = 0; $nwords = 0; $total = 0; print "\n"; while ( $line = &lt;DATA&gt; ) { $lines=$lines+1; @words = split( " ", $line ); $nwords = @words; print "Number of words on the line $lines are : $nwords \n"; $total = $total+$nwords; } print "\nTotal no. of words in file are $total \n"; print "\nTotal no. of lines in file are $lines \n"; </code></pre> <p>output will look something as below.</p> <pre><code>Number of words on the line 1 are : 10 Number of words on the line 2 are : 5 Number of words on the line 3 are : 0 Number of words on the line 4 are : 8 Number of words on the line 5 are : 0 Number of words on the line 6 are : 0 Number of words on the line 7 are : 10 Number of words on the line 8 are : 0 Number of words on the line 9 are : 0 Number of words on the line 10 are : 0 Number of words on the line 11 are : 0 Number of words on the line 12 are : 0 Number of words on the line 13 are : 10 Number of words on the line 14 are : 7 Number of words on the line 15 are : 0 Number of words on the line 16 are : 8 Total no. of words in file are 58 Total no. of lines in file are 16 </code></pre>