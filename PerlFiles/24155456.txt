Compare Two Arrays using Grep in perl
<p>I have two array of hashes.They are as below</p> <pre><code>my $arr1 =[{'mid_id' =&gt; '1'},{'mid_id' =&gt; '2'},{'mid_id' =&gt; '5'} ]; my $arr2 = [{'name' =&gt; 'Name1','id' =&gt; '1'},{'name' =&gt; 'Name2','id' =&gt; '2'},{'name' =&gt; 'Name6','id' =&gt; '6'}]; </code></pre> <p>Now i want to get the name from the second array whose id matches two the first array. I have tried by this way but i want to make this code more better is there any way to do this</p> <pre><code>foreach my $a1(@$arr1){ foreach (@$arr2){ if($_-&gt;{id} eq $a1-&gt;{mid_id}){ print "$_-&gt;{id} mapped to $_-&gt;{name} \n"; } else{ print "no match $_-&gt;{id} \n"; } } </code></pre>
<p>You could use <code>grep</code> like the following. The only trick is that you need to test if you actually found a match:</p> <pre><code>use strict; use warnings; my @array = ( { 'mid_id' =&gt; '1' }, { 'mid_id' =&gt; '2' }, { 'mid_id' =&gt; '5' }, }; my @recs = ( { 'name' =&gt; 'Name2', 'id' =&gt; '1' }, { 'name' =&gt; 'Name', 'id' =&gt; '2' }, { 'name' =&gt; 'VP', 'id' =&gt; '3' }, ); for my $hash (@array){ my ($rec) = grep {$hash-&gt;{mid_id} eq $_-&gt;{id}} @recs; print "$hash-&gt;{mid_id} mapped to " . ($rec ? $rec-&gt;{name} : "&lt;No Match&gt;") . "\n"; } </code></pre> <p>Outputs:</p> <pre><code>1 mapped to Name2 2 mapped to Name 5 mapped to &lt;No Match&gt; </code></pre>