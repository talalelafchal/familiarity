How to use SFTP command in perl?
<p>I writing a script that able to connect to SFTP and put and get files to the SFTP or local system. If I manually key in this few commands as below, it able to connect to SFTP, get and put files. But how can I do this with using perl script?</p> <pre><code>&gt;sftpg3 user@host &gt;get hk_test.txt &gt;put hk.txt </code></pre> <p>With some research I found below code.</p> <pre><code>`sftpg3 user@host`; </code></pre> <p>Above code allow me to get into the SFTP but it will not continue read other lines of code. It will stuck there until we manually close the cmd or type in the command <code>bye</code>. After type in command <code>bye</code>, it will only read other lines of code. Why is this happening?</p> <p>My current code:</p> <pre><code>`sftpg3 user@host`; `get hk_test.txt`; `put hk.txt`; </code></pre> <p>Expected Result:</p> <p>Able to run the three commands which are connect to SFTP, get and put files.</p>
<p>Here is the answer that how I solve the problem I met. Thanks!</p> <pre><code> if ( open(SENDFILE,"&gt;$sendFile") ) { print SENDFILE "get hk_test.txt\n"; print SENDFILE "put hk.txt\n"; print SENDFILE "quit\n"; } close (SENDFILE); `sftpg3 -q -B $sendFile user\@host`; </code></pre>